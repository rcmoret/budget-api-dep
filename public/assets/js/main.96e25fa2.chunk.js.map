{"version":3,"sources":["reducers/helpers/shared.js","models/transaction.js","reducers/accounts.js","components/Api/reducer.js","models/discretionary.js","models/monthlyBudgetItem.js","models/weeklyBudgetItem.js","reducers/helpers/budgetHelpers.js","reducers/budget.js","reducers/icons.js","functions/FindOrDefault.js","components/Messages/reducer.js","functions/DateFormatter.js","reducers/helpers/transactionHelpers.js","reducers/transactions.js","reducers/transfers.js","store.js","reducers/helpers/setupHelpers.js","components/Accounts/actions.js","constants/Api.js","functions/ApiUrlBuilder.js","components/Messages/actions.js","components/Api/actions.js","functions/ApiClient.js","locales/overrides/copy.js","locales/terms.js","locales/en/terms.js","locales/overrides/terms.js","locales/copy.js","locales/en/account.js","locales/en/budget.js","locales/en/errors.js","locales/en/transfer.js","locales/en/transaction.js","locales/functions.js","components/Accounts/TransfersLink.js","components/Accounts/ManageButton.js","actions/transactions.js","components/Icons/Icon.js","functions/MoneyFormatter.js","functions/EventMessageBuilder.js","components/Transactions/Form/BudgetExclusion.js","components/Transactions/Form/CheckNumber.js","components/Transactions/Form/ClearanceDate.js","components/Transactions/Form/Descriptions.js","functions/DynamicInputEvaluator.js","components/Transactions/Form/DetailAmount.js","components/Transactions/Form/DetailBudgetItemSelect.js","components/Transactions/Form/Details.js","components/Transactions/Form/Notes.js","components/Transactions/Form/OptionIcons.js","components/Transactions/Form/Receipt.js","components/Transactions/Form/Submit.js","components/Transactions/Form/Form.js","components/Transactions/New.js","components/Transactions/AddTransaction.js","components/Transactions/Show/Amount.js","components/Transactions/Show/Balance.js","components/Transactions/Show/Icons.js","components/Transactions/Show/CheckNumber.js","components/Transactions/Show/Notes.js","components/Transactions/Show/BottomRow.js","components/Transactions/Show/BudgetCategories.js","components/Transactions/Show/BudgetExclusion.js","components/Transactions/Show/ClearanceDate.js","components/Transactions/Show/Description.js","components/Transactions/Edit.js","components/Transactions/Show/EditLink.js","components/Transactions/Show/DeleteButton.js","components/Transactions/Show/EndLinks.js","components/Transactions/Show/LeftIcon.js","components/Transactions/Show/TxnLinks.js","components/Transactions/Show/Show.js","components/Transactions/Transactions.js","components/Transactions/Wrapper.js","components/Accounts/Details.js","components/Accounts/Tab.js","components/Accounts/Tabs.js","components/Accounts/Wrapper.js","components/Accounts/Form/Form.js","components/Accounts/New.js","components/Accounts/Edit.js","components/Accounts/Show.js","components/Accounts/Index.js","actions/budget/categories.js","components/Budget/Categories/Show.js","components/Budget/actions/finalize.js","components/Budget/Finalize/Header.js","components/Budget/Finalize/Index.js","actions/budget.js","components/Errors/Errors.js","components/Budget/Finalize/AccrualShow.js","components/Budget/Finalize/Summary.js","functions/Delay.js","components/Budget/Finalize/UpdateAccruals.js","components/Budget/Finalize/Accruals.js","components/Budget/Finalize/Submit.js","components/Budget/Finalize/Finish.js","components/Budget/Finalize/Items/AmountForExtra.js","components/Budget/Finalize/Items/ApplyToExtra.js","components/Budget/Finalize/Items/NextMonthItem.js","components/Budget/Finalize/Items/Submit.js","components/Budget/Finalize/Items/Total.js","components/Budget/Finalize/MonthlyItem.js","components/Budget/Finalize/WeeklyItem.js","components/Budget/Finalize/Items.js","components/Budget/Home.js","components/Budget/Info.js","components/Budget/SetUpButton.js","components/Budget/Menu.js","components/Budget/Items/GroupHeader.js","components/Budget/Items/ClearedItems.js","components/Budget/Shared/DeleteButton.js","components/Budget/Items/MonthlyAmountInput.js","components/Budget/Items/MonthlyAmount.js","components/Budget/Items/MonthlyItem.js","components/Budget/Items/MonthlyGroup.js","components/Budget/Items/MonthlyItemForm.js","components/Budget/Items/MonthlyHeader.js","components/Budget/Items/MonthlyItems.js","components/Budget/Discretionary/Amount.js","components/Budget/Shared/Caret.js","components/Budget/Discretionary/DetailAmounts.js","components/Budget/Discretionary/DetailLabels.js","components/Budget/Shared/Details.js","components/Budget/Shared/Header.js","components/Budget/Shared/Transaction.js","components/Budget/Shared/Transactions.js","components/Budget/Discretionary/DiscretionaryDetail.js","components/Budget/Discretionary/Discretionary.js","components/Budget/Items/WeeklyItemForm.js","components/Budget/Items/WeeklyHeader.js","components/Budget/Items/WeeklyAmountInput.js","components/Budget/Items/WeeklyAmountContainer.js","components/Budget/Items/WeeklyAmount.js","components/Budget/Items/WeeklyAmountDetails.js","components/Budget/Shared/Events.js","components/Budget/Items/WeeklyDetail.js","components/Budget/Items/WeeklyDetailLabels.js","components/Budget/Items/WeeklyItem.js","components/Budget/Items/WeeklyGroup.js","components/Budget/Items/WeeklyItems.js","components/Budget/Index.js","actions/budget/setup.js","components/Budget/SetUp/Discretionary.js","components/Budget/SetUp/Items.js","components/Budget/SetUp/Accruals.js","components/Budget/SetUp/ReviewItem.js","components/Budget/SetUp/PreviousMonth.js","components/Budget/SetUp/Expenses.js","components/Budget/SetUp/Finalize.js","components/Budget/SetUp/Introduction.js","components/Budget/SetUp/Revenues.js","components/Icons/actions.js","components/Budget/Categories/Filters.js","components/Budget/Categories/Header.js","components/Budget/Categories/Form/CancelButton.js","components/Budget/Categories/Form/IconSelect.js","components/Budget/Categories/Form/Form.js","components/Budget/Categories/New.js","components/Budget/Categories/Edit.js","components/Budget/Categories/MaturityIntervals/Form.js","components/Budget/Categories/MaturityIntervals/New.js","components/Budget/Categories/MaturityIntervals/Edit.js","components/Budget/Categories/MaturityIntervals/Show.js","components/Budget/Categories/MaturityIntervals/Info.js","functions/GroupBy.js","components/Budget/Categories/Row.js","components/Budget/Categories/Index.js","components/Key/Form.js","components/Messages/Errors.js","components/Messages/Banner.js","components/Messages/Events.js","components/Header.js","components/Icons/Form/CancelButton.js","components/Icons/Form/ResetButton.js","components/Icons/Form/Form.js","components/Icons/New.js","components/Icons/Edit.js","components/Icons/Show.js","components/Icons/Index.js","components/Transfers/actions.js","components/Transfers/NewTransfer.js","components/Transfers/PaginationLinks.js","components/Transfers/DeleteButton.js","components/Transfers/Transfer.js","components/Transfers/Index.js","serviceWorker.js","index.js","App.js"],"names":["updateItemInCollection","_ref","updatedItem","collection","save","map","item","id","Object","objectSpread","originalProps","update","payload","obj","updated","updatedProps","errors","updateProps","models_transaction","transaction","formOverrides","arguments","length","undefined","budget_exclusion","check_number","details","notes","amount","reduce","sum","detail","showBudgetExclusion","showCheck","showNotes","formOptions","defaultFormOptions","_id","showReceipt","initialState","accountsFetched","showNewForm","newAccount","cash_flow","name","slug","priority","updateBalance","account_id","acct","balance","updateAfterTransferCreate","from_transaction","to_transaction","objectifyTransaction","updateAfterTransferDelete","from_account_id","to_account_id","key","keyFormInput","status","models_discretionary","spent","remainingBudgeted","acc","remaining","overUnderBudgetAmount","total_remaining","monthlyBudgetItem","attributes","accrual","expense","maturity_month","maturity_year","month","year","difference","deletable","transaction_count","overUnderBudget","matureAccrual","isCleared","weeklyBudgetItem","transactions_count","floatAmount","parseFloat","toFixed","Math","min","max","events","setUpIndex","state","metadata","items","monthly","objectifyMonthly","objectifyWeekly","discretionary","objectifyDiscretionary","filter","weekly","itemsFetched","updateMonthlyItem","setup","originalItem","find","_item","newCollection","concat","toConsumableArray","newMonth","isFetched","baseMonth","updateWeeklyItem","finalizeItemsCollection","calculateDiscretionary","remainingFor","initialNewCategory","default_amount","showForm","icon_id","today","Date","days_remaining","total_days","categories","fetched","filters","value","show","dataCachedAt","transactions","itemViews","dateRange","beginning_month","begining_year","ending_month","ending_year","newItem","budget_category_id","newCategory","getMonth","getFullYear","is_closed_out","is_set_up","menuOptions","showAccruals","showCleared","sortOrder","finalize","next","extra","selectedFromAccountId","selectedToAccountId","reviewed","set_up_completed_at","selectedOption","maturityIntervals","newIcon","class_name","FindOrDefault","array","findFn","fallbackValue","result","type","messages","requests","showEvents","emptyErrorObject","updateErrors","keysFromState","err","keys","Set","error","findOrDefault","payloadError","hasOwnProperty","errorTypeMessages","defineProperty","removeErrors","errorMessage","e","formatted","day","format","monthString","mo","parseInt","short","long","MonthDictionary","join","fromDateString","dateString","opts","dateElements","split","nextMonth","_ref2","prevMonth","_ref3","isInRange","onOrAfter","onOrBefore","targetString","object","target","before","simpleObject","dateObject","getDate","date","isToday","JSON","stringify","createTransaction","clearance_date","include_pending","query_options","_state$metadata","prior_balance","date_range","inRange","newTxn","newPrior","budgetItems","editDetailProps","txn","newProps","isBudgetInclusion","detailId","isTarget","budget_item_id","editNew","editedNew","removeDetail","transactionId","_state$metadata2","updatedTransaction","_state$metadata3","updatedCollection","emptyDetail","disabled","new","description","receipt","initialNew","limit","offset","currentPage","viewing","total","fetchedTransfers","newTransfer","objectifyTransfer","transfer","store","createStore","combineReducers","accounts","action","originalAmount","api","budget","category","isNew","showMaturityIntervalForm","newMaturityIntervalAttributes","maturityInterval","maturityIntervalsFetched","interval","mi","item_views","Helpers","selected","includes","fetchedTransactions","objectifiedItem","currentItem","newMonthly","newWeekly","isReady","markedForExclusion","exclude","submitted","icons","icon","helpers","txnId","index","showFormAttribute","_state$new","itemIdFor","updatedDetails","n","selectedAccountId","toTransaction","fromTransaction","toAccountId","fromAccountId","transferId","transfer_id","transfers","window","__REDUX_DEVTOOLS_EXTENSION__","dispatch","getState","resetAccount","toggleShowNewForm","updateNew","API_URL","pathTo","route","options","budgetCategoryId","accountId","ApiUrlBuilder","query","path","queryParams","entries","arr","queryString","addEvent","event","removeErrorMessage","apiStatusUpdated","defaultOnFailure","data","body","url","requestBody","get","onSuccess","onFailure","context","verb","fetch","then","response","responseHandler","deleteRequest","method","post","call","put","headers","Accept","Content-Type","json","ok","text","overrides","terms","apiKey","appName","account","cancelButtonText","cashFlow","createButtonText","deleteButtonText","deleteConfirmationMessage","manageLinkText","nonCashFlow","resetButtonText","slugLabel","transferLinkText","updateButtonText","accruals","accruing","addNew","all","closeButtonText","combinedEvents","defaultAmount","deleteConfirmMessage","editSlashDelete","expenses","frequency","revenue","revenues","searchLabelText","searchPlaceholder","title","viewingInterals","beginning","ending","budgetCategory","aheadOfBudget","overBudget","eventLabels","item_create","item_adjust","item_delete","legacy_item_create","pre_setup_item_create","rollover_item_adjust","rollover_item_create","setup_item_adjust","setup_item_create","appliedToExtra","applyToExtra","budgetedFor","carryOver","carryOverFrom","createItem","depositExtra","depositMessage","disregard","exceedsOriginalAmount","negativeRevenueErrorMessage","positiveExpenseErrorMessage","remainingIn","revealNextItems","itemCount","rollOver","selectFromAccount","selectToAccount","submitAccrualButtonText","summary","updatedAmountFor","className","preview","budgeted","cleared","perDay","perWeek","label","menu","hide","finalizeLinkText","order","setUpLinkText","additional","accrualButtonText","accruingExpenses","alreadyIncluded","amountToInclude","howMuchToInclude","newMonthString","howMuchAdditional","ignore","include","nOfTotal","number","count","markCompleteText","requeue","shared","deposited","in","minus","plus","ellipsis","first","from","last","previous","iOfN","range","to","addDetail","addNewButtonText","budgetExclusion","check","checkNumberPlaceholder","clearanceDate","start","end","deleteDetailConfirmationMessage","pending","todayButtonText","termsContent","upperCase","titleize","string","capLocked","word","charAt","toUpperCase","slice","toLowerCase","TransfersLink","react_default","a","createElement","Link","accountCopy","ManageButton","copy","created","edit","resetNew","toggleEditForm","Icon","props","icon_class_name","decimalToInt","round","MoneyFormatter","absolute","toFloat","num","abs","replace","eventMapper","eventType","accountCreate","accountDelete","accountUpdate","budgetCategoryCreate","budgetCategoryDelete","budgetCategoryMaturityIntervalCreate","budgetCategoryMaturityIntervalDelete","budgetCategoryUpdate","budgetItemCreate","budgetItemDelete","budgetItemUpdate","iconCreate","iconDelete","iconUpdate","intervalClosed","intervalMarkComplete","maturityIntervalUpdate","transactionDetailDelete","transactionEntryCreate","transactionEntryDelete","transactionEntryUpdate","transferCreate","transferDelete","Error","changedProps","changedStrings","_ref4","message","_ref5","_ref6","_ref7","_ref8","categoryId","_ref9","_ref10","_ref11","newAmount","_ref12","_ref13","_ref14","_ref15","closeOutCompletedAt","_ref16","_ref17","_ref18","budgetItemId","entryId","detailTemplate","_ref19","budget_category","_ref20","_ref21","accountName","_ref22","_ref23","_ref24","fromAccount","toAccount","_ref25","_ref26","originalValue","updatedValue","tuple","EventMessageBuilder","Form_BudgetExclusion","onChange","selectedAccount","toggleFormOption","onClick","checked","CheckNumber","placeholder","connect","ownProps","_state$transactions$m","openToDate","react_datepicker_es","assign","val","parsed","str","_year$month$day","fromDateTimeObject","toLocaleString","placeholderText","todayButton","Descriptions","handleKeyDown","onKeyDown","equationRegexp","operate","operator","num1","num2","evaluateInput","inputAmount","match","DetailAmount","onDetailChange","EvaluateInput","DetailBudgetItemSelect","option","react_select_esm","isDisabled","classNamePrefix","Details","detailCount","nullFn","initialDetail","detailCollection","indexFor","isLastDetail","Details_AddDetail","AddDetail","tabIndex","Notes","OptionIcons","OptionIcons_NoteIcon","OptionIcons_CheckIcon","OptionIcons_BudgetExclusionIcon","OptionIcons_ReceiptIcon","BudgetExclusionIcon","OptionIcons_OptionIcon","highlighted","iconClassName","showOption","CheckIcon","checkNumber","NoteIcon","ReceiptIcon","OptionIcon","Receipt","file","files","Submit","buttonText","onSubmit","Form_Form","budgetOptions","resetForm","Form_ClearanceDate","labelFor","itemOptions","sort","b","_transaction$formOpti","objectify","closeForm","preventDefault","details_attributes","adjusted","Transactions_New","Icons_Icon","Show_Amount","showDetail","Amount_Detail","Detail","Balance","BudgetCategoryIcons","emptyDescription","Icons_SpaceSpan","NotesIcon","SpaceSpan","Show_CheckNumber","Show_Notes","note","Notes_Note","Note","BottomRow","BottomRow_TransactionInfo","BottomRow_TransactionBalance","TransactionInfo","Icons_BudgetCategoryIcons","BottomRow_BudgetExclusion","exclusion","Icons_NotesIcon","Icons_CheckIcon","BudgetExclusion","TransactionBalance","Show_BudgetCategories","Show_BudgetExclusion","Show_ClearanceDate","longDate","DateFormatter","shortDate","ClearanceDate_ShortDateSpan","ShortDateSpan","Show_Description","collapseDetail","expandDetail","budgetDetails","Description_Description","Description_BudgetItemDetails","Description","Description_DetailsMap","DetailsMap","BudgetItemDetails","displayableDetails","budgetCopy","which","editProps","confirmation","confirm","_destroy","optionName","_state","Show_DeleteButton","EndLinks","revealForm","transactionDelete","Show_EditLink","LeftIcon","TxnLinks","Transactions_Edit","_state$transactions","startDate","endDate","getTime","getTimezoneOffset","toISOString","orderedTransactions","initialTransaction","collectionWithBalance","nextMonthUrl","prevMonthUrl","Transactions_Show_Show","Transactions_AddTransaction","isApiUnauthorized","urlAccountId","urlMonth","urlYear","Number","isInteger","isNewMonthYear","isTransctionCacheStale","isBudgetCacheStale","fetchTransactions","fetchBudgetItems","components_Transactions_Transactions","Accounts_Details","Details_AdminLinks","Transactions_Wrapper","AdminLinks","Accounts_Tab","Tabs","params","dateParams","Redirect","Accounts_Form_Form","updateAccountProps","updateCashFlow","submitForm","formProps","Accounts_Edit","_state$accounts","Accounts_Show","Accounts_New","categoriesFetched","reset","toggleMaturityIntervalEditForm","toggleNewForm","Event","Show_TransactionEvent","Show_BudgetItemEvent","TransactionEvent","created_at","account_name","BudgetItemEvent","Spinner","stateCategory","cat","isCacheValid","transactionsAndEvents","selectedCategoryId","selectedCategory","_copy$category","beginningMonth","beginning_year","endingMonth","Show_Spinner","Show_Event","addFinalizeItem","editBaseAmount","markIntervalClosed","markSelected","setStatus","updateExtra","updateFinalizeItem","updateSelectedFromAccountId","updateSelectedToAccountId","Finalize_Header","baseYear","baseMonthFetched","nextMonthFetched","baseMonthFinalized","_finalize$baseMonth","nextYear","isEndOfMonth","es_Redirect","addMonthlyItem","addWeeklyItem","editMonthlyItem","editNewMonthlyItem","editNewWeeklyItem","editWeeklyItem","toggleDiscretionaryDetail","toggleMonthlyItemForm","toggleWeeklyItemForm","Errors","i","Errors_Error","AccrualShow","wrapper","baseItem","floatRemaining","_updateExtra","applied","AccrualShow_NextMonthItem","nextItem","AccrualShow_Total","AccrualShow_Indicator","NextMonthItem","AccrualShow_MissingItem","Total","MissingItem","Indicator","klass","Summary","Summary_ExtraItem","ExtraItem","Delay","ms","Promise","resolve","setTimeout","UpdateAccruals","submit","event_type","amountFor","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","wrap","_context","prev","Symbol","iterator","done","delay","t0","return","finish","stop","this","apply","nextMonthCollection","reviewCount","Finalize_Submit","totalExtra","updateInterval","close_out_completed_at","createFromTransaction","callback","createToTransaction","AccountSelect","actionFn","isSearchable","fromOptions","fromValue","toOptions","toValue","absoulte","Finish_AccountSelect","acctFetched","AmountForExtra","ApplyToExtra","Items_NextMonthItem","nextMonthString","Items_Submit","markReviewed","updateItem","adjustedTotal","Items_Total","Finalize_MonthlyItem","nextItems","baseMonthString","errorMessages","push","MonthlyItem_NextMonthTotal","MonthlyItem_NextMonthItemSelect","baseItemId","showNextItems","NextMonthTotal","NextMonthItemSelect","selectedItem","MonthlyItem_NextItemRadio","NextItemRadio","Finalize_WeeklyItem","Item","Items_Item","_state$budget$metadat","SetUpButton","isFuture","requiresSetUp","dateFormatter","Menu_MenuLink","linkCopy","Title","Links","requiresCloseOut","newSortOrder","Menu_FinalizeButton","iconCopy","MenuLink","FinalizeButton","Menu_Title","Menu_Links","GroupHeader","ClearedGroup","ClearedItems_ClearedItem","ClearedItem","_copy$shared","sortByAmount","sortByName","sortFn","ClearedItems_ClearedGroup","Shared_DeleteButton","deleteItem","saveChange","autcomplete","autoFocus","Items_MonthlyAmountInput","MonthlyAmount","formatter","MonthlyGroup","Items_MonthlyItem","c","onSave","size","divClassName","Items_MonthlyItemForm","accrualFilter","Items_MonthlyHeader","Items_ClearedItems","Discretionary_Amount","Caret","DetailAmounts","overUnderOperator","spentDepositedOperator","DetailLabels","descriptor","spentOrDeposited","Shared_Details","budgetedPerDay","budgetedPerWeek","remainingPerDay","remainingPerWeek","Shared_Header","Transaction","displayDescription","DateHelpers","Transactions","Shared_Transaction","floor","Shared_Transactions","_copy$discretionary","Shared_Caret","Discretionary_DiscretionaryDetail","currentCategoryIds","Items_WeeklyItemForm","Items_WeeklyAmountInput","WeeklyAmountContainer","WeeklyAmountDetails","diffOperator","budgetedAmount","budget_item_event_type","eventName","prevAmount","remainingString","budgetedString","Events_Atom","prevRemaining","Atom","Events","isTransaction","Events_Transaction","Events_Event","eventsWithBalance","Shared_Events","WeeklyDetailLabels","daysRemaining","totalDays","Items_WeeklyAmount","Items_WeeklyDetail","WeeklyGroup","Items_WeeklyItem","aDiff","bDiff","Items_WeeklyHeader","Budget_Discretionary_Discretionary","Items_WeeklyGroup","isCurrent","categoresWereFetched","Budget_Info","Items_WeeklyItems","Items_MonthlyItems","Budget_Menu","addItem","markForInclusion","SetUp_Discretionary","budget_cateogry_id","SetUp_Items_Item","SubmitButton","submitAccruals","itemState","Accruals_Button","handleClick","iconClass","spanClass","Button","paramMonth","paramYear","_state$budget$setup$n","findCategory","prevMonthString","Accruals_Item","Accruals_SubmitButton","SetUp_Items","Header","dayToDayItem","_copy$setup2","Option","hidden","ConfirmationButton","_state$budget$setup","_copy$setup","adverb","adjective","ReviewItem_Header","ReviewItem_Option","ReviewItem_ConfirmationButton","updatedAmount","ReviewItem_Total","requeuedAt","now","Review","redirect","SetUp_ReviewItem","fullCollection","reviewItem","shift","indexOf","PreviousMonth_Review","PreviousMonth_Item","SetUp_PreviousMonth","setUpCompletedAt","targetMonth","targetYear","_state$budget$categor","showFilters","appliedFilters","adjectiveFilter","adverbFilter","searchFilter","funnelClass","setFilter","setAdjectiveFilter","setAdverbFilter","Categories_Header","cancelLabel","iconOptions","iconId","Categories_Form_Form","Form_CategoryInput","Form_Option","optionsDisabled","monthlyName","expenseName","Form_IconSelect","onSelectChange","Form_CancelButton","CategoryInput","existingMessages","createdAction","toString","MaturityIntervals_Form","cancel","MaturityIntervals_New","updateNewMaturityInterval","MaturityIntervals_Edit","category_id","editMaturityInterval","MaturityIntervals_Show","DateFunctions","MaturityIntervalByYear","showMaturityIntervals","groupedIntervals","v","_collection$push","intervalsByYear","Info_MaturityIntervalByYear","Categories_Edit","MaturityIntervals_Info","searchTerm","iconsFetched","expression","RegExp","strictExp","looseExp","Categories_Filters","Categories_New","Categories_Row","Messages_Errors","errorCount","heading","objkey","Errors_ErrorGroup","ErrorGroup","Errors_ErrorMessage","ErrorMessage","Key_Form","Errors_RemoveButton","RemoveButton","groupedErrors","errorsByType","tuples","combinedStatuses","tup","list","Messages_Events_Event","components_Header","NavLink","Form_ResetButton","Icons_Form_CancelButton","Icons_Form_Form","Icons_Edit","deleted","columnSize","ceil","firstColumn","secondColumn","collectionFetched","Icons_New","Icons_Show","updatePage","nullOption","opt","LinkToFirst","totalPages","LinkToPrevious","Ellipsis","LinkToNext","LinkToLast","PaginationLinks_LinkToFirst","PaginationLinks_LinkToPrevious","PaginationLinks_Ellipsis","PaginationLinks_LinkToNext","PaginationLinks_LinkToLast","Transfer","Transfers_DeleteButton","renderAccounts","page","txnCopy","NewTransfer","Transfers_PaginationLinks","Boolean","location","hostname","ReactDOM","render","es","BrowserRouter","Banner","Switch","Route","exact","component","AccountWrapper","AccountIndex","Transfers","BudgetCategories","BudgetCategoryShow","Icons","BudgetIndex","BudgetFinalizeIndex","BudgetFinalizeAccruals","BudgetFinalizeFinish","BudgetFinalizeItems","BudgetSetUpAccruals","BudgetSetUpExpenses","BudgetSetUpFinalize","BudgetSetUpIntro","BudgetSetUpRevenues","BudgetHome","Messages_Events","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.96e25fa2.chunk.js","sourcesContent":["export const updateItemInCollection = ({ updatedItem, collection, save }) => {\n  return collection.map((item) => {\n    if (item.id !== updatedItem.id) {\n      return item\n    } else if(save) {\n      return { ...item, ...updatedItem, originalProps: null }\n    } else {\n      const originalProps = item.originalProps || item\n      return { ...item, ...updatedItem, originalProps: originalProps }\n    }\n  })\n}\n\nexport const update = (payload, collection) => {\n  return collection.map(obj => {\n    if (obj.id !== payload.id) {\n      return obj\n    } else {\n      return { ...obj, ...payload }\n    }\n  })\n}\n\nexport const updated = (payload, collection) => {\n  return collection.map(obj => {\n    if (obj.id !== payload.id) {\n      return obj\n    } else {\n      return {\n        ...obj,\n        ...payload,\n        updatedProps: null,\n        errors: [],\n      }\n    }\n  })\n}\n\nexport const updateProps = (payload, collection) => {\n  return collection.map(obj => {\n    if (obj.id !== payload.id) {\n      return obj\n    } else {\n      return {\n        ...obj,\n        updatedProps: {\n          ...obj.updatedProps,\n          ...payload\n        }\n      }\n    }\n  })\n}\n","export default (transaction, formOverrides = {}) => {\n  const {  budget_exclusion, check_number, details, notes } = transaction\n  const amount = details.reduce((sum, detail) => sum + detail.amount, 0)\n  const showBudgetExclusion = !!budget_exclusion\n  const showCheck = check_number !== \"\" && check_number !== null\n  const showNotes = notes !== \"\" && notes !== null\n  const formOptions = {\n    ...defaultFormOptions,\n    showBudgetExclusion: showBudgetExclusion,\n    showCheck: showCheck,\n    showNotes: showNotes,\n    ...formOverrides,\n  }\n\n  return {\n    ...transaction,\n    amount: amount,\n    details: details.map(detail => ({...detail, _id: detail.id })),\n    formOptions: formOptions,\n  }\n}\n\nexport const defaultFormOptions = {\n  showBudgetExclusion: false,\n  showCheck: false,\n  showNotes: false,\n  showReceipt: false,\n}\n","import { update, updated, updateProps } from \"./helpers/shared\"\nimport objectifyTransaction from \"../models/transaction\"\n\nconst initialState = {\n  collection: [],\n  accountsFetched: false,\n  showNewForm: false,\n  newAccount: {\n    cash_flow: true,\n    name: \"\",\n    slug: \"\",\n    priority: \"\",\n  },\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case \"accounts/CREATED\":\n    return { ...state, collection: [...state.collection, action.payload] }\n  case \"accounts/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(acct => acct.id !== action.payload.id)\n    }\n  case \"accounts/FETCHED\":\n    return { ...state, collection: action.payload, accountsFetched: true }\n  case \"accounts/RESET\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection)\n    }\n  case \"accounts/RESET_FORM\":\n    return {\n      ...state,\n      newAccount: initialState.newAccount,\n      showNewForm: false\n    }\n  case \"accounts/TOGGLE_SHOW_NEW_FORM\":\n    return { ...state, showNewForm: action.payload }\n  case \"accounts/UPDATE\":\n    return {\n      ...state,\n      collection: update(action.payload, state.collection)\n    }\n  case \"accounts/UPDATED\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection),\n      accountsFetched: false,\n    }\n  case \"accounts/UPDATE_NEW\":\n    return {\n      ...state,\n      newAccount: { ...state.newAccount, ...action.payload }\n    }\n  case \"accounts/UPDATE_PROPS\":\n    return {\n      ...state,\n      collection: updateProps(action.payload, state.collection)\n    }\n  case \"transactions/CREATED\":\n    return {\n      ...state,\n      collection: updateBalance(objectifyTransaction(action.payload), state.collection),\n    }\n  case \"transactions/REMOVE_DETAIL\":\n    return {\n      ...state,\n      collection: updateBalance(action.payload, state.collection),\n    }\n  case \"transactions/DELETED\":\n    return {\n      ...state,\n      collection: updateBalance(action.payload, state.collection),\n    }\n  case \"transactions/UPDATED\":\n    return {\n      ...state,\n      collection: state.collection.map(acct => {\n        if (acct.id !== action.payload.account_id) {\n          return acct\n        } else {\n          return {\n            ...acct,\n            balance: (acct.balance + objectifyTransaction(action.payload).amount - action.payload.originalAmount),\n          }\n        }\n      })\n    }\n  case \"transfers/CREATED\":\n    return {\n      ...state,\n      collection: updateAfterTransferCreate(action.payload, state.collection),\n    }\n  case \"transfers/DELETED\":\n    return {\n      ...state,\n      collection: updateAfterTransferDelete(action.payload, state.collection),\n    }\n  default:\n    return state\n  }\n}\n\nconst updateBalance = (payload, collection) => {\n  const { account_id, amount } = payload\n  return collection.map(acct => {\n    if (acct.id !== account_id) {\n      return acct\n    } else {\n      return { ...acct, balance: (acct.balance + amount) }\n    }\n  })\n}\n\nconst updateAfterTransferCreate = (payload, collection) => {\n  const { from_transaction, to_transaction } = payload\n  const { amount } = objectifyTransaction(to_transaction)\n  return collection.map(acct => {\n    if (from_transaction.account_id === acct.id) {\n      return { ...acct, balance: (acct.balance - amount) }\n    } else if (to_transaction.account_id === acct.id) {\n      return { ...acct, balance: (acct.balance + amount) }\n    } else {\n      return acct\n    }\n  })\n}\n\nconst updateAfterTransferDelete = (payload, collection) => {\n  const { amount, from_account_id, to_account_id } = payload\n  return collection.map(acct => {\n    if (from_account_id === acct.id) {\n      return { ...acct, balance: (acct.balance + amount) }\n    } else if (to_account_id === acct.id) {\n      return { ...acct, balance: (acct.balance - amount) }\n    } else {\n      return acct\n    }\n  })\n}\n","const initialState = {\n  key: null,\n  keyFormInput: \"\",\n  status: null,\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"api/KEY_EDITED\":\n    return { ...state, keyFormInput: action.payload.key }\n  case \"api/STATUS_UPDATED\":\n    return { ...state, status: action.payload.status }\n  case \"api/KEY_UPDATED\":\n    return { ...state, key: action.payload.key, status: null }\n  default:\n    return state\n  }\n}\n","export default (payload, collection) => {\n  const { balance, spent } = payload\n\n  const remainingBudgeted = collection.reduce((acc, item) => {\n    return acc += item.remaining\n  }, 0)\n  const overUnderBudgetAmount = collection.reduce((acc, item) => {\n    return acc += item.overUnderBudgetAmount\n  }, 0)\n  const total_remaining = balance + remainingBudgeted\n  const amount = total_remaining - overUnderBudgetAmount - spent\n\n  return {\n    collection: [],\n    ...payload,\n    total_remaining: total_remaining,\n    amount: amount,\n    overUnderBudgetAmount: overUnderBudgetAmount,\n  }\n}\n","export default (attributes) => {\n  const {\n    accrual,\n    amount,\n    expense,\n    maturity_month,\n    maturity_year,\n    month,\n    year,\n  } = attributes\n  const spent = attributes.spent || 0\n  const transaction_count = attributes.transaction_count || 0\n  const difference = amount - spent\n  const deletable = transaction_count === 0\n  const remaining = deletable ? amount : 0\n  const overUnderBudget = (expense && difference > 0) || (!expense && difference < 0)\n  const overUnderBudgetAmount = !deletable ? (-1 * difference) : 0\n  const matureAccrual = accrual && maturity_month === month && maturity_year === year\n  const isCleared = !deletable || amount === 0\n\n  return {\n    ...attributes,\n    deletable: deletable,\n    isCleared: isCleared,\n    remaining: remaining,\n    difference: difference,\n    matureAccrual: matureAccrual,\n    overUnderBudget: overUnderBudget,\n    overUnderBudgetAmount: overUnderBudgetAmount,\n  }\n}\n","export default (attributes) => {\n  const {\n    accrual,\n    amount,\n    expense,\n    maturity_month,\n    maturity_year,\n    month,\n    year,\n  } = attributes\n  const spent = attributes.spent || 0\n  const transactions_count = attributes.transactions_count || 0\n  const floatAmount = attributes.floatAmount || parseFloat(attributes.amount / 100.0).toFixed(2)\n  const difference = amount - spent\n  const remaining = expense ? Math.min(difference, 0) : Math.max(difference, 0)\n  const overUnderBudget = (expense && difference > 0) || (!expense && difference < 0)\n  const overUnderBudgetAmount = overUnderBudget ? (-1 * difference) : 0\n  const matureAccrual = accrual && (maturity_month === month && maturity_year === year)\n\n  return {\n    collection: [],\n    events: [],\n    ...attributes,\n    spent: spent,\n    transactions_count: transactions_count,\n    floatAmount: floatAmount,\n    remaining: remaining,\n    difference: difference,\n    overUnderBudget: overUnderBudget,\n    overUnderBudgetAmount: overUnderBudgetAmount,\n    matureAccrual: matureAccrual,\n  }\n}\n","import { updateItemInCollection } from \"./shared\"\nimport objectifyDiscretionary from \"../../models/discretionary\"\nimport objectifyMonthly from \"../../models/monthlyBudgetItem\"\nimport objectifyWeekly from \"../../models/weeklyBudgetItem\"\n\nexport const setUpIndex = (payload, state) => {\n  const { collection, metadata } = payload\n  const items = collection.map(item => {\n    if (item.monthly) {\n      return objectifyMonthly(item)\n    } else {\n      return objectifyWeekly(item)\n    }\n  })\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, items),\n    monthly: {\n      ...state.monthly,\n      collection: items.filter(item => item.monthly),\n    },\n    weekly: {\n      ...state.weekly,\n      collection: items.filter(item => !item.monthly),\n    },\n    itemsFetched: true,\n    metadata: {\n      ...state.metadata,\n      ...metadata,\n    }\n  }\n}\n\nexport const addMonthlyItem = (item, state) => {\n  const { metadata, monthly, weekly } = state\n  const { month, year } = metadata\n  // if the item is not in the current month\n  if (!(item.month === month && item.year === year)) {\n    return state\n  }\n\n  const newCollection = [...monthly.collection, objectifyMonthly(item)]\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...newCollection, ...weekly.collection]),\n    monthly: {\n      ...monthly,\n      collection: newCollection,\n    },\n  }\n}\n\nexport const addWeeklyItem = (item, state) => {\n  const { metadata, monthly, weekly } = state\n  const { month, year } = metadata\n  // if the item is not in the current month\n  if (!(item.month === month && item.year === year)) {\n    return state\n  }\n\n  const newCollection = [...weekly.collection, objectifyWeekly(item)]\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...newCollection, ...monthly.collection]),\n    weekly: {\n      ...weekly,\n      collection: newCollection,\n    },\n  }\n}\n\nexport const removeMonthly = (id, state) => {\n  const { metadata, monthly, setup, weekly } = state\n  const newCollection = state.monthly.collection.filter(item => item.id !== id)\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...weekly.collection, ...newCollection]),\n    monthly: {\n      ...monthly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      baseMonth: {\n        ...setup.baseMonth,\n        isFetched: false\n      },\n    },\n  }\n}\n\nexport const removeWeekly = (id, state) => {\n  const { metadata, monthly, setup, weekly } = state\n  const newCollection = weekly.collection.filter(item => item.id !== id)\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...monthly.collection, ...newCollection]),\n    weekly: {\n      ...weekly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      baseMonth: {\n        ...state.setup.baseMonth,\n        isFetched: false\n      },\n    },\n  }\n}\n\nexport const updateMonthlyItem = (item, state) => {\n  // TODO: check the month/year and call a function to take the item out of the collection\n  // if there is a mismatch. This should not happen given the current set up but still worth\n  // considering\n\n  const { metadata, monthly, setup, weekly } = state\n  const originalItem = state.monthly.collection.find(_item => _item.id === item.id)\n  const updatedItem = objectifyMonthly({ ...originalItem, ...item })\n\n  const newCollection = updateItemInCollection({\n    updatedItem: updatedItem,\n    collection: monthly.collection,\n    save: true\n  })\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...weekly.collection, ...newCollection]),\n    monthly: {\n      ...monthly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      newMonth: {\n        ...setup.newMonth,\n        isFetched: false,\n      },\n      baseMonth: {\n        ...setup.baseMonth,\n        isFetched: false,\n      },\n    }\n  }\n}\n\nexport const updateWeeklyItem = (item, state) => {\n  // TODO: check the month/year and call a function to take the item out of the collection\n  // if there is a mismatch. This should not happen given the current set up but still worth\n  // considering\n\n  const { metadata, monthly, setup, weekly } = state\n  const originalItem = state.weekly.collection.find(_item => _item.id === item.id)\n  const events = [...originalItem.events, ...item.events]\n  const updatedItem = objectifyWeekly({ ...originalItem, ...item, events: events }, state.metadata)\n\n  const newCollection = updateItemInCollection({\n    updatedItem: updatedItem,\n    collection: weekly.collection,\n    save: true\n  })\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...monthly.collection, ...newCollection]),\n    weekly: {\n      ...weekly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      newMonth: {\n        ...setup.newMonth,\n        isFetched: false,\n      },\n      baseMonth: {\n        ...setup.baseMonth,\n        isFetched: false,\n      },\n    }\n  }\n}\n\nexport const addNewSetupItem = (item, state) => {\n  const { metadata, monthly, setup, weekly } = state\n  const { month, year } = metadata\n  const objectifiedItem = item.monthly ? objectifyMonthly(item) : objectifyWeekly(item)\n  const currentItem = month === item.month && year === item.year\n  const newMonthly = currentItem && item.monthly ? { ...monthly, collection: [...monthly.collection, objectifiedItem] } : monthly\n  const newWeekly = currentItem && item.weekly ? { ...weekly, collection: [...weekly.collection, objectifiedItem] } : weekly\n  const discretionary = objectifyDiscretionary(metadata, [...newWeekly.collection, ...newMonthly.collection])\n\n  return {\n    ...state,\n    discretionary: discretionary,\n    monthly: newMonthly,\n    weekly: newWeekly,\n    setup: {\n      ...setup,\n      newMonth: {\n        ...setup.newMonth,\n        newItem: {\n          amount: \"\",\n          budget_category_id: null,\n          selectedOption: \"\",\n        },\n        collection: [\n          ...setup.newMonth.collection,\n          item,\n        ],\n      },\n    },\n  }\n}\n\nexport const finalizeItemsCollection = (payload) => {\n  return payload.collection.map(item => {\n    if (item.monthly) {\n      return objectifyMonthly({ ...item, status: \"pending\" })\n    } else {\n      return objectifyWeekly({ ...item, status: \"pending\" })\n    }\n  })\n}\n\nexport const nextMonthFetched = (payload, state) => {\n  return {\n    ...state,\n    ...setUpIndex(payload, state),\n    finalize: {\n      ...state.finalize,\n      next: {\n        ...state.finalize.next,\n        ...payload.metadata,\n        collection: finalizeItemsCollection(payload),\n        isFetched: true,\n      },\n    },\n  }\n}\n\nexport const updateFinalizeItem = (payload, state) => {\n  if (payload.monthly) {\n    return updateMonthlyItem(payload, state)\n  } else {\n    return updateWeeklyItem(payload, state)\n  }\n}\n\nexport const updateExtra = (payload, extra) => {\n  const ids = extra.map(item => item.id)\n\n  if (ids.includes(payload.id)) {\n    return extra.map(item => item.id === payload.id ? { ...item, ...payload } : item)\n  } else {\n    return [...extra, payload]\n  }\n}\n\nexport const calculateDiscretionary = (payload) => {\n  const { collection, metadata } = payload\n\n  const remainingFor = (item) => {\n    const { amount, expense, monthly, spent, transaction_count } = item\n    if (monthly) {\n      return transaction_count === 0 ? amount : 0\n    } else {\n      const difference = amount - spent\n      return expense ? Math.min(difference, 0) : Math.max(difference, 0)\n    }\n  }\n\n  return metadata.balance + collection.reduce((acc, item) => acc += remainingFor(item), 0)\n}\n","import * as Helpers from \"./helpers/budgetHelpers\"\nimport * as setupHelpers from \"./helpers/setupHelpers\"\nimport { update, updated, updateProps, updateItemInCollection } from \"./helpers/shared\"\n\nconst initialNewCategory = {\n  name: \"\",\n  default_amount: \"\",\n  slug: \"\",\n  accrual: \"false\",\n  showForm: false,\n  icon_id: null,\n  errors: [],\n}\n\nconst today = new Date()\nconst initialState = {\n  discretionary: {\n    balance: 0,\n    spent: 0,\n    total_remaining: 0,\n    days_remaining: 1,\n    total_days: 1,\n    collection: [],\n  },\n  categories: {\n    collection: [],\n    fetched: false,\n    filters: [\n      { name: \"adjective\", value: \"\" },\n      { name: \"adverb\", value: \"\" },\n      { name: \"search\", value: \"\" },\n    ],\n    showForm: false,\n    show: {\n      id: null,\n      name: \"\",\n      slug: \"\",\n      dataCachedAt: null,\n      events: [],\n      transactions: [],\n      itemViews: [],\n      dateRange: {\n        beginning_month: null,\n        begining_year: null,\n        ending_month: null,\n        ending_year: null,\n      }\n    },\n  },\n  monthly: {\n    collection: [],\n    showForm: false,\n    newItem: {\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    },\n  },\n  weekly: {\n    collection: [],\n    showForm: false,\n    newItem: {\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    },\n  },\n  newCategory: initialNewCategory,\n  itemsFetched: false,\n  metadata: {\n    month: (today.getMonth() + 1),\n    year: (today.getFullYear()),\n    is_closed_out: true,\n    is_set_up: true,\n  },\n  menuOptions: {\n    showAccruals: false,\n    showCleared: false,\n    sortOrder: \"byName\",\n  },\n  finalize: {\n    baseMonth: {\n      month: null,\n      year: null,\n      isFetched: false,\n      collection: [],\n      is_closed_out: false,\n    },\n    next: {\n      month: null,\n      year: null,\n      isFetched: false,\n      collection: [],\n    },\n    extra: [],\n    selectedFromAccountId: null,\n    selectedToAccountId: null,\n  },\n  setup: {\n    baseMonth: {\n      month: 12,\n      year: 2099,\n      isFetched: false,\n      collection: [],\n    },\n    newMonth: {\n      month: 12,\n      year: 2099,\n      isFetched: false,\n      reviewed: false,\n      set_up_completed_at: null,\n      collection: [],\n      newItem: {\n        amount: \"\",\n        budget_category_id: null,\n        selectedOption: \"\",\n      },\n    },\n  },\n  maturityIntervals: [],\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case \"budget/categories/APPLY_ERRORS_ON_EDIT\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.map(category => {\n          if (category.id === action.payload.id) {\n            return { ...category, errors: [...category.errors, ...action.payload.errors] }\n          } else {\n            return category\n          }\n        })\n      },\n    }\n  case \"budget/categories/APPLY_FILTER\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        filters: state.categories.filters.map(filter => filter.name === action.payload.name ? action.payload : filter)\n      }\n    }\n  case \"budget/categories/CREATED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        showForm: false,\n        collection: [\n          ...state.categories.collection,\n          { ...action.payload, isNew: true }\n        ]\n      }\n    }\n  case \"budget/categories/DELETED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.filter(category => category.id !== action.payload)\n      }\n    }\n  case \"budget/categories/EDIT_MATURITY_INTERVAL\":\n    return {\n      ...state,\n      maturityIntervals: updateProps(action.payload, state.maturityIntervals),\n    }\n  case \"budget/categories/ERRORS_ON_NEW\":\n    return {\n      ...state,\n      newCategory: {\n        ...state.newCategory,\n        ...action.payload, // comes in as { errors: [{ name: [\"invalid\"] }] }\n      },\n    }\n  case \"budget/categories/FETCHED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: action.payload,\n        fetched: true\n      }\n    }\n  case \"budget/categories/MATURITY_INTERVAL_CREATED\":\n    return {\n      ...state,\n      itemsFetched: false,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.map(category => {\n          if (category.id !== action.payload.id) {\n            return category\n          } else {\n            return {\n              ...category,\n              showMaturityIntervalForm: false,\n              newMaturityIntervalAttributes: {},\n            }\n          }\n        }),\n      },\n      maturityIntervals: [\n        ...state.maturityIntervals,\n        action.payload.maturityInterval\n      ]\n    }\n  case \"budget/categories/MATURITY_INTERVALS_FETCHED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.map(category =>\n          category.id === action.payload.id ? { ...category, maturityIntervalsFetched: true } : category\n        )\n      },\n      maturityIntervals: [\n        ...state.maturityIntervals,\n        ...action.payload.collection\n      ],\n    }\n  case \"budget/category/REMOVE_MATURITY_INTERVAL\":\n    return {\n      ...state,\n      itemsFetched: false,\n      maturityIntervals: state.maturityIntervals.filter(interval => interval.id !== action.payload.id)\n    }\n  case \"budget/categories/RESET\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: updated(action.payload, state.categories.collection)\n      }\n    }\n  case \"budget/categories/RESET_NEW_FORM\":\n    return {\n      ...state,\n      newCategory: initialNewCategory,\n    }\n  case \"budget/categories/TOGGLE_MATURITY_INTERVAL_EDIT_FORM\":\n    return {\n      ...state,\n      maturityIntervals: state.maturityIntervals.map(mi =>\n        mi.id === action.payload.id ? { ...mi, ...action.payload } : mi\n      )\n    }\n  case \"budget/categories/TOGGLE_NEW_FORM\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        showForm: action.payload.showForm,\n      }\n    }\n  case \"budget/categories/UPDATE\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: update(action.payload, state.categories.collection),\n      }\n    }\n  case \"budget/categories/UPDATE_NEW\":\n    return {\n      ...state,\n      newCategory: {\n        ...state.newCategory,\n        ...action.payload,\n      }\n    }\n  case \"budget/categories/UPDATE_MATURITY_INTERVAL\":\n    return {\n      ...state,\n      maturityIntervals: updated(action.payload, state.maturityIntervals)\n    }\n  case \"budget/categories/UPDATE_PROPS\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: updateProps(action.payload, state.categories.collection),\n      }\n    }\n  case \"budget/categories/UPDATED\":\n    if (action.payload.monthly) {\n      return {\n        ...state,\n        categories: {\n          ...state.categories,\n          collection: updated(action.payload, state.categories.collection),\n        },\n        monthly: {\n          ...state.monthly,\n          collection: state.monthly.collection.map(item => {\n            return item.budget_category_id === action.payload.id ? { ...item, name: action.payload.name, accrual: action.payload.accrual } : item\n          })\n        }\n      }\n    } else {\n      return {\n        ...state,\n        categories: {\n          ...state.categories,\n          collection: updated(action.payload, state.categories.collection),\n        },\n        weekly: {\n          ...state.weekly,\n          collection: state.weekly.collection.map(item => {\n            return item.budget_category_id === action.payload.id ? { ...item, name: action.payload.name, accrual: action.payload.accrual } : item\n          })\n        }\n      }\n    }\n  case \"budget/categories/show/DATA_FETCHED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        show: {\n          ...state.categories.show,\n          dataCachedAt: new Date(),\n          slug: action.payload.category.slug,\n          events: action.payload.events,\n          itemViews: action.payload.item_views,\n          transactions: action.payload.transactions,\n          dateRange: action.payload.date_range,\n        },\n      },\n    }\n  case \"budget/finalize/ADD_FINALIZE_ITEM\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        next: {\n          ...state.finalize.next,\n          collection: [...state.finalize.next.collection, action.payload]\n        },\n      },\n    }\n  case \"budget/finalize/BASE_MONTH_FETCH\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          ...action.payload.metadata,\n          collection: Helpers.finalizeItemsCollection(action.payload),\n          isFetched: true,\n        },\n        extra: [\n          ...state.finalize.extra,\n          {\n            id: 0,\n            name: \"Discretionary\",\n            amount: (-1 * Helpers.calculateDiscretionary(action.payload)),\n          }\n        ]\n      },\n    }\n  case \"budget/finalize/EDIT_BASE_AMOUNT\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          collection: state.finalize.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, ...action.payload } : item\n          )\n        },\n      },\n    }\n  case \"budget/finalize/MARK_INTERVAL_CLOSED\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          is_closed_out: true,\n        },\n      }\n    }\n  case \"budget/finalize/MARK_SELECTED\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        next: {\n          ...state.finalize.next,\n          collection: state.finalize.next.collection.map(item =>\n            item.id === action.payload.id ? { ...item, selected: true } : { ...item, selected: false }\n          )\n        },\n      }\n    }\n  case \"budget/finalize/NEXT_MONTH_FETCH\":\n    return Helpers.nextMonthFetched(action.payload, state)\n  case \"budget/finalize/SET_STATUS\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          collection: state.finalize.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, ...action.payload } : item\n          ),\n        },\n      },\n    }\n  case \"budget/finalize/UPDATE_EXTRA\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        extra: Helpers.updateExtra(action.payload, state.finalize.extra)\n      },\n    }\n  case \"budget/finalize/UPDATE_FINALIZE_ITEM\":\n    return Helpers.updateFinalizeItem(action.payload, state)\n  case \"budget/finalize/UPDATE_SELECTED_FROM_ACCOUNT_ID\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        selectedFromAccountId: action.payload.id\n      },\n    }\n  case \"budget/finalize/UPDATE_SELECTED_TO_ACCOUNT_ID\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        selectedToAccountId: action.payload.id\n      },\n    }\n  case \"budget/BASE_MONTH_FETCHED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          ...action.payload.metadata,\n          isFetched: true,\n          collection: action.payload.collection,\n        },\n      }\n    }\n  case \"budget/CHANGE_ITEM_SORT_ORDER\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/NEW_MONTH_FETCHED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          ...action.payload.metadata,\n          isFetched: true,\n          collection: action.payload.collection,\n        },\n      }\n    }\n  case \"budget/ADD_CATEGORY\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection:\n          [\n            ...state.categories.collection,\n            action.payload\n          ]\n      }\n    }\n  case \"budget/ADD_MONTHLY_ITEM\":\n    return Helpers.addMonthlyItem(action.payload, state)\n  case \"budget/ADD_WEEKLY_ITEM\":\n    return Helpers.addWeeklyItem(action.payload, state)\n  case \"budget/EDIT_NEW_MONTHLY_ITEM\":\n    return {\n      ...state,\n      monthly: {\n        ...state.monthly,\n        newItem: { ...state.monthly.newItem, ...action.payload }\n      }\n    }\n  case \"budget/EDIT_NEW_WEEKLY_ITEM\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        newItem: { ...state.weekly.newItem, ...action.payload }\n      }\n    }\n  case \"budget/EDIT_MONTHLY_ITEM\":\n    return {\n      ...state,\n      monthly: {\n        ...state.monthly,\n        collection: updateItemInCollection({\n          updatedItem: action.payload,\n          collection: state.monthly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/EDIT_WEEKLY_ITEM\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        collection: updateItemInCollection({\n          updatedItem: action.payload,\n          collection: state.weekly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/FETCHED_DISCRETIONARY_TRANSACTIONS\":\n    return {\n      ...state,\n      discretionary: {\n        ...state.discretionary,\n        fetchedTransactions: true,\n        collection: action.payload,\n      },\n    }\n  case \"budget/FETCHED_WEEKLY_BUDGET_ITEM_EVENTS\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        collection: updateItemInCollection({\n          updatedItem: { id: action.payload.id, events: action.payload.events },\n          collection: state.weekly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/FETCHED_WEEKLY_TRANSACTIONS\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        collection: updateItemInCollection({\n          updatedItem: { id: action.payload.id, collection: action.payload.collection },\n          collection: state.weekly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/ITEMS_FETCHED\":\n    return Helpers.setUpIndex(action.payload, state)\n  case \"budget/REMOVE_WEEKLY_ITEM\":\n    return Helpers.removeWeekly(action.payload, state)\n  case \"budget/REMOVE_MONTHLY_ITEM\":\n    return Helpers.removeMonthly(action.payload, state)\n  case \"budget/TOGGLE_ACCRUAL_ITEMS\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/TOGGLE_CLEARED_ITEMS\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/TOGGLE_DISCRETIONARY_DETAIL\":\n    return { ...state, discretionary: { ...state.discretionary, ...action.payload } }\n  case \"budget/TOGGLE_MENU\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/TOGGLE_MONTHLY_ITEM_FORM\":\n    return { ...state, monthly: { ...state.monthly, ...action.payload } }\n  case \"budget/TOGGLE_WEEKLY_ITEM_FORM\":\n    return { ...state, weekly: { ...state.weekly, ...action.payload } }\n  case \"budget/UPDATE_MONTHLY_ITEM\":\n    return Helpers.updateMonthlyItem(action.payload, state)\n  case \"budget/UPDATE_WEEKLY_ITEM\":\n    return Helpers.updateWeeklyItem(action.payload, state)\n  case \"budget/setup/ADD_ITEM\":\n    return Helpers.addNewSetupItem(action.payload, state)\n  case \"budget/setup/EDIT_NEW\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          reviewed: false,\n          newItem: {\n            ...state.setup.newMonth.newItem,\n            ...action.payload,\n          }\n        }\n      }\n    }\n  case \"budget/setup/EDIT_ACCRUAL_AMOUNT\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: updateProps(action.payload, state.setup.baseMonth.collection)\n        },\n      }\n    }\n  case \"budget/setup/EDIT_REVIEW_ITEM\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          reviewed: false,\n          collection: setupHelpers.editReviewItem(action.payload, state.setup.newMonth.collection)\n        }\n      }\n    }\n  case \"budget/setup/FINISH_REVIEW\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          reviewed: true,\n        }\n      }\n    }\n  case \"budget/setup/NEXT_STEP\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          isReady: true\n        }\n      }\n    }\n  case \"budget/setup/MARK_FOR_INCLUSION\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, markedForExclusion: action.payload.exclude } : item\n          )\n        },\n      }\n    }\n  case \"budget/setup/MARK_REVIEWED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, reviewed: true } : item\n          )\n        },\n        newMonth: {\n          ...state.setup.newMonth,\n          newItem: {\n            amount: \"\",\n            budget_category_id: null,\n            selectedOption: \"\",\n          }\n        }\n      }\n    }\n  case \"budget/setup/MARK_SUBMITTED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, submitted: true } : item\n          )\n        },\n      }\n    }\n  case \"budget/setup/REQUEUE\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, ...action.payload } : item\n          )\n        },\n        newMonth: {\n          ...state.setup.newMonth,\n          newItem: {\n            amount: \"\",\n            budget_category_id: null,\n            selectedOption: \"\",\n          }\n        }\n      }\n    }\n  case \"budget/setup/UPDATE_EXISTING\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          newItem: {\n            amount: \"\",\n            budget_category_id: null,\n            selectedOption: \"\",\n          },\n          collection: state.setup.newMonth.collection.map(item => {\n            return item.id === action.payload.id ? action.payload : item\n          }),\n        },\n      },\n    }\n  case \"budget/setup/UPDATE_METADATA\":\n    return {\n      ...state,\n      itemsFetched: false,\n      metadata: {\n        ...state.metadata,\n        ...action.payload,\n      },\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          ...action.payload,\n        },\n      },\n    }\n  case \"transactions/CREATED\":\n    return {\n      ...state,\n      itemsFetched: false,\n    }\n  case \"transactions/DELETED\":\n    return {\n      ...state,\n      itemsFetched: false,\n    }\n  case \"transactions/UPDATED\":\n    return {\n      ...state,\n      itemsFetched: false,\n    }\n  default:\n    return state\n  }\n}\n","import { update, updated, updateProps } from \"./helpers/shared\"\n\nconst initialState = {\n  collection: [],\n  fetched: false,\n  newIcon: {\n    name: \"\",\n    class_name: \"\",\n  }\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"icons/CREATED\":\n    return {\n      ...state,\n      collection: [\n        ...state.collection,\n        action.payload,\n      ],\n      newIcon: initialState.newIcon\n    }\n  case \"icons/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(icon => icon.id !== action.payload)\n    }\n  case \"icons/UPDATE_NEW\":\n    return {\n      ...state,\n      newIcon: {\n        ...state.newIcon,\n        ...action.payload\n      }\n    }\n  case \"icons/UPDATE_PROPS\":\n    return {\n      ...state,\n      collection: updateProps(action.payload, state.collection)\n    }\n  case \"icons/FETCHED\":\n    return {\n      ...state,\n      collection: action.payload,\n      fetched: true,\n    }\n  case \"icons/RESET\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection)\n    }\n  case \"icons/RESET_NEW\":\n    return {\n      ...state,\n      newIcon: initialState.newIcon\n    }\n  case \"icons/UPDATE\":\n    return {\n      ...state,\n      collection: update(action.payload, state.collection)\n    }\n  case \"icons/UPDATED\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection)\n    }\n  default:\n    return state\n  }\n}\n","export default (array, findFn, fallbackValue = null) => {\n  const result = array.find(findFn)\n  if (result === undefined) {\n    return fallbackValue\n  } else {\n    return result\n  }\n}\n","import findOrDefault from \"../../functions/FindOrDefault\"\n\nconst apiErrors ={\n  type: \"api\",\n  messages: {},\n  requests: [],\n}\n\nconst initialState = {\n  errors: [\n    {...apiErrors},\n    {\n      type: \"misc\",\n      messages: {},\n      requests: [],\n    },\n  ],\n  events: [],\n  showEvents: true,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case \"messages/ADD_ERROR_MESSAGES\":\n    return {\n      ...state,\n      errors: updateErrors(state, action.payload),\n    }\n  case \"messages/ADD_EVENT\":\n    return {\n      ...state,\n      events: [\n        action.payload,\n        ...state.events,\n      ],\n    }\n  case \"messages/REMOVE_ERROR_MESSAGE\":\n    return {\n      ...state,\n      errors: removeErrors(state, action.payload)\n    }\n  case \"messages/TOGGLE_EVENTS\":\n    return {\n      ...state,\n      showEvents: !state.showEvents,\n    }\n  default:\n    return state\n  }\n}\n\nconst emptyErrorObject = {\n  messages: {},\n  requests: [],\n}\n\nconst updateErrors = (state, payload) => {\n  const { errors } = payload\n  const keysFromState = state.errors.map(err => err.type)\n  const keys = errors.reduce((acc, err) => [...acc, ...Object.keys(err)], [])\n\n  return [...new Set([...keys, ...keysFromState])].map(key => {\n    const error = findOrDefault(state.errors, err => err.type === key, { type: key, ...emptyErrorObject })\n    const payloadError = findOrDefault(errors, err => err.hasOwnProperty(error.type), null)\n\n    if (payloadError === null) {\n      return error\n    } else {\n      const errorTypeMessages = error.messages[payload.status] || []\n      return {\n        ...error,\n        messages: {\n          ...error.messages,\n          [payload.status]: [...new Set([...errorTypeMessages, ...payloadError[error.type]])]\n        },\n        requests: [...error.requests, payload],\n      }\n    }\n  })\n}\n\nconst removeErrors = (state, payload) => {\n  const { errors } = state\n  const { errorMessage, status, type } = payload\n\n  return errors.map(err => {\n    if (err.type === type) {\n      return {\n        ...err,\n        messages: {\n          [status]: err.messages[status].filter(e => e !== errorMessage),\n        },\n      }\n    } else {\n      return err\n    }\n  })\n}\n","const MonthDictionary = (mo) => {\n  switch(parseInt(mo)) {\n  case 1:\n    return { short: \"Jan.\", long: \"January\" }\n  case 2:\n    return { short: \"Feb.\", long: \"February\" }\n  case 3:\n    return { short: \"Mar.\", long: \"March\" }\n  case 4:\n    return { short: \"Apr.\", long: \"April\" }\n  case 5:\n    return { short: \"May\", long: \"May\" }\n  case 6:\n    return { short: \"June\", long: \"June\" }\n  case 7:\n    return { short: \"July\", long: \"July\" }\n  case 8:\n    return { short: \"Aug.\", long: \"August\" }\n  case 9:\n    return { short: \"Sep.\", long: \"September\" }\n  case 10:\n    return { short: \"Oct.\", long: \"October\" }\n  case 11:\n    return { short: \"Nov.\", long: \"November\" }\n  case 12:\n    return { short: \"Dec.\", long: \"December\" }\n  default:\n    return { short: \"\", long: \"\" }\n  }\n}\n\nexport const formatted = ({ month, day, year, format }) => {\n  const monthString = MonthDictionary(month)\n  switch(format) {\n  case \"dateObject\":\n    return new Date(year, (month - 1), day)\n  case \"longMonth\":\n    return monthString.long\n  case \"m/d\":\n    return `${month}/${day}`\n  case \"mm/dd/yyyy\":\n    return [(month < 10 ? \"0\" + month : month), (day < 10 ? \"0\" + day : day), year].join(\"/\")\n  case \"monthYear\":\n    return `${monthString.long} ${year}`\n  case \"numericMonthYear\":\n    return `${month}/${year}`\n  case \"object\":\n    return { month: month, year: year, day: day }\n  case \"shortMonthYear\":\n    return `${monthString.short} ${year}`\n  case \"yyyy-mm-dd\":\n    return [year, (month < 10 ? \"0\" + month : month), (day < 10 ? \"0\" + day : day)].join(\"-\")\n  default:\n    return `${monthString.short} ${day}, ${year}`\n  }\n}\n\nexport const fromDateString = (dateString, opts = { format: \"default\" }) => {\n  const dateElements = dateString.split(\"-\")\n  const month = parseInt(dateElements[1] || 0)\n  const day = parseInt(dateElements[2] || 0)\n  const year = parseInt(dateElements[0] || 1900)\n  return formatted({ month: month, year: year, day: day, format: opts.format })\n}\n\nexport const fromDateTimeObject = (object, opts = { format: \"yyyy-mm-dd\" }) => {\n  const parsed = object.split(\",\")[0].split(\"/\").map(str => parseInt(str))\n  const { month, year, day } = { year: parsed[2], month: parsed[0], day: parsed[1] }\n  return formatted({ month: month, year: year, day: day, format: opts.format })\n}\n\nexport const nextMonth = ({ month, year }) => {\n  if (month === 12) {\n    return { month: 1, year: (year + 1) }\n  } else {\n    return { month: (month + 1), year: year }\n  }\n}\n\nexport const prevMonth = ({ month, year }) => {\n  if (month === 1) {\n    return { month: 12, year: (year - 1) }\n  } else {\n    return { month: (month - 1), year: year }\n  }\n}\n\nexport const isInRange = (dateString, dateRange) => {\n  if (dateString === null) {\n    return false\n  }\n  return onOrAfter(dateString, dateRange[0]) && onOrBefore(dateString, dateRange[1])\n}\n\nconst onOrAfter = (dateString, targetString) => {\n  if (dateString === null) { return false }\n  const object = fromDateString(dateString, { format: \"object\" })\n  const target = fromDateString(targetString, { format: \"object\" })\n  if (object.year > target.year) {\n    return true\n  } else if (object.year < target.year) {\n    return false\n  } else { // in the same year\n    if (object.month > target.month) {\n      return true\n    } else if (object.month < target.month) {\n      return false\n    } else { // in same month/year\n      return object.day >= target.day\n    }\n  }\n}\n\nconst onOrBefore = (dateString, targetString) => {\n  if (dateString === null) { return false }\n  const object = fromDateString(dateString, { format: \"object\" })\n  const target = fromDateString(targetString, { format: \"object\" })\n  if (object.year < target.year) {\n    return true\n  } else if (object.year > target.year) {\n    return false\n  } else { // in the same year\n    if (object.month < target.month) {\n      return true\n    } else if (object.month > target.month) {\n      return false\n    } else { // in same month/year\n      return object.day <= target.day\n    }\n  }\n}\n\nexport const before = (dateString, targetString) => {\n  if (dateString === null) { return false }\n  const object = fromDateString(dateString, { format: \"object\" })\n  const target = fromDateString(targetString, { format: \"object\" })\n  if (object.year < target.year) {\n    return true\n  } else if (object.year > target.year) {\n    return false\n  } else { // in the same year\n    if (object.month < target.month) {\n      return true\n    } else if (object.month > target.month) {\n      return false\n    } else { // in same month/year\n      return object.day < target.day\n    }\n  }\n}\n\nconst simpleObject = (dateObject) => (\n  formatted({\n    year: dateObject.getFullYear(),\n    month: (dateObject.getMonth() + 1),\n    day: dateObject.getDate(),\n    format: \"object\"\n  })\n)\n\nexport const today = (format = \"yyyy-mm-dd\") => {\n  const date = simpleObject(new Date())\n  return formatted({ ...date, format: format })\n}\n\nexport const isToday = (date) => {\n  return JSON.stringify(today(\"object\")) === JSON.stringify(simpleObject(date))\n}\n\nexport default formatted\n","import { before, isInRange } from \"../../functions/DateFormatter\"\nimport findOrDefault from \"../../functions/FindOrDefault\"\nimport objectifyTransaction from \"../../models/transaction\"\n\nexport const createTransaction = (payload, state) => {\n  const { clearance_date } = payload\n  const { include_pending } = state.metadata.query_options\n  const { prior_balance, date_range } = state.metadata\n  const inRange = isInRange(clearance_date, date_range)\n  const newTxn = objectifyTransaction(payload)\n  const collection = ((include_pending && clearance_date === null) || inRange) ? [...state.collection, newTxn] : state.collection\n  const newPrior = before(clearance_date, date_range[0]) ? (prior_balance + newTxn.amount) : prior_balance\n  return {\n    ...state,\n    metadata: {\n      ...state.metadata,\n      prior_balance: newPrior,\n    },\n    collection: collection,\n    budgetItems: {\n      ...state.budgetItems,\n      fetched: false\n    },\n  }\n}\n\nexport const editDetailProps = (txn, newProps) => {\n  const isBudgetInclusion = !txn.budget_exclusion\n\n  const isTarget = (detail) => newProps.detailId === detail.id || newProps.detailId === detail._id\n\n  return {\n    ...txn,\n    details: txn.details.map(detail => {\n      if (isTarget(detail) && isBudgetInclusion) {\n        return {\n          ...detail,\n          updatedProps: {\n            ...detail.updatedProps,\n            ...newProps,\n          }\n        }\n      } else if (isBudgetInclusion) {\n        return detail\n      } else {\n        return {\n          ...detail,\n          updatedProps: {\n            ...detail.updatedProps,\n            ...newProps,\n            budget_item_id: null,\n          }\n        }\n      }\n    })\n  }\n}\n\nexport const editNew = (transaction, newProps) => {\n  const editedNew = { ...transaction, ...newProps }\n  const { budget_exclusion } = editedNew\n\n  if (!budget_exclusion) {\n    return editedNew\n  } else {\n    return {\n      ...editedNew,\n      details: editedNew.details.map(detail => ({ ...detail, budget_item_id: null }))\n    }\n  }\n}\n\nexport const editProps = (transaction, newProps) => {\n  if (!newProps.budget_exclusion) {\n    return {\n      ...transaction,\n      updatedProps: { ...transaction.updatedProps, ...newProps }\n    }\n  } else {\n    return {\n      ...transaction,\n      updatedProps: { ...transaction.updatedProps, ...newProps },\n      details: transaction.details.map(detail => ({ ...detail, budget_item_id: null }))\n    }\n  }\n}\n\nexport const removeDetail = ({ amount, clearance_date, detailId, transactionId, state }) => {\n  const { prior_balance, date_range } = state.metadata\n  const updated = transaction => {\n    const updatedTransaction = {\n      ...transaction,\n      details: transaction.details.filter(detail => detail.id !== detailId)\n    }\n    return objectifyTransaction(updatedTransaction)\n  }\n  const newPrior = before(clearance_date, date_range[0]) ? (prior_balance + amount) : prior_balance\n\n  return {\n    ...state,\n    metadata: {\n      ...state.metadata,\n      prior_balance: newPrior,\n    },\n    collection: state.collection.map(txn => txn.id === transactionId ? updated(txn) : txn),\n  }\n}\n\nexport const toggleEditForm = (id, state) => {\n  const selectedTxn = findOrDefault(state.collection, (txn => txn.id === id), { showForm: true })\n\n  const showForm = !selectedTxn.showForm\n\n  const showFormAttribute = txn => {\n    if (txn.id === id) {\n      return showForm\n    } else if (showForm) {\n      return false\n    } else {\n      return txn.showForm\n    }\n  }\n\n  return {\n    ...state,\n    new: { ...state.new, showForm: (showForm ? false : state.new.showForm) },\n    collection: state.collection.map(txn => (\n      {...txn, showForm: showFormAttribute(txn)}\n    )),\n  }\n\n}\n\nexport const transferCreated = (payload, state) => {\n  const selectedAccountId = state.metadata.query_options.account_id\n  const toTransaction = payload.to_transaction\n  const fromTransaction = payload.from_transaction\n  const toAccountId = toTransaction.account_id\n  const fromAccountId = fromTransaction.account_id\n\n  if (selectedAccountId === undefined || selectedAccountId === null) {\n    return state\n  } else if (toAccountId === parseInt(selectedAccountId)) {\n    return createTransaction(toTransaction, state)\n  } else if (fromAccountId === parseInt(selectedAccountId)) {\n    return createTransaction(fromTransaction, state)\n  } else {\n    return state\n  }\n}\n\nexport const transferDeleted = (payload, state) => {\n  const transferId = payload.id\n\n  return {\n    ...state,\n    collection: state.collection.filter(txn => txn.transfer_id !== transferId)\n  }\n}\n\nexport const updateNewDetail = (payload, state) => {\n  const { budget_exclusion, details } = state.new\n  const { index, attributes } = payload\n  const itemIdFor = (detail) => budget_exclusion ? null : detail.budget_item_id\n  const updatedDetails = details.map((detail, n) => {\n    if (n === index) {\n      return { ...detail, ...attributes, budget_item_id: itemIdFor({ ...detail, ...attributes }) }\n    } else {\n      return { ...detail, budget_item_id: itemIdFor(detail) }\n    }\n  })\n\n  return {\n    ...state,\n    new: {\n      ...state.new,\n      details: updatedDetails,\n    }\n  }\n}\n\nconst updatedCollection = (payload, state) => {\n  const { clearance_date } = payload\n  const { include_pending } = state.metadata.query_options\n  const { date_range } = state.metadata\n  const inRange = isInRange(clearance_date, date_range)\n\n  if ((include_pending && clearance_date === null) || inRange) {\n    return state.collection.map(txn => {\n      if (txn.id !== payload.id) {\n        return txn\n      } else {\n        return { ...txn, ...payload }\n      }\n    })\n  } else {\n    return state.collection.filter(txn => txn.id !== payload.id)\n  }\n}\n\nexport const updatedTransaction = (payload, state) => {\n  const { clearance_date } = payload\n  const { prior_balance, date_range } = state.metadata\n  const newTxn = objectifyTransaction(payload)\n  const collection = updatedCollection(newTxn, state)\n  const newPrior = before(clearance_date, date_range[0]) ? (prior_balance + newTxn.amount) : prior_balance\n  return {\n    ...state,\n    metadata: {\n      ...state.metadata,\n      prior_balance: newPrior,\n    },\n    collection: collection,\n    budgetItems: {\n      ...state.budgetItems,\n      fetched: false\n    },\n  }\n}\n","import objectifyMonthly from \"../models/monthlyBudgetItem\"\nimport objectifyTransaction, { defaultFormOptions } from \"../models/transaction\"\nimport objectifyWeekly from \"../models/weeklyBudgetItem\"\nimport * as helpers from \"./helpers/transactionHelpers\"\n\nconst today = new Date()\n\nconst emptyDetail = {\n  amount: \"\",\n  budget_item_id: null,\n  disabled: false,\n}\n\nconst initialState = {\n  metadata: {\n    date_range: [\"\", \"\"],\n    prior_balance: 0,\n    query_options: {\n      month: (today.getMonth() + 1),\n      year: (today.getFullYear()),\n    },\n  },\n  slug: null,\n  collection: [],\n  budgetItems: {\n    collection: [],\n    fetched: false,\n  },\n  new: {\n    id: null,\n    check_number: \"\",\n    clearance_date: \"\",\n    description: \"\",\n    notes: null,\n    showForm: true,\n    budget_exclusion: false,\n    receipt: null,\n    formOptions: defaultFormOptions,\n    details: [emptyDetail],\n  },\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"budget/ADD_MONTHLY_ITEM\":\n    if (parseInt(state.metadata.query_options.month) === action.payload.month &&\n        parseInt(state.metadata.query_options.year) === action.payload.year) {\n      return {\n        ...state,\n        budgetItems: {\n          ...state.budgetItems,\n          collection: [\n            ...state.budgetItems.collection,\n            objectifyMonthly(action.payload)\n          ]\n        }\n      }\n    } else {\n      return state\n    }\n  case \"budget/ADD_WEEKLY_ITEM\":\n    if (parseInt(state.metadata.query_options.month) === action.payload.month &&\n        parseInt(state.metadata.query_options.year) === action.payload.year) {\n      return {\n        ...state,\n        budgetItems: {\n          ...state.budgetItems,\n          collection: [\n            ...state.budgetItems.collection,\n            objectifyWeekly(action.payload)\n          ]\n        }\n      }\n    } else {\n      return state\n    }\n  case \"budget/UPDATE_MONTHLY_ITEM\":\n    return {\n      ...state,\n      budgetItems: {\n        ...state.budgetItems,\n        fetched: false\n      }\n    }\n  case \"budget/UPDATE_WEEKLY_ITEM\":\n    return {\n      ...state,\n      budgetItems: {\n        ...state.budgetItems,\n        fetched: false\n      }\n    }\n  case \"transactions/ADD_DETAIL_TO_ENTRY\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => {\n        return txn.id !== action.payload.id ? txn : { ...txn, details: [...txn.details, { ...emptyDetail, _id: action.payload.detailId }] }\n      })\n    }\n  case \"transactions/ADD_DETAIL_TO_NEW\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        details: [\n          ...state.new.details,\n          emptyDetail,\n        ]\n      }\n    }\n  case \"budget/categories/MATURITY_INTERVAL_CREATED\":\n    return {\n      ...state,\n      budgetItems: {\n        ...state.budgetItems,\n        fetched: false\n      }\n    }\n  case \"transactions/CREATED\":\n    return helpers.createTransaction(action.payload, state)\n  case \"transactions/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(txn => txn.id !== action.payload.id)\n    }\n  case \"transactions/EDIT\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        txn.id !== action.payload.id ? txn : { ...txn, ...action.payload }\n      ))\n    }\n  case \"transactions/EDIT_FORM_OPTIONS\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        txn.id !== action.payload.id ? txn : { ...txn, formOptions: {...txn.formOptions, ...action.payload } }\n      ))\n    }\n  case \"transactions/EDIT_NEW_FORM_OPTIONS\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        formOptions: {\n          ...state.new.formOptions,\n          ...action.payload,\n        },\n      },\n    }\n  case \"transactions/EDIT_PROPS\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        action.payload.id === txn.id ? helpers.editProps(txn, action.payload) : txn\n      ))\n    }\n  case \"transactions/EDIT_DETAIL_PROPS\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        txn.id === action.payload.txnId ? helpers.editDetailProps(txn, action.payload) : txn\n      ))\n    }\n  case \"transactions/FETCHED\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        budget_exclusion: false,\n      },\n      metadata: action.payload.metadata,\n      collection: action.payload.transactions.map(txn => objectifyTransaction(txn)),\n      slug: action.payload.slug,\n    }\n  case \"transactions/FETCHED_BUDGET_ITEMS\":\n    return {\n      ...state,\n      budgetItems: {\n        collection: action.payload.collection.map(item => {\n          return item.monthly ? objectifyMonthly(item) : objectifyWeekly(item, { days_remaning: 1, total_days: 30 })\n        }),\n        fetched: true,\n        month: action.payload.metadata.month,\n        year: action.payload.metadata.year,\n      },\n    }\n  case \"transactions/REMOVE_DETAIL\":\n    return helpers.removeDetail({...action.payload, state: state })\n  case \"transactions/REMOVE_NEW_DETAIL\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        details: state.new.details.filter((detail, index) => index !== action.payload.index)\n      },\n    }\n  case \"transactions/RESET_NEW\":\n    return {\n      ...state,\n      new: { ...initialState.new, ...action.payload },\n    }\n  case \"transactions/TOGGLE_EDIT_FORM\":\n    return helpers.toggleEditForm(action.payload, state)\n  case \"transactions/TOGGLE_NEW_FORM\":\n    return {\n      ...state,\n      new: { ...state.new, showForm: !state.new.showForm },\n      collection: state.collection.map(txn => (\n        {...txn, showForm: (!state.new.showForm ? false : txn.showForm)}\n      )),\n    }\n  case \"transactions/UPDATE_NEW\":\n    return {\n      ...state,\n      new: helpers.editNew(state.new, action.payload)\n    }\n  case \"transactions/UPDATE_NEW_DETAIL\":\n    return helpers.updateNewDetail(action.payload, state)\n  case \"transactions/UPDATED\":\n    return helpers.updatedTransaction(action.payload, state)\n  case \"transfers/CREATED\":\n    return helpers.transferCreated(action.payload, state)\n  case \"transfers/DELETED\":\n    return helpers.transferDeleted(action.payload, state)\n  default:\n    return state\n  }\n}\n","import objectifyTransaction from \"../models/transaction\"\n\nconst initialNew = {\n  to_account_id: null,\n  from_account_id: null,\n  amount: \"\",\n}\n\nconst initialState = {\n  metadata: {\n    limit: 10,\n    offset: 0,\n    currentPage: 1,\n    viewing: [1, 10],\n    total: 999,\n  },\n  collection: [],\n  fetchedTransfers: false,\n  newTransfer: initialNew,\n}\n\nconst objectifyTransfer = (transfer) => (\n  {\n    ...transfer,\n    to_transaction: objectifyTransaction(transfer.to_transaction),\n    from_transaction: objectifyTransaction(transfer.from_transaction),\n  }\n)\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"transfers/CREATED\":\n    return {\n      ...state,\n      collection: [...state.collection, objectifyTransfer(action.payload)],\n      metadata: {\n        ...state.metadata,\n        total: (state.metadata.total + 1),\n        viewing: [state.metadata.viewing[0], (state.metadata.viewing[1] + 1)]\n      },\n      newTransfer: initialNew,\n    }\n  case \"transfers/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(transfer => transfer.id !== action.payload.id),\n      metadata: {\n        ...state.metadata,\n        total: (state.metadata.total - 1),\n        viewing: [state.metadata.viewing[0], (state.metadata.viewing[1] - 1)]\n      },\n    }\n  case \"transfers/FETCHED\":\n    return {\n      ...state,\n      collection: action.payload.transfers.map(transfer => (\n        objectifyTransfer(transfer)\n      )),\n      fetchedTransfers: true,\n      metadata: {\n        ...state.metadata,\n        ...action.payload.metadata,\n      }\n    }\n  case \"transfers/UPDATE_NEW\":\n    return {\n      ...state,\n      newTransfer: {\n        ...state.newTransfer,\n        ...action.payload\n      }\n    }\n  case \"transfers/UPDATE_PAGE\":\n    return {\n      ...state,\n      fetchedTransfers: false,\n      metadata: {\n        ...state.metadata,\n        currentPage: action.payload.currentPage,\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { createStore, combineReducers } from \"redux\"\n\nimport accountsReducer from \"./reducers/accounts\"\nimport apiReducer from \"./components/Api/reducer\"\nimport budgetReducer from \"./reducers/budget\"\nimport iconsReducer from \"./reducers/icons\"\nimport messageReducer from \"./components/Messages/reducer\"\nimport transactionsReducer from \"./reducers/transactions\"\nimport transfersReducer from \"./reducers/transfers\"\n\nconst store = createStore(\n  combineReducers({\n    accounts: accountsReducer,\n    api: apiReducer,\n    budget: budgetReducer,\n    icons: iconsReducer,\n    messages: messageReducer,\n    transactions: transactionsReducer,\n    transfers: transfersReducer,\n  }),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n)\n\nexport const { dispatch, getState } = store\n\nexport default store\n","export const editReviewItem = (updatedItem, collection) => {\n  return collection.map(item =>\n    item.id !== updatedItem.id ? item : { ...item, ...updatedItem }\n  )\n}\n","export const created = (newAccount) => {\n  return { type: \"accounts/CREATED\", payload: newAccount }\n}\n\nexport const deleted = (payload) => {\n  return { type: \"accounts/DELETED\", payload: payload }\n}\n\nexport const fetched = (accounts) => {\n  return { type: \"accounts/FETCHED\", payload: accounts }\n}\n\nexport const resetAccount = (payload) => {\n  return { type: \"accounts/RESET\", payload: payload }\n}\n\nexport const resetForm = () => {\n  return { type: \"accounts/RESET_FORM\", payload: null }\n}\n\nexport const toggleShowNewForm = ({ showForm }) => {\n  return { type: \"accounts/TOGGLE_SHOW_NEW_FORM\", payload: showForm }\n}\n\nexport const update = (payload) => {\n  return { type: \"accounts/UPDATE\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"accounts/UPDATED\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"accounts/UPDATE_NEW\", payload: payload }\n}\n\nexport const updateProps = (payload) => {\n  return { type: \"accounts/UPDATE_PROPS\", payload: payload }\n}\n","const IP_ADDRESS = \"http://localhost\"\nconst PORT = \"8128\"\nconst API_URL = `${IP_ADDRESS}:${PORT}`\nexport default API_URL\n","import API_URL from \"../constants/Api\"\n\nimport { getState } from \"../store\"\n\nconst ApiUrlBuilder = (options = {}) => {\n  const { route } = options\n  const state = getState()\n  const query = { ...options.query, key: state.api.key }\n  const path = pathTo(route, options)\n  const queryParams = Object\n    .entries(query)\n    .map(arr => arr.join(\"=\"))\n    .join(\"&\")\n  const queryString = queryParams === \"\" ? \"\" : `?${queryParams}`\n\n  return `${API_URL}/${path}${queryString}`\n}\n\nconst pathTo = (route, options) => {\n  switch(route) {\n  case \"accounts-index\":\n    return \"api/accounts\"\n  case \"account-show\":\n    return `api/accounts/${options.id}`\n  case \"budget-categories-index\":\n    return \"api/budget/categories\"\n  case \"budget-category-show\":\n    return `api/budget/categories/${options.id}`\n  case \"budget-category-show-data\":\n    return `api/budget/categories/${options.id}/data`\n  case \"budget-category-items-index\":\n    return `api/budget/categories/${options.id}/items`\n  case \"budget-category-maturity-intervals-index\":\n    return `api/budget/categories/${options.budgetCategoryId}/maturity_intervals`\n  case \"budget-category-maturity-interval-show\":\n    return `api/budget/categories/${options.budgetCategoryId}/maturity_intervals/${options.id}`\n  case \"budget-items-index\":\n    return \"api/budget/items\"\n  case \"budget-items-events-index\":\n    return \"api/budget/items/events\"\n  case \"budget-item-show\":\n    return `api/budget/categories/${options.budgetCategoryId}/items/${options.id}`\n  case \"budget-item-events-index\":\n    return `api/budget/categories/${options.budgetCategoryId}/items/${options.id}/events`\n  case \"budget-item-transactions-index\":\n    return `api/budget/categories/${options.budgetCategoryId}/items/${options.id}/transactions`\n  case \"discretionary-transactions-index\":\n    return \"api/budget/discretionary/transactions\"\n  case \"icons-index\":\n    return \"api/icons\"\n  case \"icon-show\":\n    return `api/icons/${options.id}`\n  case \"interval-show\":\n    return `api/intervals/${options.month}/${options.year}`\n  case \"transactions-index\":\n    return `api/accounts/${options.accountId}/transactions`\n  case \"transaction-show\":\n    return `api/accounts/${options.accountId}/transactions/${options.id}`\n  case \"transfers-index\":\n    return \"api/transfers\"\n  case \"transfer-show\":\n    return `api/transfers/${options.id}`\n  default:\n    return \"api\"\n  }\n}\n\nexport default ApiUrlBuilder\n","export const addErrorMessages = error => ({ type: \"messages/ADD_ERROR_MESSAGES\", payload: error })\n\nexport const addEvent = event => ({ type: \"messages/ADD_EVENT\", payload: event })\n\nexport const removeErrorMessage = errorMessage => ({ type: \"messages/REMOVE_ERROR_MESSAGE\", payload: errorMessage })\n\nexport const toggleEvents = () => ({ type: \"messages/TOGGLE_EVENTS\", payload: null })\n","export const apiKeyEdited = apiKey => (\n  { type: \"api/KEY_EDITED\", payload: { key: apiKey } }\n)\n\nexport const apiKeyUpdated = apiKey => (\n  { type: \"api/KEY_UPDATED\", payload: { key: apiKey } }\n)\n\nexport const apiStatusUpdated = ({ status }) => (\n  { type: \"api/STATUS_UPDATED\", payload: { status: status } }\n)\n","import { addErrorMessages, addEvent } from \"../components/Messages/actions\"\nimport { apiStatusUpdated } from \"../components/Api/actions\"\n\nimport { dispatch } from \"../store\"\n\nconst defaultOnFailure = (data, { body, status, url }) => {\n  const action = addErrorMessages({\n    requestBody: body,\n    errors: data.errors,\n    status: status,\n    url: url,\n  })\n  dispatch(action)\n}\n\nexport const get = (url, onSuccess, onFailure) => {\n  const context = { verb: \"GET\", url: url, onSuccess: onSuccess, onFailure: onFailure, body: {} }\n  fetch(url)\n    .then(response => responseHandler(response, context))\n}\n\nexport const deleteRequest = (url, event, onSuccess) => {\n  const context = { verb: \"DELETE\", url: url, onSuccess: onSuccess, onFailure: defaultOnFailure, body: {} }\n  fetch(url, { method: \"delete\" })\n    .then(response => responseHandler(response, context, event))\n}\n\nexport const post = (url, body, context) => {\n  call(url, \"POST\", body, { event: () => \"\", ...context})\n}\n\nexport const put = (url, body, context) => {\n  call(url, \"PUT\", body, context)\n}\n\nconst call = (url, verb, body, { onSuccess, onFailure, event }) => {\n  const context = {\n    body: body,\n    onSuccess: onSuccess,\n    onFailure: (onFailure || defaultOnFailure),\n    url: url,\n    verb: verb,\n  }\n\n  fetch(url, {\n    method: verb,\n    body: body,\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then(response => responseHandler(response, context, event))\n}\n\nconst responseHandler = (response, context, event) => {\n  const { body, onSuccess, onFailure, url } = context\n\n  if (response.status === 401 || response.status === 404) {\n    response.json()\n      .then(data => {\n        dispatch(apiStatusUpdated({ status: response.status }))\n        defaultOnFailure(data, { body: body, status: response.status, url: url })\n      })\n  } else if (!response.ok) {\n    response.json()\n      .then(data => {\n        dispatch(apiStatusUpdated({ status: response.status }))\n        onFailure(data, { body: body, status: response.status, url: url })\n      })\n  } else if (response.status === 204) {\n    response.text()\n      .then(() => {\n        onSuccess()\n        dispatch(addEvent(event()))\n      })\n  } else {\n    response.json()\n      .then(data => {\n        onSuccess(data)\n        if (context.verb !== \"GET\") {\n          dispatch(addEvent(event(data)))\n        }\n        dispatch(apiStatusUpdated({ status: response.status }))\n      })\n  }\n}\n","export const overrides = {\n  discretionary: {\n  }\n}\n","import { terms as termsContent } from \"./en/terms\"\nimport { terms as termsOverrides } from \"./overrides/terms\"\n\nexport const terms = {\n  ...termsContent,\n  ...termsOverrides,\n}\n","export const terms = {\n  accounts: \"Accounts\",\n  apiKey: \"api key\",\n  appName: \"Checkbook & Budget\",\n  budget: \"Budget\",\n  id: \"id\",\n  item: \"item\",\n  month: \"month\",\n  transaction: \"transaction\",\n}\n","export const terms = {\n}\n","import { account as accountContent } from \"./en/account\"\nimport {\n  discretionary as discretionaryContent,\n  eventLabels as eventLabelsContent,\n  finalize as finalizeContent,\n  icon as iconContent,\n  item as itemContent,\n  category as budgetCategoryContent,\n  maturityInterval as maturityIntervalContent,\n  menu as menuContent,\n  setup as setupContent,\n  shared as sharedContent,\n} from \"./en/budget\"\nimport { errors as errorsContent } from \"./en/errors\"\nimport { overrides } from \"./overrides/copy\"\nimport { terms as termsContent } from \"./terms\"\nimport { transfer as transferContent } from \"./en/transfer\"\nimport { transaction as transactionContent } from \"./en/transaction\"\n\nexport const account = {\n  ...accountContent,\n  ...overrides.account,\n}\n\nexport const budget = {\n  category: {\n    ...budgetCategoryContent,\n    ...overrides.budgetCategory,\n  },\n  discretionary: {\n    ...discretionaryContent,\n    ...overrides.discretionary,\n  },\n  eventLabels: {\n    ...eventLabelsContent,\n    ...overrides.eventLabels,\n  },\n  finalize: {\n    ...finalizeContent,\n    ...overrides.finalize,\n  },\n  icon: {\n    ...iconContent,\n    ...overrides.icon,\n  },\n  item: {\n    ...itemContent,\n    ...overrides.item,\n  },\n  maturityInterval: {\n    ...maturityIntervalContent,\n    ...overrides.maturityInterval,\n  },\n  menu: {\n    ...menuContent,\n    ...overrides.menu,\n  },\n  setup: {\n    ...setupContent,\n    ...overrides.setup,\n  },\n  shared: {\n    ...sharedContent,\n    ...overrides.shared,\n  }\n}\n\nexport const errors = {\n  ...errorsContent,\n  ...overrides.errors,\n}\n\nexport const icon = {\n  icons: \"icons\"\n}\n\nexport const transfer = {\n  ...transferContent,\n  ...overrides.transfer,\n}\n\nexport const transaction = {\n  ...transactionContent,\n  ...overrides.transaction,\n}\n\nexport const terms = termsContent\n","export const account = {\n  account: \"account\",\n  balance: \"Balance\",\n  cancelButtonText: \"cancel\",\n  cashFlow: \"cash flow\",\n  createButtonText: \"create account\",\n  deleteButtonText: \"delete\",\n  deleteConfirmationMessage: (name) => `Do you really want to delete ${name} account?`,\n  manageLinkText: \"manage accounts\",\n  name: \"Name\",\n  nonCashFlow: \"non cash flow\",\n  priority: \"Priority\",\n  resetButtonText: \"reset\",\n  slugLabel: \"short name (slug)\",\n  transferLinkText: \"inter-account transfers\",\n  updateButtonText: \"update account\",\n}\n","export const category = {\n  accrual: \"accrual\",\n  accruals: \"accruals\",\n  accruing: \"accruing\",\n  addNew: \"add new\",\n  all: \"all\",\n  cancelButtonText: \"Cancel\",\n  categories: \"categories\",\n  closeButtonText: \"Close\",\n  combinedEvents: \"Events and Transactions\",\n  createButtonText: \"create\",\n  defaultAmount: \"default amount\",\n  deleteConfirmMessage: (name) => `Are you sure you want to delete ${name}?`,\n  details: \"details\",\n  editSlashDelete: \"edit/delete\",\n  expense: \"expense\",\n  expenses: \"expenses\",\n  filters: \"filters\",\n  frequency: \"frequency\",\n  icon: \"icon\",\n  monthly: \"monthly\",\n  name: \"name\",\n  resetButtonText: \"reset\",\n  revenue: \"revenue\",\n  revenues: \"revenues\",\n  searchLabelText: \"category name\",\n  searchPlaceholder: \"search\",\n  slug: \"slug\",\n  title: \"budget categories\",\n  type: \"type\",\n  updateButtonText: \"update\",\n  viewingInterals: (beginning, ending) => `Viewing from ${beginning} to ${ending}`,\n  weekly: \"day-to-day\",\n}\n\nexport const discretionary = {\n  aheadOfBudget: \"Ahead of Budget\",\n  overBudget: \"Over Budget\",\n  title: \"discretionary\",\n}\n\nexport const eventLabels = {\n  item_create: \"Item Create\",\n  item_adjust: \"Item Adjust\",\n  item_delete: \"Item Delete\",\n  legacy_item_create: \"Legacy Item Create\",\n  pre_setup_item_create: \"Pre-setup Item Create\",\n  rollover_item_adjust: \"Rollover Item Adjust\",\n  rollover_item_create: \"Rollover Item Create\",\n  setup_item_adjust: \"Setup Item Adjust\",\n  setup_item_create: \"Setup Item Create\",\n}\n\nexport const finalize = {\n  appliedToExtra: \"To Be Applied to Extra\",\n  applyToExtra: \"Apply All to Extra\",\n  budgetedFor: (date) => `Budgeted for ${date}`,\n  carryOver: \"carry over\",\n  carryOverFrom: (dateString) => `Amount to carry over from ${dateString}`,\n  createItem: \"create item\",\n  depositExtra: \"deposit extra\",\n  depositMessage: (dateString) => `Extra from ${dateString}`,\n  disregard: \"disregard\",\n  exceedsOriginalAmount: \"Cannot be greater than original amount\",\n  extra: \"extra\",\n  negativeRevenueErrorMessage: \"Cannot be less than zero for an expense\",\n  positiveExpenseErrorMessage: \"Cannot be greater than zero for an expense\",\n  remainingIn: (date) => `Remaining in ${date}`,\n  revealNextItems: (itemCount) => `Apply to item${itemCount === 1 ? \"\" : \"s\"}`,\n  rollOver: \"roll over\",\n  selectFromAccount: \"Select Account to Withdraw From\",\n  selectToAccount: \"Select Account to Receive Payment\",\n  submitAccrualButtonText: \"update accruals\",\n  summary: \"summary\",\n  title: \"finalize\",\n  updatedAmountFor: (dateString) => `Updated Amount For ${dateString}`,\n}\n\nexport const icon = {\n  cancelButtonText: \"cancel\",\n  className: \"class name\",\n  createButtonText: \"create\",\n  deleteConfirmationMessage: (name) => `Are you sure you want to delete ${name}?`,\n  name: \"name\",\n  preview: \"preview\",\n  resetButtonText: \"reset\",\n  updateButtonText: \"update\",\n}\n\nexport const item = {\n  account: \"account\",\n  amount: \"amount\",\n  budgeted: \"budgeted\",\n  cleared: \"cleared\",\n  createButtonText: \"create\",\n  date: \"date\",\n  deleteConfirmationMessage: (name, date) => `Are you sure you want to delete ${name} for ${date}?`,\n  description: \"description\",\n  items: \"items\",\n  perDay: \"per day\",\n  perWeek: \"per week\",\n  spent: \"spent\",\n}\n\nexport const maturityInterval = {\n  deleteConfirmMessage: \"Are you sure you want to delete this maturity interval?\",\n  options: [\n    { label: \"January\", value: 1 },\n    { label: \"February\", value: 2 },\n    { label: \"March\", value: 3 },\n    { label: \"April\", value: 4 },\n    { label: \"May\", value: 5 },\n    { label: \"June\", value: 6 },\n    { label: \"July\", value: 7 },\n    { label: \"August\", value: 8 },\n    { label: \"September\", value: 9 },\n    { label: \"October\", value: 10 },\n    { label: \"November\", value: 11 },\n    { label: \"December\", value: 12 },\n  ],\n  title: \"maturity intervals\",\n  year: \"year\",\n}\n\nexport const menu = {\n  hide: \"hide\",\n  finalizeLinkText:  (monthString) => `Finalize ${monthString}`,\n  order: \"order\",\n  setUpLinkText: (dateString) => `Set up ${dateString}`,\n  show: \"show\",\n  title: \"budget admin\",\n}\n\nexport const setup = {\n  additional: \"additional\",\n  accrualButtonText: \"include selected\",\n  accruingExpenses: \"accruing expenses\",\n  alreadyIncluded: (amount, name, newMonth) => `You already included ${amount} for ${name} in ${newMonth}'s budget.`,\n  amountToInclude: \"Amount to include\",\n  howMuchToInclude: (newMonthString) => `How much to include in ${newMonthString}?`,\n  howMuchAdditional: \"How much additional to include?\",\n  ignore: \"don't include\",\n  include: \"include\",\n  nOfTotal: (number, count) => `${number} of ${count}`,\n  markCompleteText: \"mark setup complete\",\n  requeue: \"requeue\",\n}\n\nexport const shared = {\n  deposited: \"deposited\",\n  difference: \"difference\",\n  in: \"in\",\n  minus: \"-\",\n  plus: \"+\",\n  remaining: \"remaining\",\n  spent: \"spent\",\n  total: \"total\",\n}\n","export const errors = {\n  error: \"error\",\n  errors: \"errors\",\n}\n","export const transfer = {\n  deleteConfirmationMessage: \"Are you sure you want to delete this transfer?\",\n  ellipsis: \" ... \",\n  first: \"first\",\n  from: \"from\",\n  last: \"last\",\n  next: \"next\",\n  previous: \"previous\",\n  iOfN: (range, total) => `Viewing ${range[0]} - ${range[1]} of ${total}`,\n  title: \"recent transfers\",\n  to: \"to\",\n}\n","export const transaction = {\n  account: \"account\",\n  addDetail: \"add detail\",\n  addNewButtonText: \"Add New Transaction\",\n  amount: \"amount\",\n  budgetExclusion: \"budget exclusion\",\n  check: \"check\",\n  checkNumberPlaceholder: \"check #\",\n  clearanceDate: \"clearance date\",\n  dateRange: (start, end) => `${start} to ${end}`,\n  date: \"date\",\n  deleteConfirmationMessage: \"Are you sure you want to delete this transaction?\",\n  deleteDetailConfirmationMessage: \"Are you sure you want to delete this transaction detail?\",\n  description: \"description\",\n  notes: \"notes\",\n  pending: \"pending\",\n  title: \"transactions\",\n  todayButtonText: \"today\",\n  updateButtonText: \"update transaction\",\n}\n","const upperCase = [\n  \"api\",\n]\n\nexport const titleize = (string) => {\n  if (upperCase.includes(string)) {\n    return capLocked(string)\n  } else {\n    const words = string.split(/(\\s|-|\\/)/)\n    return words.map(word =>\n      word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\n    ).join(\"\")\n  }\n}\n\nconst capLocked = string => string.toUpperCase()\n","import React from \"react\"\n\nimport { account as accountCopy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default () => (\n  <div className=\"transfers-link\">\n    <h3>\n      <Link to=\"/accounts/transfers\">\n        {titleize(accountCopy.transferLinkText)}\n        {\" \"}\n        <i className=\"fas fa-exchange-alt\" />\n      </Link>\n    </h3>\n  </div>\n)\n","import React from \"react\"\n\nimport { account as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default () => (\n  <div className=\"transactions\">\n    <h3>\n      <Link to=\"/accounts/index\">\n        {titleize(copy.manageLinkText)}\n      </Link>\n    </h3>\n  </div>\n)\n","export const addDetailToEntry = (payload) => (\n  {\n    type: \"transactions/ADD_DETAIL_TO_ENTRY\",\n    payload: payload,\n  }\n)\n\nexport const addDetailToNew = () => {\n  return { type: \"transactions/ADD_DETAIL_TO_NEW\", payload: null }\n}\nexport const created = (payload) => {\n  return { type: \"transactions/CREATED\", payload: payload }\n}\n\nexport const deleteTransaction = (payload) => {\n  return { type: \"transactions/DELETED\", payload: payload }\n}\n\nexport const edit = (payload) => {\n  return { type: \"transactions/EDIT\", payload: payload }\n}\n\nexport const editDetailProps = (payload) => {\n  return { type: \"transactions/EDIT_DETAIL_PROPS\", payload: payload }\n}\n\nexport const editFormOptions = (payload) => (\n  { type: \"transactions/EDIT_FORM_OPTIONS\", payload: payload }\n)\n\nexport const editNewFormOptions = (payload) => (\n  { type: \"transactions/EDIT_NEW_FORM_OPTIONS\", payload: payload }\n)\n\nexport const editProps = (payload) => {\n  return { type: \"transactions/EDIT_PROPS\", payload: payload }\n}\n\nexport const fetchedTransactions = (response) => {\n  return { type: \"transactions/FETCHED\", payload: response }\n}\n\nexport const fetchedBudgetItems = (response) => {\n  return { type: \"transactions/FETCHED_BUDGET_ITEMS\", payload: response }\n}\n\nexport const resetNew = (payload) => {\n  return { type: \"transactions/RESET_NEW\", payload: payload }\n}\n\nexport const removeDetail = (payload) => (\n  { type: \"transactions/REMOVE_DETAIL\", payload: payload }\n)\n\nexport const removeNewDetail = (payload) => (\n  { type: \"transactions/REMOVE_NEW_DETAIL\", payload: payload }\n)\n\nexport const toggleEditForm = ({ id }) => (\n  { type: \"transactions/TOGGLE_EDIT_FORM\", payload: id }\n)\n\nexport const toggleNewForm = () => (\n  { type: \"transactions/TOGGLE_NEW_FORM\", payload: null }\n)\n\nexport const updateNew = (payload) => {\n  return { type: \"transactions/UPDATE_NEW\", payload: payload }\n}\n\nexport const updateNewDetail = (payload) => {\n  return { type: \"transactions/UPDATE_NEW_DETAIL\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"transactions/UPDATED\", payload: payload }\n}\n","import React from \"react\"\n\nconst Icon = (props) => {\n  if (props.icon_class_name === null) {\n    return (<span></span>)\n  } else {\n    return (\n      <span>\n        <i className={props.className}></i>\n      </span>\n    )\n  }\n}\n\nexport default Icon\n","const MoneyFormatter = (number, opts = { absolute: false, toFloat: false }) => {\n  if (number === null) {\n    return \"\"\n  } else if (opts.toFloat) {\n    const num = opts.absolute ? Math.abs(number) : number\n    return parseFloat(num / 100.0).toFixed(2)\n  } else {\n    const num = opts.absolute ? Math.abs(number) : number\n    return \"$\" + (num / 100.0).toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n  }\n}\n\nexport const decimalToInt = (amount) => {\n  return Math.round(parseFloat(amount) * 100)\n}\n\nexport default MoneyFormatter\n","import MoneyFormatter from \"./MoneyFormatter\"\n\nconst EventMessageBuilder = (options = {}) => eventMapper(options.eventType, options)\n\nconst eventMapper = (eventType, options) => {\n  switch(eventType) {\n  case \"account-create\":\n    return accountCreate\n  case \"account-delete\":\n    return accountDelete(options)\n  case \"account-update\":\n    return accountUpdate(options)\n  case \"budget-category-create\":\n    return budgetCategoryCreate\n  case \"budget-category-delete\":\n    return budgetCategoryDelete(options)\n  case \"budget-category-maturity-interval-create\":\n    return budgetCategoryMaturityIntervalCreate\n  case \"budget-category-maturity-interval-delete\":\n    return budgetCategoryMaturityIntervalDelete(options)\n  case \"budget-category-update\":\n    return budgetCategoryUpdate(options)\n  case \"budget-item-create\":\n    return budgetItemCreate\n  case \"budget-item-delete\":\n    return budgetItemDelete(options)\n  case \"budget-item-update\":\n    return budgetItemUpdate(options)\n  case \"icon-create\":\n    return iconCreate\n  case \"icon-delete\":\n    return iconDelete(options)\n  case \"icon-update\":\n    return iconUpdate(options)\n  case \"interval-closed\":\n    return intervalClosed(options)\n  case \"interval-mark-complete\":\n    return intervalMarkComplete(options)\n  case \"maturity-interval-update\":\n    return maturityIntervalUpdate(options)\n  case \"transaction-detail-delete\":\n    return transactionDetailDelete(options)\n  case \"transaction-entry-create\":\n    return transactionEntryCreate(options)\n  case \"transaction-entry-delete\":\n    return transactionEntryDelete(options)\n  case \"transaction-entry-update\":\n    return transactionEntryUpdate(options)\n  case \"transfer-create\":\n    return transferCreate(options)\n  case \"transfer-delete\":\n    return transferDelete(options)\n  default:\n    throw new Error(`unknown/unmapped event type ${eventType}`)\n  }\n}\n\nconst accountCreate = ({ id, name, cash_flow, priority }) =>\n  `account created (id: ${id}) \"${name}\" cash flow is ${cash_flow}, priority: ${priority}`\n\nconst accountDelete = ({ id, name }) => () => `account (id: ${id}) \"${name}\" deleted`\n\nconst accountUpdate = ({ id, name, changedProps }) =>\n  () => `account (id: ${id}, name: \"${name}\") updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst budgetCategoryCreate = ({ id, accrual, default_amount, expense, name }) => {\n  let message = `budget category (id: ${id}) \"${name} created `\n  message += `with default amount ${default_amount} ${expense ? \"expense\" : \"revenue\"} ${accrual ? \"and is an accural\" : \"\"}`\n  return message\n}\n\nconst budgetCategoryDelete = ({ id, name }) => () => `budget category (id: ${id}, name: \"${name}\") deleted`\n\nconst budgetCategoryUpdate = ({ id, name, changedProps }) =>\n  () => `budget category (id: ${id}, name: \"${name}\") updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst budgetCategoryMaturityIntervalCreate = ({ id, budget_category_id, month, year }) =>\n  `maturity interval (id: ${id}) for budget category id: ${budget_category_id} ${month}/${year} created`\n\nconst budgetCategoryMaturityIntervalDelete = ({ categoryId, month, year }) =>\n  () => `maturity interval for budget category id: ${categoryId} ${month}/${year} deleted`\n\nconst budgetItemCreate = ({ item }) => {\n  const { id, amount, name, month, year } = item\n  return `budget item (id: ${id})  created for ${name} (${month}/${year}), amount: ${MoneyFormatter(amount)}`\n}\n\nconst budgetItemDelete = ({ id, category, month, year }) =>\n  () => `budget item (id: ${id}) for ${category} (${month}/${year}) was deleted`\n\nconst budgetItemUpdate = ({ id, category, month, year, originalAmount, newAmount }) =>\n  () => `budget item (id: ${id}) for ${category} (${month}/${year}) was adjusted from ${MoneyFormatter(originalAmount * 100)} to ${MoneyFormatter(newAmount * 100)}`\n\nconst iconCreate = ({ id, name, class_name }) => `icon created (id: ${id}) name: ${name}, class-name: ${class_name} created`\n\nconst iconDelete = () => ({ id, name }) => `icon (id: ${id}, name: \"${name}\") deleted`\n\nconst iconUpdate = ({ id, changedProps }) => () => `icon (id: ${id}) updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst intervalClosed = ({ closeOutCompletedAt, month, year })  =>\n  () => `interval: ${month}/${year} marked closed at ${closeOutCompletedAt}`\n\nconst intervalMarkComplete = ({ month, set_up_completed_at, year }) =>\n  () => `interval: ${month}/${year} set up marked complete at ${set_up_completed_at}`\n\nconst maturityIntervalUpdate = ({ id, changedProps, name }) =>\n  () => `maturity interval (id: ${id}, category: \"${name}\") updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst transactionDetailDelete = ({ id, amount, budgetCategory, budgetItemId, entryId }) =>\n  () => `transaction detail (id: ${id}) for entry (id: ${entryId}) removed. Amount was: ${amount}, belonging to budget item ${budgetItemId} (${budgetCategory})`\n\nconst detailTemplate = ({ id, amount, budget_category }) => `(${id}): budget category: ${budget_category}, amount: ${MoneyFormatter(amount)}`\n\nconst transactionEntryDelete = ({ id, details }) => () => `transaction entry (id: ${id}) deleted. Details: ${details.map(detailTemplate).join(\"; \")}`\n\nconst transactionEntryCreate = ({ accountName }) =>\n  ({ id, description, details }) =>\n    `transaction entry (id: ${id}) created for ${accountName} ${description || \"\"}. Details: ${details.map(detailTemplate).join(\"; \")}`\n\nconst transactionEntryUpdate = ({ id, changedProps, details }) => (\n  () => {\n    let message = `transaction entry (id: ${id}) was updated: ${changedStrings(changedProps).join(\", and \")}`\n    message += details.reduce((array, detail) => {\n      if (Object.keys(detail.changedProps).length === 0) {\n        return array\n      } else {\n        return [...array, ` detail (id: ${detail.id}) updated: ${changedStrings(detail.changedProps)}.`]\n      }\n    }, []).join(\" And\")\n    return message\n  }\n)\n\nconst transferCreate = ({ fromAccount, toAccount, amount }) =>\n  ({ id }) => `transfer (id: ${id}) created from: ${fromAccount} to: ${toAccount} amount: ${MoneyFormatter(amount)}`\n\nconst transferDelete = ({ id, amount, fromAccountId, toAccountId }) =>\n  () => `transfer (id: ${id}) deleted. From account: ${fromAccountId}, to account: ${toAccountId}, amount: ${amount}`\n\nconst changedStrings = changedProps => (\n  Object.keys(changedProps).map(key =>\n    `${key.toUpperCase()} was changed from ${changedProps[key].originalValue} to ${changedProps[key].updatedValue}`\n  )\n)\n\nexport const changedProps = (props, updatedProps) => (\n  Object.keys(updatedProps).reduce((object, key) => {\n    if (props[key] === updatedProps[key]) {\n      return object\n    } else if (key === \"amount\") {\n      const tuple = { originalValue: MoneyFormatter(props[key]), updatedValue: MoneyFormatter(updatedProps[key]) }\n      return { ...object, [key]: tuple }\n    } else {\n      const tuple = { originalValue: props[key], updatedValue: updatedProps[key] }\n      return { ...object, [key]: tuple }\n    }\n  }, {})\n)\n\nexport default EventMessageBuilder\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default ({ budget_exclusion, formOptions, onChange, selectedAccount, toggleFormOption }) => {\n  const update = () => {\n    onChange({ budget_exclusion: !budget_exclusion })\n  }\n\n  if (selectedAccount.cash_flow === true || !formOptions.showBudgetExclusion) {\n    return null\n  } else {\n    return (\n      <div className=\"option-input\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showBudgetExclusion\" className=\"fas fa-exclamation\" />\n        <div className=\"form-budget-exclusion\">\n          <div className=\"label\">\n            {titleize(copy.budgetExclusion)}\n          </div>\n          <div className=\"input\">\n            <input\n              type=\"checkbox\"\n              value={budget_exclusion || false}\n              onChange={update}\n              checked={budget_exclusion ? \"checked\" : \"\"}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ formOptions, check_number, onChange, toggleFormOption }) => {\n  const update = (e) => {\n    onChange({ check_number: e.target.value })\n  }\n\n  if (formOptions.showCheck) {\n    return(\n      <div className=\"option-input check-number\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showCheck\" className=\"fas fa-money-check\" />&nbsp;\n        <input\n          type=\"text\"\n          name=\"check_number\"\n          value={check_number}\n          onChange={update}\n          placeholder={copy.checkNumberPlaceholder}\n        />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport \"react-datepicker/dist/react-datepicker.css\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport DatePicker from \"react-datepicker\"\n\nimport { formatted, fromDateString, fromDateTimeObject } from \"../../../functions/DateFormatter\"\n\nconst ClearanceDate = ({ clearanceDate, month, onChange, year }) => {\n  const update = (e) => {\n    const val = e === null ? \"\" : fromDateTimeObject(e.toLocaleString())\n    onChange({ clearance_date: val })\n  }\n\n  const selected = () => {\n    if (clearanceDate) {\n      return fromDateString(clearanceDate, { format: \"dateObject\" })\n    } else {\n      return \"\"\n    }\n  }\n\n  const openToDate = () => {\n    if (clearanceDate) {\n      return selected()\n    } else {\n      const today = new Date()\n      if ((today.getMonth() + 1) === month && today.getFullYear() === year) {\n        return formatted({ month: month, day: today.getDate(), year: year, format: \"dateObject\" })\n      } else {\n        if (year > today.getFullYear() || (year === today.getFullYear() && month > (today.getMonth() + 1))) { // future\n          return formatted({ month: month, day: 1, year: year, format: \"dateObject\" })\n        } else {\n          return formatted({ month: (month + 1), day: 0, year: year, format: \"dateObject\" })\n        }\n      }\n    }\n  }\n\n  const options = {\n    openToDate: openToDate(),\n    selected: selected(),\n  }\n\n  return (\n    <div className=\"clearance-date\">\n      <DatePicker\n        onChange={update}\n        {...options}\n        placeholderText={copy.clearanceDate}\n        todayButton={titleize(copy.todayButtonText)}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { month, year } = state.transactions.metadata.query_options\n\n  return {\n    ...ownProps,\n    month: parseInt(month),\n    year: parseInt(year),\n  }\n}\n\nexport default connect(mapStateToProps)(ClearanceDate)\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default ({ description, handleKeyDown, onChange }) => {\n  const update = (e) => {\n    onChange({ [e.target.name]: e.target.value })\n  }\n\n  return (\n    <div className=\"description\">\n      <input\n        type=\"text\"\n        name=\"description\"\n        placeholder={copy.description}\n        onChange={update}\n        onKeyDown={handleKeyDown}\n        value={description || \"\"}\n      />\n    </div>\n  )\n}\n","const equationRegexp = /\\s*(-?\\d*\\.?\\d?\\d)\\s*([-+/*])\\s*(\\d*(\\.\\d+)?)\\s*/\n\nconst evaluateInput = inputAmount => {\n  const match = inputAmount.match(equationRegexp)\n\n  if (match === null) {\n    return inputAmount\n  } else {\n    const operator = match[2]\n    const num1 = parseFloat(match[1])\n    const num2 = parseFloat(match[3])\n    return operate(operator, num1, num2).toFixed(2)\n  }\n}\n\nconst operate = (operator, num1, num2) => {\n  switch(operator) {\n  case \"+\":\n    return num1 + num2\n  case \"-\":\n    return num1 - num2\n  case \"*\":\n    return num1 * num2\n  case \"/\":\n    return num1 / num2\n  default:\n    throw new Error(\"unknown operator\")\n  }\n}\n\nexport default evaluateInput\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\n\nexport default ({ index, detail, onDetailChange, onKeyDown }) => {\n  const onChange = (e) => {\n    onDetailChange(_id, { amount: e.target.value })\n  }\n\n  const onCalculate = () => {\n    onDetailChange(_id, { amount: EvaluateInput(amount) })\n  }\n\n  const {\n    id,\n    amount,\n    disabled,\n  } = detail\n\n  const _id = id || index\n\n  return (\n    <div className=\"detail-amount\">\n      <input\n        type=\"text\"\n        name={`detail[${_id}][amount]`}\n        disabled={disabled}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        placeholder={copy.amount}\n        value={amount}\n      />\n      <div className=\"calculator-button\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-calculator\"\n          onClick={onCalculate}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport Select from \"react-select\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default (props) => {\n  const {\n    index,\n    detail,\n    budget_exclusion,\n    onDetailChange,\n    options,\n  } = props\n\n  const {\n    id,\n    amount,\n    budget_category,\n    budget_item_id,\n    disabled,\n  } = detail\n\n  const _id = id || index\n\n  const onChange = (e) => {\n    if (amount === \"\" && e.monthly) {\n      onDetailChange(_id, { amount: e.amount, budget_item_id: e.value })\n    } else {\n      onDetailChange(_id, { budget_item_id: e.value })\n    }\n  }\n  const value = options.find(option => option.value === budget_item_id)\n  const fallbackValue = { label: budget_category, value: budget_item_id }\n  const selectValue = () => {\n    if (budget_exclusion) {\n      return { label: copy.budgetExclusion, value: \"\" }\n    } else {\n      return value || fallbackValue\n    }\n  }\n\n  return (\n    <div className={`detail-budget-item-select ${disabled ? \"disabled\" : \"\"}`}>\n      <Select\n        isDisabled={disabled || budget_exclusion}\n        options={options}\n        value={selectValue()}\n        onChange={onChange}\n        className=\"budget-item-select-container\"\n        classNamePrefix=\"budget-item-select\"\n      />\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport DetailAmount from \"./DetailAmount\"\nimport DetailBudgetItemSelect from \"./DetailBudgetItemSelect\"\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => {\n  const {\n    addDetail,\n    budget_exclusion,\n    details,\n    detailCount,\n    handleKeyDown,\n    onDetailChange,\n    options,\n    removeDetail,\n  } = props\n\n  const total = details.reduce((acc, detail) => acc + (parseFloat(detail.amount || 0)), 0)\n  const nullFn = () => null\n  const initialDetail = { id: 0, amount: MoneyFormatter(total * 100), disabled: true, handleKeyDown: nullFn, onDetailChange: nullFn, budgetItemId: null }\n\n  const detailCollection = (detailCount === 1) ? details : [initialDetail, ...details]\n  const indexFor = index => (detailCount === 1) ? 0 : index - 1\n  const isLastDetail = index => detailCount === 1 || index === detailCount\n\n  return (\n    detailCollection.map((detail, index) => {\n      return (\n        <div className=\"transaction-row\" key={index}>\n          <DetailAmount\n            index={indexFor(index)}\n            detail={detail}\n            onDetailChange={onDetailChange}\n            onKeyDown={handleKeyDown}\n          />\n          <div className=\"budget-item-select\">\n            <DetailBudgetItemSelect\n              index={indexFor(index)}\n              budget_exclusion={budget_exclusion}\n              detail={detail}\n              onDetailChange={onDetailChange}\n              options={options}\n            />\n          </div>\n          <AddDetail\n            {...detail}\n            addDetail={addDetail}\n            index={index}\n            isLastDetail={isLastDetail}\n            removeDetail={removeDetail}\n          />\n        </div>\n      )\n    })\n  )\n}\n\nconst AddDetail = ({ id, addDetail, detail, index, removeDetail }) => {\n  const _id = id || index - 1\n  const onRemove = () => removeDetail(_id, detail)\n\n  if (index === 0) {\n    return (\n      <Link to=\"#\" onClick={addDetail} tabIndex=\"-1\" className=\"fas fa-plus-circle\" />\n    )\n  } else {\n    return (\n      <Link to=\"#\" onClick={onRemove} tabIndex=\"-1\" className=\"fas fa-times-circle\" />\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default ({ formOptions, notes, handleKeyDown, onChange, toggleFormOption }) => {\n  const update = (e) => {\n    onChange({ notes: e.target.value })\n  }\n\n  if (formOptions.showNotes) {\n    return (\n      <div className=\"option-input\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showNotes\" className=\"fas fa-sticky-note\" />\n        <textarea\n          placeholder={copy.notes}\n          name=\"notes\"\n          value={notes || \"\"}\n          onChange={update}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => (\n  <div className=\"option-icons\">\n    <NoteIcon {...props} />\n    <CheckIcon {...props} />\n    <BudgetExclusionIcon {...props } />\n    <ReceiptIcon { ...props } />\n  </div>\n)\n\nconst BudgetExclusionIcon = ({ budgetExclusion, formOptions, selectedAccount, toggleFormOption }) => (\n  <OptionIcon\n    highlighted={budgetExclusion}\n    iconClassName=\"fas fa-exclamation\"\n    name=\"showBudgetExclusion\"\n    onClick={toggleFormOption}\n    showOption={!(formOptions.showBudgetExclusion || selectedAccount.cash_flow)}\n    toggleFormOption={toggleFormOption}\n  />\n)\n\nconst CheckIcon = ({ checkNumber, formOptions, toggleFormOption }) => (\n  <OptionIcon\n    highlighted={!(checkNumber === null || checkNumber === \"\")}\n    iconClassName=\"fas fa-money-check\"\n    name=\"showCheck\"\n    onClick={toggleFormOption}\n    showOption={!formOptions.showCheck}\n    toggleFormOption={toggleFormOption}\n  />\n)\n\nconst NoteIcon = ({ formOptions, notes, toggleFormOption }) => (\n  <OptionIcon\n    highlighted={!(notes === null || notes === \"\")}\n    iconClassName=\"fas fa-sticky-note\"\n    name=\"showNotes\"\n    onClick={toggleFormOption}\n    showOption={!formOptions.showNotes}\n    toggleFormOption={toggleFormOption}\n  />\n)\n\n\nconst ReceiptIcon = ({ formOptions, toggleFormOption })=> {\n  if (formOptions.showReceipt) {\n    return null\n  } else {\n    return (\n      <div className=\"option-icon\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showReceipt\" className=\"fas fa-paperclip\" />\n      </div>\n    )\n  }\n}\n\nconst OptionIcon = ({ highlighted, iconClassName, name, showOption, toggleFormOption }) => {\n  if (!showOption) {\n    return null\n  } else if (highlighted) {\n    return (\n      <div className=\"option-icon\">\n        <span className=\"highlighted\">\n          <Link to=\"#\" onClick={toggleFormOption} name={name} className={iconClassName} />\n        </span>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"option-icon\">\n        <Link to=\"#\" onClick={toggleFormOption} name={name} className={iconClassName} />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ formOptions, onChange, toggleFormOption }) => {\n  const handleImageChange = event => {\n    const file = event.target.files[0]\n    onChange({ receipt: file })\n  }\n\n  if (formOptions.showReceipt) {\n    return (\n      <div className=\"option-input receipt\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showReceipt\" className=\"fas fa-paperclip\" />\n        <input type=\"file\" name=\"receipt\" onChange={handleImageChange} />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\n","import React from \"react\"\n\nexport default ({ buttonText, onSubmit }) => (\n  <div className=\"transaction-submit\">\n    <button type=\"submit\" onClick={onSubmit}>\n      {buttonText}\n    </button>\n  </div>\n)\n","import React from \"react\"\n\nimport BudgetExclusion from \"./BudgetExclusion\"\nimport CheckNumber from \"./CheckNumber\"\nimport ClearanceDate from \"./ClearanceDate\"\nimport Descriptions from \"./Descriptions\"\nimport Details from \"./Details\"\nimport { Link } from \"react-router-dom\"\nimport Notes from \"./Notes\"\nimport OptionIcons from \"./OptionIcons\"\nimport Receipt from \"./Receipt\"\nimport SubmitButton from \"./Submit\"\n\n\nexport default (props) => {\n  const {\n    addDetail,\n    budgetOptions,\n    buttonText,\n    handleKeyDown,\n    onChange,\n    onDetailChange,\n    onSubmit,\n    removeDetail,\n    resetForm,\n    selectedAccount,\n    toggleFormOption,\n    transaction\n  } = props\n\n  const {\n    budget_exclusion,\n    check_number,\n    clearance_date,\n    description,\n    details,\n    notes,\n  } = transaction\n\n  return (\n    <div className=\"transaction-form transaction-wrapper\">\n      <div className=\"transaction\">\n        <div className=\"transaction-row left-content\">\n          <div className=\"close-icon\">\n            <Link\n              to=\"#\"\n              onClick={resetForm}\n              className=\"fas fa-times\"\n            />\n          </div>\n          <ClearanceDate\n            clearanceDate={clearance_date}\n            onChange={onChange}\n            handleKeyDown={handleKeyDown}\n          />\n        </div>\n        <div className=\"transaction-row middle-content\">\n          <Descriptions\n            description={description}\n            handleKeyDown={handleKeyDown}\n            onChange={onChange}\n            details={details}\n          />\n        </div>\n        <div className=\"detail-wrapper\">\n          <Details\n            addDetail={addDetail}\n            budget_exclusion={budget_exclusion}\n            details={details}\n            detailCount={details.length}\n            handleKeyDown={handleKeyDown}\n            onDetailChange={onDetailChange}\n            options={budgetOptions}\n            removeDetail={removeDetail}\n          />\n        </div>\n        <div className=\"transaction-row options\">\n          <OptionIcons\n            budgetExclusion={budget_exclusion}\n            checkNumber={check_number}\n            formOptions={transaction.formOptions}\n            notes={notes}\n            selectedAccount={selectedAccount}\n            toggleFormOption={toggleFormOption}\n          />\n          <div className=\"input-options\">\n            <Notes\n              formOptions={transaction.formOptions}\n              handleKeyDown={handleKeyDown}\n              onChange={onChange}\n              notes={notes}\n              toggleFormOption={toggleFormOption}\n            />\n            <CheckNumber\n              formOptions={transaction.formOptions}\n              onChange={onChange}\n              check_number={check_number || \"\"}\n              toggleFormOption={toggleFormOption}\n            />\n            <BudgetExclusion\n              budget_exclusion={budget_exclusion}\n              formOptions={transaction.formOptions}\n              onChange={onChange}\n              selectedAccount={selectedAccount}\n              toggleFormOption={toggleFormOption}\n            />\n            <Receipt\n              formOptions={transaction.formOptions}\n              onChange={onChange}\n              toggleFormOption={toggleFormOption}\n            />\n          </div>\n        </div>\n        <SubmitButton\n          buttonText={buttonText}\n          onSubmit={onSubmit}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\nimport objectify from \"../../models/transaction\"\nimport { titleize } from \"../../locales/functions\"\n\nimport {\n  addDetailToNew,\n  created,\n  editNewFormOptions,\n  resetNew,\n  removeNewDetail,\n  toggleNewForm,\n  updateNew,\n  updateNewDetail,\n} from \"../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport FindOrDefault from \"../../functions/FindOrDefault\"\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst New = (props) => {\n  const { budgetOptions, dispatch, selectedAccount, showBudgetExclusion, showCheck, showNotes } = props\n  const formOptions = { showBudgetExclusion: showBudgetExclusion, showCheck: showCheck, showNotes: showNotes }\n  const transaction = objectify(props.transaction, formOptions)\n  const { details } = transaction\n\n  const addDetail = (e) => {\n    e.preventDefault()\n    const action = addDetailToNew()\n    dispatch(action)\n  }\n\n  const removeDetail = (index) => {\n    const action = removeNewDetail({ index: index })\n    dispatch(action)\n  }\n\n  const handleKeyDown = () => null\n\n  const resetForm = () => {\n    const action = resetNew()\n    dispatch(action)\n    closeForm()\n  }\n\n  const toggleFormOption = e => {\n    const { name } = e.target\n    const action = editNewFormOptions({ [name]: !transaction.formOptions[name] })\n    dispatch(action)\n  }\n\n  const closeForm = () => dispatch(toggleNewForm())\n\n  const onChange = (payload) => {\n    const action = updateNew(payload)\n    dispatch(action)\n  }\n\n  const onDetailChange = (index, attributes) => {\n    const action = updateNewDetail({ index: index, attributes: attributes })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const details_attributes = details.map(detail => {\n      let adjusted = Math.round((parseFloat(detail.amount) || 0) * 100)\n      return { ...detail, amount: adjusted }\n    })\n    const description = transaction.description === \"\" ? null : transaction.description\n    const url = ApiUrlBuilder({ route: \"transactions-index\", accountId: selectedAccount.id })\n    const body = JSON.stringify({\n      ...transaction,\n      description: description,\n      details_attributes: details_attributes,\n    })\n    const event = EventMessageBuilder({\n      eventType: \"transaction-entry-create\",\n      accountName: selectedAccount.name,\n    })\n    const onSuccess = (data) => {\n      dispatch(created(data))\n      dispatch(resetNew({ showForm: true }))\n    }\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  return (\n    <Form\n      transaction={transaction}\n      addDetail={addDetail}\n      budgetOptions={budgetOptions}\n      buttonText={props.buttonText}\n      handleKeyDown={handleKeyDown}\n      onChange={onChange}\n      onDetailChange={onDetailChange}\n      onSubmit={onSubmit}\n      removeDetail={removeDetail}\n      resetForm={resetForm}\n      selectedAccount={selectedAccount}\n      toggleFormOption={toggleFormOption}\n    />\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const transaction = state.transactions.new\n  const selectedAccountId = parseInt(state.transactions.metadata.query_options.account_id)\n  const selectedAccount = FindOrDefault(state.accounts.collection, (account => account.id === selectedAccountId), { cash_flow: true })\n  const items = state.transactions.budgetItems.collection\n  const collection = items.filter(item => !item.monthly || item.deletable)\n  const labelFor = (item) => `${item.name} (${MoneyFormatter(item.remaining, { absolute: true })})`\n  const optionFor = (item) => ({\n    value: item.id,\n    label: labelFor(item),\n    monthly: item.monthly,\n    amount: parseFloat(item.amount / 100.0).toFixed(2),\n  })\n  const sortFn = (a, b) => a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  const filterFn = (item) => !item.accrual || item.matureAccrual\n  const itemOptions = collection\n    .filter(filterFn)\n    .map(optionFor)\n    .sort(sortFn)\n  const discretionary = { label: titleize(copy.discretionary.title), value: null }\n  const budgetOptions = [discretionary, ...itemOptions]\n  const { showCheck, showNotes } = transaction.formOptions\n\n  return {\n    buttonText: \"Create Transaction\",\n    budgetOptions: budgetOptions,\n    selectedAccount: selectedAccount,\n    showCheck: showCheck,\n    showBudgetExclusion: !selectedAccount.cashFlow,\n    showNotes: showNotes,\n    transaction: transaction,\n  }\n}\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transaction as copy } from \"../../locales/copy\"\nimport { toggleNewForm } from \"../../actions/transactions\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\nimport New from \"./New\"\n\nconst AddTransaction = ({ dispatch, showForm }) => {\n  const expandForm = (e) => {\n    e.preventDefault()\n    const action = toggleNewForm()\n    dispatch(action)\n  }\n\n  if (showForm) {\n    return (\n      <New />\n    )\n  } else {\n    return (\n      <div className=\"transaction-wrapper\">\n        <div className=\"transaction\">\n          <div className=\"left-icon\">\n          </div>\n          <Link to=\"#\" onClick={expandForm}>\n            <Icon className=\"fas fa-plus\" />\n            {\" \"}\n            <strong>{copy.addNewButtonText}</strong>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { showForm } = state.transactions.new\n  return { showForm: showForm }\n}\n\nexport default connect(mapStateToProps)(AddTransaction)\n","import React from \"react\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ amount, details, showDetail }) => {\n  if (showDetail && details.length > 1) {\n    return (\n      <div className=\"amounts\">\n        <div className=\"amount-detail\">\n          {MoneyFormatter(amount)}\n        </div>\n        {details.map(detail => (\n          <Detail key={detail.id} amount={detail.amount} />\n        ))}\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"amounts\">\n        <div className=\"amount-detail\">\n          {MoneyFormatter(amount)}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst Detail = ({ amount }) => (\n  <div className=\"amount-detail detail-show\">\n    {MoneyFormatter(amount)}\n  </div>\n)\n","import React from \"react\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ balance }) => (\n  <div className=\"balance\">\n    {MoneyFormatter(balance)}\n  </div>\n)\n","import React from \"react\"\n\nimport Icon from \"../../Icons/Icon\"\n\nexport const BudgetCategoryIcons = ({ description, details }) => {\n  const budgetItems = details.filter(detail => detail.budget_item_id !== null)\n  const emptyDescription = (description === null || description === \"\")\n  const showDetail = details.length > 1 || (budgetItems.length === 1 && !emptyDescription)\n\n  if (showDetail) {\n    return (\n      <div className=\"info-item\">\n        {budgetItems.map((item, index) => (\n          <span key={index}>\n            {index > 0 && <SpaceSpan />}\n            <Icon className={item.icon_class_name} />\n            {\" \"}\n          </span>\n        ))}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport const CheckIcon = ({ checkNumber }) => {\n  const emptyCheckNumber = checkNumber === \"\" || checkNumber === null\n\n  if (emptyCheckNumber) {\n    return null\n  } else {\n    return(\n      <div className=\"info-item\">\n        <Icon className=\"fas fa-money-check\" />\n      </div>\n    )\n  }\n}\n\nexport const NotesIcon = ({ notes }) => {\n  const emptyNote = notes === \"\" || notes === null\n\n  if (emptyNote) {\n    return null\n  } else {\n    return(\n      <div className=\"info-item\">\n        <Icon className=\"fas fa-sticky-note\" />\n      </div>\n    )\n  }\n}\n\nconst SpaceSpan = () => <span className=\"spacer\"></span>\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Icon from \"../../Icons/Icon\"\n\nexport default ({ checkNumber }) => {\n  if (checkNumber) {\n    return (\n      <div className=\"check-number\">\n        <Icon className=\"fas fa-money-check\" /> {titleize(copy.check)}: {checkNumber}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport Icon from \"../../Icons/Icon\"\n\nexport default ({ notes }) => {\n  if (notes) {\n    return(\n      <div className=\"notes\">\n        <div className=\"notes-icon\">\n          <Icon className=\"fas fa-sticky-note\" />\n        </div>\n        <div className=\"notes-content\">\n          {notes.split(\"<br>\").map((note, index) => (\n            <Note key={index} note={note} />\n          ))}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Note = ({ note }) => (\n  <div className=\"note-line\">\n    {note}\n  </div>\n)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { BudgetCategoryIcons, CheckIcon, NotesIcon } from \"./Icons\"\nimport CheckNumber from \"./CheckNumber\"\nimport Notes from \"./Notes\"\n\nexport default (props) => {\n  const {\n    id,\n    balance,\n    budgetExclusion,\n    check_number,\n    description,\n    details,\n    notes,\n    showDetail,\n  } = props\n\n  if (id === 0) {\n    return null\n  } else {\n    return (\n      <div className=\"transaction-row txn-second-row\">\n        <TransactionInfo\n          budgetExclusion={budgetExclusion}\n          check_number={check_number}\n          description={description}\n          details={details}\n          notes={notes}\n          showDetail={showDetail}\n        />\n        <TransactionBalance\n          balance={balance}\n        />\n      </div>\n    )\n  }\n}\n\nconst TransactionInfo = (props) => {\n  const {\n    budgetExclusion,\n    check_number,\n    description,\n    details,\n    notes,\n    showDetail,\n  } = props\n\n  if (showDetail) {\n    return (\n      <div className=\"txn-info-stack\">\n        <Notes notes={notes} />\n        <CheckNumber checkNumber={check_number} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"txn-info\">\n        <BudgetCategoryIcons description={description} details={details} />\n        <BudgetExclusion exclusion={budgetExclusion} />\n        <NotesIcon notes={notes} />\n        <CheckIcon checkNumber={check_number} />\n      </div>\n    )\n  }\n}\n\nconst BudgetExclusion = ({ exclusion }) => {\n  if (!exclusion) {\n    return null\n  } else {\n    return (\n      <div className=\"info-item budget-exclusion\">\n        budget exclusion\n      </div>\n    )\n  }\n}\n\nconst TransactionBalance = ({ balance }) => (\n  <div className=\"txn-balance\">\n    {MoneyFormatter(balance)}\n  </div>\n)\n","import React from \"react\"\nimport Icon from \"../../Icons/Icon\"\n\nexport default (props) => {\n  const {\n    description,\n    details,\n    showDetail,\n  } = props\n\n  const budgetItems = details.filter(detail => detail.budget_item_id !== null)\n  const emptyDescription = (description === \"\" || description === null)\n\n  if (budgetItems.length > 0 && !emptyDescription && !showDetail) {\n    return (\n      <div className=\"budget-categories\">\n        {budgetItems.map((item, index) =>\n          <span key={index}>\n            {index > 0 && \"; \"}\n            <Icon className={item.icon_class_name} />\n            {\" \"}\n            {item.budget_category}\n          </span>\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default ({ budgetExclusion }) => {\n  if (budgetExclusion) {\n    return (\n      <div className=\"exclusion\">\n        {copy.budgetExclusion}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport * as DateFormatter from \"../../../functions/DateFormatter\"\n\nexport default ({ clearanceDate }) => {\n  const longDate = clearanceDate === null ? copy.pending : DateFormatter.fromDateString(clearanceDate)\n  const shortDate = clearanceDate === null ? copy.pending : DateFormatter.fromDateString(clearanceDate, { format: \"m/d\" })\n\n  return (\n    <div className=\"clearance-date\">\n      <ShortDateSpan clearanceDate={clearanceDate} shortDate={shortDate} />\n      <span className=\"long-date\">\n        {longDate}\n      </span>\n    </div>\n  )\n}\n\nconst ShortDateSpan = ({ clearanceDate, shortDate }) => (\n  <span className={`short-date ${clearanceDate === null ? copy.pending : \"\"}`}>\n    {shortDate}\n  </span>\n)\n","import React from \"react\"\n\nimport Icon from \"../../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => {\n  const {\n    collapseDetail,\n    description,\n    details,\n    expandDetail,\n    showDetail,\n  } = props\n\n  const onClick = showDetail ? collapseDetail : expandDetail\n  const budgetDetails = details.filter(detail => detail.budget_item_id !== null)\n\n  return (\n    <div className=\"description\">\n      <div className=\"plain-text\">\n        <Description budgetDetails={budgetDetails} description={description} onClick={onClick} />\n      </div>\n      <div className=\"link\">\n        <Link to=\"#\" onClick={onClick}>\n          <Description budgetDetails={budgetDetails} description={description} />\n        </Link>\n      </div>\n      <BudgetItemDetails description={description} details={details} showDetail={showDetail} />\n    </div>\n  )\n}\n\nconst Description = ({ budgetDetails, description }) => {\n  const emptyDescription = description === null || description === \"\"\n\n  if (emptyDescription) {\n    return (\n      <DetailsMap budgetDetails={budgetDetails} />\n    )\n  } else {\n    return (\n      <span>{description}</span>\n    )\n  }\n}\n\nconst DetailsMap = ({ budgetDetails }) => (\n  <span>\n    {budgetDetails.map((detail, index) => (\n      <span className=\"budget-item\" key={detail.id}>\n        {index > 0 && \"; \"}\n        {detail.budget_category} <Icon className={detail.icon_class_name} />\n        {\" \"}\n      </span>\n    ))}\n  </span>\n)\n\nconst BudgetItemDetails = ({ description, details, showDetail }) => {\n  const displayableDetails = details.length > 1 || description !== null\n\n  if (showDetail && displayableDetails) {\n    return (\n      <div className=\"description-details\">\n        {details.map(detail => (\n          <div className=\"description-detail\" key={detail.id}>\n            {detail.budget_category} <Icon className={detail.icon_class_name} />\n          </div>\n        ))}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as budgetCopy, transaction as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport {\n  addDetailToEntry,\n  editDetailProps,\n  editFormOptions,\n  editProps,\n  removeDetail,\n  toggleEditForm,\n  updated,\n} from \"../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\nimport { put } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = (props) => {\n  const { budgetOptions, dispatch, transaction } = props\n  const { id, account_id, clearance_date, details } = transaction\n\n  const handleKeyDown = (e) => {\n    if (e.which !== 13) {\n      return\n    }\n    onSubmit()\n  }\n\n  const resetForm = (e) => {\n    e.preventDefault()\n    const action = toggleEditForm({ id: id })\n    dispatch(action)\n  }\n\n  const detailDelete = (detailId, detail) => {\n    const confirmation = window.confirm(copy.deleteDetailConfirmationMessage)\n    const { amount, budget_item_id, budget_category } = detail\n\n    if (confirmation) {\n      const action = removeDetail({\n        account_id: account_id,\n        amount: (Math.round(amount * -100)),\n        clearance_date: clearance_date,\n        detailId: detailId,\n        transactionId: id,\n      })\n      const url = ApiUrlBuilder({ route: \"transaction-show\", id: id, accountId: account_id })\n      const body = JSON.stringify({\n        details_attributes: [{ id: detailId, _destroy: true }]\n      })\n      const onSuccess = () => dispatch(action)\n      const event = EventMessageBuilder({\n        eventType: \"transaction-detail-delete\",\n        id: detailId,\n        entryId: id,\n        amount: amount,\n        budgetItemId: budget_item_id,\n        budgetCategory: budget_category\n      })\n      put(url, body, { event: event, onSuccess: onSuccess })\n    }\n  }\n\n  const onChange = (payload) => {\n    const action = editProps({ id: id, ...payload })\n    dispatch(action)\n  }\n\n  const onDetailChange = (detailId, payload) => {\n    const action = editDetailProps({ txnId: id, detailId: detailId, ...payload })\n    dispatch(action)\n  }\n\n  const addDetail = () => {\n    const action = addDetailToEntry({ id: id, detailId: details.length })\n    dispatch(action)\n  }\n\n  const toggleFormOption = (e) => {\n    const optionName = e.target.name\n    const action = editFormOptions({ id: id, [optionName]: !transaction.formOptions[optionName] })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const description = transaction.description === \"\" ? null : transaction.description\n    const url = ApiUrlBuilder({ route: \"transaction-show\", id: id, accountId: account_id })\n    const body = JSON.stringify({\n      ...transaction,\n      description: description,\n      details_attributes: details.map(detail => (\n        {\n          ...detail,\n          ...detail.updatedProps,\n          amount: Math.round(parseFloat(detail.updatedProps.amount) * 100),\n        }\n      ))\n    })\n    const onSuccess = (data) => dispatch(updated({\n      ...data,\n      showForm: false,\n      originalAmount: transaction.originalAmount\n    }))\n    const event = EventMessageBuilder({\n      eventType: \"transaction-entry-update\",\n      id: id,\n      changedProps: transaction.changedProps,\n      details: details.map(detail => (\n        {\n          id: detail.id,\n          changedProps: changedProps(\n            {\n              ...detail,\n              ...detail.originalProps,\n            },\n            {\n              ...detail.updatedProps,\n              amount: Math.round(parseFloat(detail.updatedProps.amount) * 100),\n            }\n          ),\n        }\n      ))\n    })\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  if (transaction.showForm) {\n    return (\n      <Form\n        addDetail={addDetail}\n        budgetOptions={budgetOptions}\n        buttonText={titleize(copy.updateButtonText)}\n        handleKeyDown={handleKeyDown}\n        onChange={onChange}\n        onDetailChange={onDetailChange}\n        onSubmit={onSubmit}\n        removeDetail={detailDelete}\n        resetForm={resetForm}\n        toggleFormOption={toggleFormOption}\n        {...props}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const updatedProps = {\n    amount: parseFloat(ownProps.amount / 100.0).toFixed(2),\n    ...ownProps.updatedProps,\n  }\n\n  const details = ownProps.details.map(detail => {\n    return {\n      ...detail,\n      originalProps: detail,\n      amount: parseFloat(detail.amount / 100.0).toFixed(2),\n      ...detail.updatedProps,\n      updatedProps: {\n        amount: parseFloat(detail.amount / 100.0).toFixed(2),\n        ...detail.updatedProps,\n      }\n    }\n  })\n\n  const items = state.transactions.budgetItems.collection\n  const collection = items.filter(item => !item.monthly || item.deletable || item.id === ownProps.budget_item_id)\n  const labelFor = (item) => `${item.name} (${MoneyFormatter(item.remaining, { absolute: true })})`\n  const optionFor = (item) => ({ value: item.id, label: labelFor(item) })\n  const sortFn = (a, b) => a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  const filterFn = (item) => !item.accrual || item.matureAccrual\n  const itemOptions = collection\n    .filter(filterFn)\n    .map(optionFor)\n    .sort(sortFn)\n  const discretionary = { label: titleize(budgetCopy.discretionary.title), value: null }\n  const budgetOptions = [discretionary, ...itemOptions]\n\n  return {\n    transaction: {\n      ...ownProps,\n      ...updatedProps,\n      changedProps: changedProps(ownProps, { ...updatedProps, amount: Math.round(parseFloat(updatedProps.amount) * 100) }),\n      details: details,\n      originalAmount: ownProps.amount,\n    },\n    budgetOptions: budgetOptions,\n    selectedAccount: state.accounts.collection.find(acct => acct.id === ownProps.account_id),\n  }\n}\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { Link } from \"react-router-dom\"\n\nconst EditLink = ({ onClick }) => (\n  <div className=\"transaction-edit-button\">\n    <Link\n      className=\"far fa-edit\"\n      to=\"#\"\n      onClick={onClick}\n    />\n  </div>\n)\n\nconst mapStateToProps = (_state, ownProps) => ownProps\nexport default connect(mapStateToProps)(EditLink)\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ onClick }) => (\n  <div className=\"transaction-delete-button\">\n    <Link\n      className=\"fas fa-trash-alt\"\n      to=\"#\"\n      onClick={onClick}\n    />\n  </div>\n)\n","import React from \"react\"\n\nimport EditLink from \"./EditLink\"\nimport DeleteButton from \"./DeleteButton\"\n\nexport default ({ revealForm, transactionDelete }) => (\n  <div className=\"end-links\">\n    <EditLink onClick={revealForm} />\n    <DeleteButton onClick={transactionDelete} />\n  </div>\n)\n\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ collapseDetail, details, expandDetail, showDetail }) => {\n  if (details.length < 2) {\n    return null\n  } else if (showDetail) {\n    return (\n      <Link className='fas fa-caret-down' to='#' onClick={collapseDetail} />\n    )\n  } else {\n    return (\n      <Link className='fas fa-caret-right' to='#' onClick={expandDetail} />\n    )\n  }\n}\n","import React from \"react\"\n\nimport DeleteButton from \"./DeleteButton\"\nimport EditLink from \"./EditLink\"\n\nexport default ({ id, revealForm, showDetail, transactionDelete }) => {\n  if (id === 0 || !showDetail) {\n    return null\n  } else {\n    return (\n      <div className=\"transaction-row txn-links\">\n        <EditLink onClick={revealForm} />\n        <DeleteButton onClick={transactionDelete} />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { edit, deleteTransaction, toggleEditForm } from \"../../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport Amount from \"./Amount\"\nimport Balance from \"./Balance\"\nimport BottomRow from \"./BottomRow\"\nimport BudgetCategories from \"./BudgetCategories\"\nimport BudgetExclusion from \"./BudgetExclusion\"\nimport CheckNumber from \"./CheckNumber\"\nimport ClearanceDate from \"./ClearanceDate\"\nimport Description from \"./Description\"\nimport Edit from \"../Edit\"\nimport EndLinks from \"./EndLinks\"\nimport Notes from \"./Notes\"\nimport LeftIcon from \"./LeftIcon\"\nimport TxnLinks from \"./TxnLinks\"\n\nconst Show = (props) => {\n  const {\n    id,\n    account_id,\n    amount,\n    balance,\n    budget_exclusion,\n    check_number,\n    clearance_date,\n    deletable,\n    description,\n    details,\n    notes,\n    showDetail,\n    showForm,\n  } = props\n\n  const expandDetail = (e) => {\n    e.preventDefault()\n    const action = edit({ id: id, showDetail: true })\n    props.dispatch(action)\n  }\n\n  const collapseDetail = (e) => {\n    e.preventDefault()\n    const action = edit({ id: id, showDetail: false })\n    props.dispatch(action)\n  }\n\n  const revealForm = (e) => {\n    e.preventDefault()\n    const action = toggleEditForm({ id: id })\n    props.dispatch(action)\n  }\n\n  const transactionDelete = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(copy.deleteConfirmationMessage)\n    if (!confirmation) {\n      return\n    } else {\n      const url = ApiUrlBuilder({ route: \"transaction-show\", id: id, accountId: account_id })\n      const action = deleteTransaction({ id: id, amount: (-1 * amount), account_id: account_id })\n      const event = EventMessageBuilder({\n        eventType: \"transaction-entry-delete\",\n        id: id,\n        details: details\n      })\n      deleteRequest(url, event, () => props.dispatch(action))\n    }\n  }\n\n  if (showForm) {\n    return (\n      <Edit { ...props } />\n    )\n  } else {\n    return (\n      <div className=\"transaction-wrapper\">\n        <div className=\"transaction\">\n          <div className=\"transaction-row\">\n            <div className=\"left-content\">\n              <div className=\"left-caret\">\n                <LeftIcon\n                  collapseDetail={collapseDetail}\n                  details={details}\n                  expandDetail={expandDetail}\n                  showDetail={showDetail}\n                />\n              </div>\n              <ClearanceDate clearanceDate={clearance_date} />\n              <Description\n                collapseDetail={collapseDetail}\n                description={description}\n                details={details}\n                expandDetail={expandDetail}\n                showDetail={showDetail}\n              />\n            </div>\n            <div className=\"middle-content\">\n              <Amount amount={amount} details={details} showDetail={showDetail} />\n              <Balance balance={balance} />\n              <BudgetCategories\n                description={description}\n                details={details}\n                showDetail={showDetail}\n              />\n              <BudgetExclusion budgetExclusion={budget_exclusion} />\n              <Notes notes={notes} />\n              <CheckNumber checkNumber={check_number} />\n            </div>\n          </div>\n          <EndLinks revealForm={revealForm} transactionDelete={transactionDelete} />\n          <BottomRow\n            id={id}\n            balance={balance}\n            budgetExclusion={budget_exclusion}\n            check_number={check_number}\n            description={description}\n            details={details}\n            notes={notes}\n            showDetail={showDetail}\n          />\n          <TxnLinks\n            id={id}\n            deletable={deletable}\n            revealForm={revealForm}\n            showDetail={showDetail}\n            transactionDelete={transactionDelete}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport const mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Show)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transaction as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport formatted, * as DateFormatter from \"../../functions/DateFormatter\"\n\nimport AddTransaction from \"./AddTransaction\"\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\nimport Transaction from \"./Show/Show\"\n\nconst Transactions = (props) => {\n  const {\n    collection,\n    endDate,\n    initialTransaction,\n    nextMonth,\n    prevMonth,\n    slug,\n    startDate,\n  } = props\n\n  const nextMonthUrl = `/accounts/${slug}/${nextMonth.month}/${nextMonth.year}`\n  const prevMonthUrl = `/accounts/${slug}/${prevMonth.month}/${prevMonth.year}`\n\n  return (\n    <div className=\"transactions\">\n      <h2>{titleize(copy.title)}</h2>\n      <div className=\"transaction-metadata\">\n        <div className=\"date-range\">\n          {copy.dateRange(startDate, endDate)}\n        </div>\n        <div className=\"page-links\">\n          <Link to={prevMonthUrl}>\n            <Icon className=\"fas fa-angle-double-left\" />\n            {formatted({ ...prevMonth, format: \"numericMonthYear\" })}\n          </Link>\n          <Link to={nextMonthUrl}>\n            {formatted({ ...nextMonth, format: \"numericMonthYear\" })}\n            <Icon className=\"fas fa-angle-double-right\" />\n          </Link>\n        </div>\n      </div>\n      <hr/>\n      <Transaction key=\"0\" {...initialTransaction} />\n      {collection.map(transaction =>\n        <Transaction\n          key={transaction.id}\n          {...transaction}\n          deletable={true}\n        />\n      )}\n      <AddTransaction />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { collection, metadata } = state.transactions\n  const startDate = DateFormatter.fromDateString(metadata.date_range[0])\n  const endDate =  DateFormatter.fromDateString(metadata.date_range[1])\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n\n  const orderedTransactions = collection.sort(function(a, b) {\n    if (a.clearance_date === b.clearance_date) {\n      return 0\n    } else if (a.clearance_date === null) {\n      return b.clearance_date > today ? -1 : 1\n    } else if (b.clearance_date === null) {\n      return a.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.clearance_date > b.clearance_date) ? 1 : -1\n    }\n  })\n\n  const collectionWithBalance = () => {\n    let balance = metadata.prior_balance\n    return orderedTransactions.map(transaction => {\n      balance += transaction.amount\n      return { balance: balance, ...transaction }\n    })\n  }\n\n  const initialTransaction = {\n    id: 0,\n    amount: metadata.prior_balance,\n    balance: metadata.prior_balance,\n    check_number: null,\n    clearance_date: metadata.date_range[0],\n    description: \"Balance\",\n    details: [],\n    notes: null,\n  }\n\n  const { month, year } = ownProps\n  const nextMonth = DateFormatter.nextMonth({ month: month, year: year })\n  const prevMonth = DateFormatter.prevMonth({ month: month, year: year })\n\n  return {\n    ...state.transactions,\n    startDate: startDate,\n    endDate: endDate,\n    initialTransaction: initialTransaction,\n    collection: collectionWithBalance(),\n    prevMonth: prevMonth,\n    nextMonth: nextMonth,\n    ...ownProps,\n  }\n}\n\nexport default connect(mapStateToProps)(Transactions)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetchedBudgetItems, fetchedTransactions } from \"../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport Transactions from \"./Transactions\"\n\nconst Wrapper = (props) => {\n  const {\n    accountId,\n    isApiUnauthorized,\n    dispatch,\n    fetched,\n    month,\n    slug,\n    urlAccountId,\n    urlMonth,\n    urlYear,\n    year,\n  } = props\n\n  if (!Number.isInteger(urlAccountId)) {\n    return null\n  }\n\n  const fetchTransactions = () => {\n    const url = ApiUrlBuilder({\n      route: \"transactions-index\",\n      accountId: urlAccountId,\n      query: { month: urlMonth, year: urlYear },\n    })\n    const onSuccess = data => dispatch(fetchedTransactions({...data, slug: slug }))\n    get(url, onSuccess)\n  }\n\n  const fetchBudgetItems = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-index\", query: { month: urlMonth, year: urlYear } })\n    const onSuccess = data => dispatch(fetchedBudgetItems(data))\n    get(url, onSuccess)\n  }\n\n  const isNewMonthYear = !(urlMonth === month && urlYear === year)\n  const isTransctionCacheStale = (isNewMonthYear ||  urlAccountId !== accountId)\n  const isBudgetCacheStale = (!fetched || isNewMonthYear)\n\n  if (isApiUnauthorized) {\n    return null\n  } else if (isTransctionCacheStale || isBudgetCacheStale) {\n    if (isTransctionCacheStale) {\n      fetchTransactions()\n    }\n    if (isBudgetCacheStale) {\n      fetchBudgetItems()\n    }\n  }\n\n  return (\n    <Transactions {...props} />\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { query_options } = state.transactions.metadata\n  const { fetched } = state.transactions.budgetItems\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    accountId: parseInt(query_options.account_id),\n    isApiUnauthorized: isApiUnauthorized,\n    fetched: fetched,\n    month: parseInt(query_options.month),\n    slug: ownProps.slug,\n    urlAccountId: ownProps.accountId,\n    urlMonth: ownProps.month,\n    urlYear: ownProps.year,\n    year: parseInt(query_options.year),\n  }\n}\n\nexport default connect(mapStateToProps)(Wrapper)\n","import React from \"react\"\nimport TransfersLink from \"./TransfersLink\"\nimport ManageButton from \"./ManageButton\"\nimport TransactionsWrapper from \"../Transactions/Wrapper\"\n\nexport default ({ month, year, selectedAccount, selectedAccountId, slug }) => {\n  if (selectedAccountId === 0) {\n    return (\n      <AdminLinks />\n    )\n  } else {\n    return(\n      <div>\n        <TransactionsWrapper\n          accountId={selectedAccountId}\n          month={month}\n          selectedAccount={selectedAccount}\n          slug={slug}\n          year={year}\n        />\n        <hr />\n        <AdminLinks />\n      </div>\n    )\n  }\n}\n\nconst AdminLinks = () => (\n  <div>\n    <TransfersLink />\n    <ManageButton />\n  </div>\n)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ id, name, balance, selectedAccountId, slug }) => (\n  <Link to={`/accounts/${slug}`}>\n    <div className={`account ${selectedAccountId === id ? \"active\" : \"\" }`}>\n      <div className=\"account-name\">\n        <h3>{name}</h3>\n      </div>\n      <div className=\"balance\">\n        <div>{MoneyFormatter(balance)}</div>\n      </div>\n    </div>\n  </Link>\n)\n","import React from \"react\"\nimport Tab from \"./Tab\"\n\nexport default ({ collection, selectedAccountId }) => (\n  <div>\n    {collection.map(account =>\n      <Tab\n        key={account.id}\n        {...account}\n        selectedAccountId={selectedAccountId}\n      />\n    )}\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { fetched } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\nimport FindOrDefault from \"../../functions/FindOrDefault\"\n\nimport Details from \"./Details\"\nimport { Redirect } from \"react-router-dom\"\nimport Tabs from \"./Tabs\"\n\nconst Wrapper = (props) => {\n  const {\n    accountsFetched,\n    isApiUnauthorized,\n    collection,\n    dateParams,\n    dispatch,\n    month,\n    selectedAccount,\n    selectedAccountId,\n    slug,\n    year,\n  } = props\n\n  if (!isApiUnauthorized && !accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n\n  if ((dateParams.month && dateParams.year) || selectedAccountId === 0) {\n    return (\n      <div className=\"accounts\">\n        <Tabs\n          collection={collection}\n          selectedAccountId={selectedAccountId}\n        />\n        <Details\n          month={month}\n          selectedAccountId={selectedAccountId}\n          selectedAccount={selectedAccount}\n          slug={slug}\n          year={year}\n        />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/accounts/${slug}/${month}/${year}`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const nullAccount = {\n    id: 0,\n    cash_flow: true,\n    name: \"\",\n    priority: \"\",\n    slug: null,\n  }\n\n  const slug = ownProps.match.params.slug || state.transactions.slug\n  const selectedAccount = FindOrDefault(state.accounts.collection, acct => acct.slug === slug, nullAccount)\n  const selectedAccountId = selectedAccount.id\n  const month = parseInt(ownProps.match.params.month) || state.transactions.metadata.query_options.month\n  const year = parseInt(ownProps.match.params.year) || state.transactions.metadata.query_options.year\n  const accountsFetched = state.accounts.accountsFetched\n  const collection = state.accounts.collection.sort((a, b) => a.priority - b.priority)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    accountsFetched: accountsFetched,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: collection,\n    month: month,\n    dateParams: {\n      month: ownProps.match.params.month,\n      year: ownProps.match.params.year,\n    },\n    selectedAccountId: selectedAccountId,\n    selectedAccount: selectedAccount,\n    slug: slug,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Wrapper)\n","import React from \"react\"\n\nimport { account as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Icon from \"../../Icons/Icon\"\n\nconst {\n  cancelButtonText,\n  cashFlow,\n  createButtonText,\n  name,\n  priority,\n  updateButtonText,\n} = copy\n\nexport default (props) => (\n  <div className=\"account-edit\">\n    <div>\n      <h3>\n        {props.title}\n      </h3>\n      <hr />\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {name}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input type=\"text\" name=\"name\" value={props.name} onChange={props.updateAccountProps} />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {titleize(copy.slugLabel)}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input type=\"text\" name=\"slug\" value={props.slug} onChange={props.updateAccountProps} />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {priority}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input type=\"number\" name=\"priority\" value={props.priority} onChange={props.updateAccountProps} />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {titleize(cashFlow)}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input\n            type=\"checkbox\"\n            name=\"cash_flow\"\n            checked={props.cash_flow}\n            onChange={props.updateCashFlow}\n          />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <button type=\"submit\" className=\"submit\" onClick={props.submitForm}>\n          {titleize(props.id ? updateButtonText : createButtonText)} <Icon className=\"far fa-save\" />\n        </button>\n        <button type=\"cancel\" className=\"cancel\" onClick={props.closeForm}>\n          {titleize(cancelButtonText)} <Icon className=\"fas fa-times\" />\n        </button>\n      </div>\n    </div>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { created, resetForm, toggleShowNewForm, updateNew } from \"./actions\"\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Icon from \"../Icons/Icon\"\nimport Form from \"./Form/Form\"\nimport { Link } from \"react-router-dom\"\n\nconst New = (props) => {\n  const {\n    cash_flow,\n    dispatch,\n    name,\n    priority,\n    showNewForm,\n    slug,\n  } = props\n\n  const showForm = (e) => {\n    e.preventDefault()\n    dispatch(resetForm())\n    const action = toggleShowNewForm({ showForm: true })\n    dispatch(action)\n  }\n\n  const closeForm = (e) => {\n    e.preventDefault()\n    const action = toggleShowNewForm({ showForm: false })\n    dispatch(action)\n  }\n\n  const updateCashFlow = () => {\n    const action = updateNew({ cash_flow: !cash_flow })\n    dispatch(action)\n  }\n\n  const updateAccountProps = (e) => {\n    const action = updateNew({ [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const submitForm = () => {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const body = JSON.stringify({ name: name, priority: priority, cash_flow: cash_flow, slug: slug })\n    const event = EventMessageBuilder({ eventType: \"account-create\" })\n    const onSuccess = (data) => {\n      dispatch(created(data))\n      dispatch(resetForm())\n    }\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  if (showNewForm) {\n    return (\n      <Form\n        {...props}\n        closeForm={closeForm}\n        submitForm={submitForm}\n        title=\"Add New\"\n        updateAccountProps={updateAccountProps}\n        updateCashFlow={updateCashFlow}\n      />\n    )\n  } else {\n    return(\n      <div className=\"account-edit\">\n        <div>\n          <h3>\n            <Link to=\"#\" onClick={showForm}>\n              <Icon className=\"fas fa-plus\" /> Add new\n            </Link>\n          </h3>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.accounts.newAccount,\n    showNewForm: state.accounts.showNewForm\n  }\n}\n\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { resetAccount, update, updated, updateProps } from \"./actions\"\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../functions/EventMessageBuilder\"\nimport { put } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = (props) => {\n  const {\n    id,\n    dispatch,\n    name,\n    updatedProps,\n  } = props\n\n  const formProps = { ...props, ...updatedProps }\n\n  const closeForm = () => {\n    const action = resetAccount({ id: id, showForm: false })\n    dispatch(action)\n  }\n\n  const resetForm = () => {\n    const action = resetAccount({ id: id })\n    dispatch(action)\n  }\n\n  const updateAccountProps = (e) => {\n    e.preventDefault()\n    const action = updateProps({ id: id, [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const updateCashFlow = () => {\n    const action = updateProps({ id: id, cash_flow: !formProps.cash_flow })\n    dispatch(action)\n  }\n\n  const submitForm = () => {\n    const event = EventMessageBuilder({\n      eventType: \"account-update\",\n      id: id,\n      name: {...props, ...updatedProps}.name,\n      changedProps: changedProps(props, updatedProps),\n    })\n    const url = ApiUrlBuilder({ route: \"account-show\", id: id })\n    const body = JSON.stringify(updatedProps)\n    const onSuccess = data => {\n      dispatch(updated(data))\n      dispatch(update({ id: id, showForm: false }))\n    }\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <Form\n      {...formProps}\n      closeForm={closeForm}\n      title={name}\n      updateAccountProps={updateAccountProps}\n      updateCashFlow={updateCashFlow}\n      resetForm={resetForm}\n      submitForm={submitForm}\n    />\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { account as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\nimport { deleted, update } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\n\nimport Edit from \"./Edit\"\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst AccountShow = (props) => {\n  const {\n    id,\n    cash_flow,\n    dispatch,\n    name,\n    priority,\n    showForm,\n    slug,\n  } = props\n\n  const {\n    cashFlow,\n    deleteButtonText,\n    deleteConfirmationMessage,\n    nonCashFlow,\n  } = copy\n\n  const revealForm = () => {\n    const action = update({ id: id, showForm: true })\n    dispatch(action)\n  }\n\n  const destroy = () => {\n    const confirmation = window.confirm(deleteConfirmationMessage(name))\n    if (!confirmation) { return }\n    const url = ApiUrlBuilder({ route: \"account-show\", id: id })\n    const event = EventMessageBuilder({\n      eventType: \"account-delete\",\n      id: id,\n      name: name\n    })\n    deleteRequest(url, event, () => dispatch(deleted({ id: id })))\n  }\n\n  if (showForm) {\n    return (\n      <Edit\n        {...props}\n      />\n    )\n  } else {\n    return (\n      <div className=\"account-edit\">\n        <div>\n          <h3>\n            {name}\n            {\" \"}\n            <Link\n              to=\"#\"\n              className=\"far fa-edit\"\n              onClick={revealForm}\n            />\n          </h3>\n          <div className=\"slug\">\n            {titleize(copy.slugLabel)}: {slug}\n          </div>\n          <div className=\"cash-flow\">\n            {titleize(cash_flow ? cashFlow : nonCashFlow)}\n          </div>\n          <div className=\"priority\">\n            {copy.priority}: {priority}\n          </div>\n          <div>\n            <button type=\"delete\" onClick={destroy} className=\"delete-account\">\n              {titleize(deleteButtonText)}\n              {\" \"}\n              <Icon className=\"fas fa-trash\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\nexport default connect(mapStateToProps)(AccountShow)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetched } from \"./actions\"\nimport { get } from \"../../functions/ApiClient\"\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\n\nimport New from \"./New\"\nimport Show from \"./Show\"\n\nconst Index = ({ isApiUnauthorized, apiKey, collection, dispatch, accountsFetched }) => {\n  if (isApiUnauthorized) {\n    return null\n  }\n\n  if (!accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"accounts\">\n      <div className=\"account-show\">\n        {collection.map(account =>\n          <Show\n            key={account.id}\n            {...account}\n          />\n        )}\n        <New />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { collection, accountsFetched } = state.accounts\n  const accounts = collection.sort((a, b) => a.priority - b.priority)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    accountsFetched: accountsFetched,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: accounts,\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","export const accrualMaturityIntervalsFetched = (payload) => {\n  return { type: \"budget/categories/MATURITY_INTERVALS_FETCHED\", payload: payload }\n}\n\nexport const applyErrorsOnEdit = (payload) => (\n  { type: \"budget/categories/APPLY_ERRORS_ON_EDIT\", payload: payload }\n)\n\nexport const applyFilter = (payload) => {\n  return { type: \"budget/categories/APPLY_FILTER\", payload: payload }\n}\n\nexport const categoriesFetched = (collection) => {\n  return { type: \"budget/categories/FETCHED\", payload: collection }\n}\n\nexport const created = (payload) => {\n  return { type: \"budget/categories/CREATED\", payload: payload }\n}\n\nexport const deleted = (payload) => {\n  return { type: \"budget/categories/DELETED\", payload: payload }\n}\n\nexport const editMaturityInterval = (payload) => {\n  return { type: \"budget/categories/EDIT_MATURITY_INTERVAL\", payload: payload }\n}\n\nexport const errorsOnNew = (payload) => {\n  return { type: \"budget/categories/ERRORS_ON_NEW\", payload: payload }\n}\n\nexport const maturityIntervalCreated = (payload) => {\n  return { type: \"budget/categories/MATURITY_INTERVAL_CREATED\", payload: payload }\n}\n\nexport const removeMaturityInterval = (payload) => {\n  return { type: \"budget/category/REMOVE_MATURITY_INTERVAL\", payload: payload }\n}\n\nexport const reset = ({ id }) => {\n  return { type: \"budget/categories/RESET\", payload: { id: id, showForm: false } }\n}\n\nexport const resetNewForm = () => {\n  return { type: \"budget/categories/RESET_NEW_FORM\", payload: null }\n}\n\nexport const toggleMaturityIntervalEditForm = (payload) => {\n  return { type: \"budget/categories/TOGGLE_MATURITY_INTERVAL_EDIT_FORM\", payload: payload }\n}\n\nexport const toggleNewForm = (payload) => {\n  return { type: \"budget/categories/TOGGLE_NEW_FORM\", payload: payload }\n}\n\nexport const update = (payload) => {\n  return { type: \"budget/categories/UPDATE\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"budget/categories/UPDATED\", payload: payload }\n}\n\nexport const updateMaturityInterval = (payload) => {\n  return { type: \"budget/categories/UPDATE_MATURITY_INTERVAL\", payload: payload }\n}\n\nexport const updateProps = (payload) => {\n  return { type: \"budget/categories/UPDATE_PROPS\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"budget/categories/UPDATE_NEW\", payload: payload }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport * as DateFormatter from \"../../../functions/DateFormatter\"\nimport FindOrDefault from \"../../../functions/FindOrDefault\"\nimport { get } from \"../../../functions/ApiClient\"\nimport { budget as copy, terms } from \"../../../locales/copy\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { categoriesFetched as fetched } from \"../../../actions/budget/categories\"\n\nconst budgetCategoryDataFetched = payload => (\n  { type: \"budget/categories/show/DATA_FETCHED\", payload: payload }\n)\n\nconst Show = (props) => {\n  const {\n    categoriesFetched,\n    dispatch,\n    dataCachedAt,\n    dateRange,\n    isApiUnauthorized,\n    isCacheValid,\n    selectedCategoryId,\n    selectedCategory,\n    transactionsAndEvents,\n  } = props\n\n  const { combinedEvents, viewingInterals } = copy.category\n  const beginningMonth = DateFormatter.formatted({\n    month: dateRange.beginning_month,\n    year: dateRange.beginning_year,\n    format: \"numericMonthYear\"\n  })\n\n  const endingMonth = DateFormatter.formatted({\n    month: dateRange.ending_month,\n    year: dateRange.ending_year,\n    format: \"numericMonthYear\"\n  })\n\n  if (!isApiUnauthorized && !categoriesFetched) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n    return (<Spinner />)\n  }\n\n  if ((!dataCachedAt || !isCacheValid) && !isApiUnauthorized) {\n    const url = ApiUrlBuilder({ route: \"budget-category-show-data\", id: selectedCategoryId })\n    const onSuccess = data => dispatch(budgetCategoryDataFetched(data))\n    get(url, data => onSuccess(data))\n    return (<Spinner />)\n  }\n\n  return (\n    <div className=\"budget-category-events\">\n      <h2>{selectedCategory.name}</h2>\n      <div>\n        <strong>{combinedEvents}</strong>\n      </div>\n      {viewingInterals(beginningMonth, endingMonth)}\n      {transactionsAndEvents.map((event, index) => (\n        <Event key={index} {...event} />\n      ))}\n    </div>\n  )\n}\n\nconst Event = props => {\n  if (props.hasOwnProperty(\"transaction_entry_id\")) {\n    return (<TransactionEvent {...props} />)\n  } else {\n    return (<BudgetItemEvent {...props} />)\n  }\n}\n\nconst TransactionEvent = props => (\n  <div className=\"budget-category-event\">\n    <div className=\"budget-category-event-date\">\n      {DateFormatter.fromDateString(props.created_at)}\n    </div>\n    <div className=\"budget-category-event-type\">\n      {titleize(terms.transaction)}\n    </div>\n    <div className=\"budget-category-event-amount\">\n      {MoneyFormatter(props.amount)}\n    </div>\n    <div className=\"budget-category-event-cell\">\n      {props.description}\n      {\" \"}\n      <span className=\"italic small\">\n        (\n        {\" \"}\n        {props.account_name}\n        {\" \"}\n        {terms.item} {terms.id}:\n        {\" \"}\n        {props.budget_item_id}\n        {\" \"}\n        )\n      </span>\n    </div>\n  </div>\n)\n\nconst BudgetItemEvent = props => (\n  <div className=\"budget-category-event\">\n    <div className=\"budget-category-event-date\">\n      {DateFormatter.fromDateString(props.created_at)}\n    </div>\n    <div className=\"budget-category-event-type\">\n      {copy.eventLabels[props.name]}\n    </div>\n    <div className=\"budget-category-event-amount\">\n      {MoneyFormatter(props.amount)}\n    </div>\n    <div className=\"budget-category-event-cell\">\n      {terms.month}:\n      {\" \"}\n      {DateFormatter.formatted({ ...props, format: \"numericMonthYear\" })}\n      {\" \"}\n      <span className=\"italic small\">\n        (\n        {\" \"}\n        {terms.item} {terms.id}:\n        {\" \"}\n        {props.budget_item_id}\n        {\" \"}\n        )\n      </span>\n    </div>\n  </div>\n)\n\nconst Spinner = () => (\n  <div className=\"budget-category\">\n    <h3><i className=\"fas fa-spinner fa-spin\" /></h3>\n  </div>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const { slug } = ownProps.match.params\n  const categories = state.budget.categories.collection\n  const stateCategory = state.budget.categories.show\n  const { dataCachedAt, dateRange } = stateCategory\n  const category = FindOrDefault(categories, cat => cat.slug === slug, stateCategory)\n  const isApiUnauthorized = state.api.status === 401\n  const categoriesFetched = state.budget.categories.fetched\n  const isCacheValid = slug === stateCategory.slug\n\n  const sortFn = (a, b) => b.created_at < a.created_at ? 1 : -1\n  const transactionsAndEvents = [...stateCategory.events, ...stateCategory.transactions].sort(sortFn)\n\n  return {\n    categoriesFetched: categoriesFetched,\n    dataCachedAt: dataCachedAt,\n    dateRange: dateRange,\n    isApiUnauthorized: isApiUnauthorized,\n    isCacheValid: isCacheValid,\n    selectedCategoryId: category.id,\n    selectedCategory: category,\n    slug: slug,\n    transactionsAndEvents: transactionsAndEvents,\n  }\n}\n\nexport default connect(mapStateToProps)(Show)\n","export const addFinalizeItem = (payload) => (\n  { type: \"budget/finalize/ADD_FINALIZE_ITEM\", payload: payload }\n)\n\nexport const baseMonthFetch = (payload) => (\n  { type: \"budget/finalize/BASE_MONTH_FETCH\", payload: payload }\n)\n\nexport const editBaseAmount = (payload) => (\n  { type: \"budget/finalize/EDIT_BASE_AMOUNT\", payload: payload }\n)\n\nexport const markIntervalClosed = (\n  { type: \"budget/finalize/MARK_INTERVAL_CLOSED\", payload: null }\n)\n\nexport const markSelected = (payload) => (\n  { type: \"budget/finalize/MARK_SELECTED\", payload: payload }\n)\n\nexport const nextMonthFetch = (payload) => (\n  { type: \"budget/finalize/NEXT_MONTH_FETCH\", payload: payload }\n)\n\nexport const setStatus = (payload) => (\n  { type: \"budget/finalize/SET_STATUS\", payload: payload }\n)\n\nexport const updateExtra = (payload) => (\n  { type: \"budget/finalize/UPDATE_EXTRA\", payload: payload }\n)\n\nexport const updateFinalizeItem = (payload) => (\n  { type: \"budget/finalize/UPDATE_FINALIZE_ITEM\", payload: payload }\n)\n\nexport const updateSelectedFromAccountId = (payload) => (\n  { type: \"budget/finalize/UPDATE_SELECTED_FROM_ACCOUNT_ID\", payload: payload }\n)\n\nexport const updateSelectedToAccountId = (payload) => (\n  { type: \"budget/finalize/UPDATE_SELECTED_TO_ACCOUNT_ID\", payload: payload }\n)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { formatted } from \"../../../functions/DateFormatter\"\n\nexport default ({ month, year }) => (\n  <div className=\"finalize-title\">\n    <h2>\n      {titleize(copy.finalize.title)} {formatted({ month: month, year: year, day: 1, format: \"monthYear\" })}</h2>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { isToday } from \"../../../functions/DateFormatter\"\nimport { get } from \"../../../functions/ApiClient\"\nimport { baseMonthFetch, nextMonthFetch } from \"../actions/finalize\"\n\nimport Header from \"./Header\"\nimport { Redirect } from \"react-router\"\n\nconst Index = (props) => {\n  const {\n    isApiUnauthorized,\n    baseMonthFetched,\n    baseMonthFinalized,\n    dispatch,\n    isEndOfMonth,\n    month,\n    nextMonth,\n    nextMonthFetched,\n    nextYear,\n    year,\n  } = props\n\n  if (!isEndOfMonth) {\n    return (\n      <Redirect to={`/budget/${month}/${year}`} />\n    )\n  }\n\n  if (!isApiUnauthorized && !baseMonthFetched) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: month, year: year },\n    })\n    const onSuccess = data => dispatch(baseMonthFetch(data))\n    get(url, onSuccess)\n  }\n\n  if (!isApiUnauthorized && baseMonthFetched && !nextMonthFetched) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: nextMonth, year: nextYear },\n    })\n    const onSuccess = data => dispatch(nextMonthFetch(data))\n    get(url, onSuccess)\n  }\n\n  if (!baseMonthFetched || !nextMonthFetched) {\n    return (\n      <Header\n        month={month}\n        year={year}\n      />\n    )\n  } else if (baseMonthFinalized) {\n    return (\n      <Redirect to={`/budget/${nextMonth}/${nextYear}`} />\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/accruals`} />\n    )\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { finalize } = state.budget\n  const baseMonthFetched = finalize.baseMonth.isFetched\n  const nextMonthFetched = finalize.next.isFetched\n  const baseMonthFinalized = finalize.baseMonth.is_closed_out\n  const { month, year } = finalize.baseMonth\n  const nextMonth = (finalize.next.month || (baseMonth === 12 ? 1 : (baseMonth + 1)))\n  const nextYear = (finalize.next.year || (baseMonth === 12 ? (baseYear + 1) : baseYear))\n  const isEndOfMonth = isToday(new Date((year || baseYear), (month || baseMonth), 0))\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    baseMonthFetched: baseMonthFetched,\n    baseMonthFinalized: baseMonthFinalized,\n    isEndOfMonth: isEndOfMonth,\n    month: (month || baseMonth),\n    nextMonth: nextMonth,\n    nextMonthFetched: nextMonthFetched,\n    nextYear: nextYear,\n    year: (year || baseYear),\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","export const addCategory = (newCategory) => {\n  return { type: \"budget/ADD_CATEGORY\", payload: newCategory }\n}\n\nexport const addMonthlyItem = (payload) => {\n  return { type: \"budget/ADD_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const addWeeklyItem = (payload) => {\n  return { type: \"budget/ADD_WEEKLY_ITEM\", payload: payload }\n}\n\nexport const baseMonthFetched = (payload) => {\n  return { type: \"budget/BASE_MONTH_FETCHED\", payload: payload }\n}\n\nexport const changeItemSortOrder = (payload) => {\n  return { type: \"budget/CHANGE_ITEM_SORT_ORDER\", payload: payload }\n}\n\nexport const editMonthlyItem = (payload) => {\n  return { type: \"budget/EDIT_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const editNewMonthlyItem = (payload) => {\n  return { type: \"budget/EDIT_NEW_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const editNewWeeklyItem = (payload) => {\n  return { type: \"budget/EDIT_NEW_WEEKLY_ITEM\", payload: payload }\n}\n\nexport const editWeeklyItem = (payload) => {\n  return { type: \"budget/EDIT_WEEKLY_ITEM\", payload: payload }\n}\n\nexport const fetchedWeeklyBudgetItemEvents = payload => (\n  { type: \"budget/FETCHED_WEEKLY_BUDGET_ITEM_EVENTS\", payload: payload }\n)\n\nexport const fetchedDiscretionaryTransactions = (payload) => {\n  return { type: \"budget/FETCHED_DISCRETIONARY_TRANSACTIONS\", payload: payload }\n}\n\nexport const fetchedWeeklyTransactions = (payload) => {\n  return { type: \"budget/FETCHED_WEEKLY_TRANSACTIONS\", payload: payload }\n}\n\nexport const itemsFetched = (response) => {\n  return { type: \"budget/ITEMS_FETCHED\", payload: response }\n}\n\nexport const newMonthFetched = (payload) => {\n  return { type: \"budget/NEW_MONTH_FETCHED\", payload: payload }\n}\n\nexport const removeMonthlyItem = ({ id }) => {\n  return { type: \"budget/REMOVE_MONTHLY_ITEM\", payload: id }\n}\n\nexport const removeWeeklyItem = ({ id }) => {\n  return { type: \"budget/REMOVE_WEEKLY_ITEM\", payload: id }\n}\n\nexport const toggleAccrualItems = (payload) => {\n  return { type: \"budget/TOGGLE_CLEARED_ITEMS\", payload: payload }\n}\n\nexport const toggleClearedItems = (payload) => {\n  return { type: \"budget/TOGGLE_CLEARED_ITEMS\", payload: payload }\n}\n\nexport const toggleDiscretionaryDetail = (payload) => {\n  return { type: \"budget/TOGGLE_DISCRETIONARY_DETAIL\", payload: payload }\n}\n\nexport const toggleMenu = (payload) => {\n  return { type: \"budget/TOGGLE_MENU\", payload: payload }\n}\n\nexport const toggleMonthlyItemForm = (payload) => {\n  return { type: \"budget/TOGGLE_MONTHLY_ITEM_FORM\", payload: payload }\n}\n\nexport const toggleWeeklyItemForm = (payload) => {\n  return { type: \"budget/TOGGLE_WEEKLY_ITEM_FORM\", payload: payload }\n}\n\nexport const updateMonthlyItem = (payload) => {\n  return { type: \"budget/UPDATE_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const updateWeeklyItem = (payload) => {\n  return { type: \"budget/UPDATE_WEEKLY_ITEM\", payload: payload }\n}\n","import React from \"react\"\n\nexport default ({ errors }) => {\n  if (errors.length === 0) {\n    return null\n  } else {\n    return (\n      <ul className=\"input-errors\">\n        {errors.map((error, i) =>\n          <Error\n            key={i}\n            error={error}\n          />\n        )}\n      </ul>\n    )\n  }\n}\n\nconst Error = ({ error }) => (\n  <li className=\"input-error\">\n    {error}\n  </li>\n)\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { addFinalizeItem, editBaseAmount, setStatus, updateExtra } from \"../actions/finalize\"\nimport { addMonthlyItem, addWeeklyItem } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport Icon from \"../../Icons/Icon\"\n\nexport default (wrapper) => {\n  const { baseItem, dispatch } = wrapper\n  const { floatRemaining, remaining } = baseItem\n  const amount = floatRemaining === undefined ? (remaining / 100.0).toFixed(2) : floatRemaining\n\n  const handleChange = (e) => {\n    e.preventDefault()\n    const action = editBaseAmount({\n      ...baseItem,\n      floatRemaining: e.target.value\n    })\n    dispatch(action)\n    _updateExtra(parseFloat(e.target.value * 100))\n  }\n\n  const _updateExtra = (amount) => {\n    const applied = remaining - amount > -100 ? 0 : remaining - amount\n    const action = updateExtra({\n      id: baseItem.id,\n      name: baseItem.name,\n      amount: applied\n    })\n    dispatch(action)\n  }\n\n  const errors = () => {\n    if (Math.abs(parseInt(amount * 100)) > (Math.abs(remaining) + 100)) {\n      return [\"Cannot be greater than original amount\"]\n    } else {\n      return []\n    }\n  }\n\n  return (\n    <div className=\"finalize-accrual\">\n      <div className=\"item-name\">\n        {wrapper.baseItem.name}\n      </div>\n      <div className=\"item-input\">\n        <input\n          className={errors().length > 0 ? \"errors\" : \"\"}\n          disabled={wrapper.baseItem.status !== \"pending\"}\n          name=\"carryover\"\n          onChange={handleChange}\n          type=\"text\"\n          value={amount}\n        />\n        <Errors errors={errors()} />\n      </div>\n      <NextMonthItem\n        {...wrapper.nextItem}\n        baseItem={wrapper.baseItem}\n        dispatch={wrapper.dispatch}\n        nextMonth={wrapper.nextMonth}\n        nextYear={wrapper.nextYear}\n      />\n      <Total\n        nextMonth={wrapper.nextItem}\n        remaining={parseInt(amount * 100)}\n      />\n      <Indicator status={wrapper.baseItem.status} />\n    </div>\n  )\n}\n\nconst NextMonthItem = (props) => {\n  const {\n    id,\n    amount,\n    baseItem,\n    dispatch,\n    nextMonth,\n    nextYear,\n  } = props\n\n  if (id) {\n    return (\n      <div className=\"next-month-amount\">\n        {MoneyFormatter(amount, { absolute: false })}\n      </div>\n    )\n  } else if (baseItem.status !== \"reviewed\") {\n    return (\n      <MissingItem\n        {...baseItem}\n        dispatch={dispatch}\n        nextMonth={nextMonth}\n        nextYear={nextYear}\n      />\n    )\n  } else {\n    return (\n      <div className=\"next-month-amount\">\n      </div>\n    )\n  }\n}\n\nconst Total = ({ nextMonth, remaining }) => {\n  const total = nextMonth ? (remaining + nextMonth.amount) : 0\n  return (\n    <div className=\"next-month-amount\">\n      {MoneyFormatter(total, { absolute: false })}\n    </div>\n  )\n}\n\nconst MissingItem = (props) => {\n  const {\n    id,\n    budget_category_id,\n    dispatch,\n    monthly,\n    name,\n    nextMonth,\n    nextYear,\n    remaining,\n  } = props\n\n  const ignoreItem = () => {\n    const action = updateExtra({\n      id: id,\n      name: name,\n      amount: remaining,\n    })\n    dispatch(action)\n    dispatch(setStatus({ id: id, status: \"reviewed\" }))\n  }\n\n  const createItem = () => {\n    const url = ApiUrlBuilder({\n      route: \"budget-category-items-index\",\n      id: budget_category_id,\n    })\n    const body = JSON.stringify({\n      amount: 0,\n      month: nextMonth,\n      year: nextYear,\n    })\n    const onSuccess = (data) => {\n      if (monthly) {\n        dispatch(addMonthlyItem(data))\n      } else {\n        dispatch(addWeeklyItem(data))\n      }\n      dispatch(addFinalizeItem(data))\n    }\n    const event = EventMessageBuilder({ eventType: \"budget-item-create\" })\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  return (\n    <div className=\"next-month-amount\">\n      <button\n        className=\"ignore\"\n        onClick={ignoreItem}\n      >\n        {titleize(copy.finalize.disregard)}\n        {\" \"}\n        <span className=\"fas fa-times\"></span>\n      </button>\n      <button\n        className=\"create-item\"\n        onClick={createItem}\n      >\n        {titleize(copy.finalize.createItem)}\n        {\" \"}\n        <span className=\"fas fa-check\"></span>\n      </button>\n    </div>\n  )\n}\n\nconst Indicator = ({ status }) => {\n  const klass = () => {\n    switch(status) {\n    case \"pending\":\n      return \"far fa-check-circle\"\n    case \"submitted\":\n      return \"fas fa-compact-disc fa-spin\"\n    case \"reviewed\":\n      return \"fas fa-check-circle green\"\n    default:\n      return \"far fa-check-circle\"\n    }\n  }\n\n  return (\n    <div className=\"indicator\">\n      <Icon className={klass()} />\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ extra }) => {\n  const collection = extra\n    .filter(item => item.amount !== 0)\n    .sort((a, b) => a.name < b.name ? -1 : 1)\n\n  const total = collection.reduce((acc, item) => { return acc + item.amount }, 0)\n  return (\n    <div className=\"finalize-summary\">\n      <h2>{titleize(copy.finalize.summary)}</h2>\n      <div className=\"extra\">\n        <span>{titleize(copy.finalize.extra)}: </span>\n        <span>{MoneyFormatter((total * -1), { absolute: false })} </span>\n      </div>\n      {collection.map((item, i) =>\n        <ExtraItem\n          key={i}\n          {...item}\n        />\n      )}\n    </div>\n  )\n}\n\nconst ExtraItem = ({ name, amount }) => (\n  <div className=\"extra\">\n    <span>{name}</span>\n    <span>{MoneyFormatter((amount * -1), { absolute: false })}</span>\n  </div>\n)\n","export default (ms) => new Promise(resolve => setTimeout(resolve, ms))\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  setStatus,\n  updateFinalizeItem,\n} from \"../actions/finalize\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport delay from \"../../../functions/Delay\"\nimport { post } from \"../../../functions/ApiClient\"\n\nexport default ({ collection, dispatch }) => {\n  const submit = ({ id, amount, budget_category_id, name, originalAmount, month, year }) => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: id,\n      category: name,\n      month: month,\n      year: year,\n      originalAmount: (originalAmount / 100.0),\n      newAmount: (amount / 100.0),\n    })\n    const body = JSON.stringify(\n      {\n        events: [\n          {\n            event_type: \"rollover_item_adjust\",\n            budget_item_id: id,\n            amount: amount,\n          }\n        ]\n      }\n    )\n    post(url, body, { event: event, onSuccess: data => dispatch(updateFinalizeItem(data[0].item)) })\n  }\n\n  const amountFor = (item) => {\n    if (item.baseItem.floatRemaining || item.baseItem.floatRemaining === \"\") {\n      return item.nextItem.amount + ((parseFloat(item.baseItem.floatRemaining) * 100) || 0)\n    } else {\n      return item.nextItem.amount + item.baseItem.remaining\n    }\n  }\n\n  const handleSubmit = async () => {\n    for (let item of collection) {\n      const { id } = item.baseItem\n      if (item.nextItem) {\n        dispatch(setStatus({ id: id, status: \"submitted\" }))\n        submit({\n          id: item.nextItem.id,\n          amount: amountFor(item),\n          budget_category_id: item.baseItem.budget_category_id,\n          name: item.baseItem.name,\n          originalAmount: item.nextItem.amount,\n          month: item.nextItem.month,\n          year: item.nextItem.year,\n        })\n      }\n      await delay(500)\n      dispatch(setStatus({ id: id, status: \"reviewed\" }))\n    }\n  }\n\n  return (\n    <button\n      onClick={handleSubmit}\n    >\n      {titleize(copy.finalize.submitAccrualButtonText)}\n    </button>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport DateFormatter from \"../../../functions/DateFormatter\"\n\nimport Header from \"./Header\"\nimport { Redirect } from \"react-router\"\nimport Show from \"./AccrualShow\"\nimport Summary from \"./Summary\"\nimport UpdateButton from \"./UpdateAccruals\"\n\nconst Accruals = (props) => {\n  const {\n    collection,\n    dispatch,\n    extra,\n    isFetched,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  const format = \"numericMonthYear\"\n  const reviewCount = collection.filter(item => item.baseItem.status !== \"reviewed\")\n\n  if (!isFetched) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/start`} />\n    )\n  } else if (reviewCount.length > 0) {\n    return (\n      <div>\n        <Header\n          month={month}\n          year={year}\n        />\n        <div className=\"finalize-wrapper\">\n          <div className=\"finalize-workspace\">\n            <h4>{titleize(copy.category.accruals)}</h4>\n            <div className=\"finalize-accrual\">\n              <div className=\"item-name\">\n                {titleize(copy.category.name)}\n              </div>\n              <div className=\"item-input\">\n                {copy.finalize.remainingIn(\n                  DateFormatter({\n                    month: month,\n                    year: year,\n                    format: format,\n                  })\n                )}\n              </div>\n              <div className=\"next-month-amount\">\n                {copy.finalize.budgetedFor(\n                  DateFormatter({\n                    month: nextMonth,\n                    year: nextYear,\n                    format: format,\n                  })\n                )}\n              </div>\n              <div className=\"next-month-amount\">\n                {titleize(copy.shared.total)}\n              </div>\n              <div className=\"indicator\"></div>\n            </div>\n            {collection.map(wrapper =>\n              <Show\n                key={wrapper.baseItem.id}\n                {...wrapper}\n                dispatch={dispatch}\n                nextMonth={nextMonth}\n                nextYear={nextYear}\n              />\n            )}\n            <div className=\"next-month-accrual-submit\">\n              <UpdateButton\n                collection={collection}\n                dispatch={dispatch}\n              />\n            </div>\n          </div>\n          <Summary\n            extra={extra}\n          />\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/items`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { finalize } = state.budget\n  const { isFetched, month, year } = finalize.baseMonth\n  const { extra, next } = finalize\n  const nextMonthCollection = next.collection\n  const collection = state.budget.finalize.baseMonth.collection\n    .filter(item => item.accrual && item.remaining < 0)\n    .sort((a, b) => a.name <= b.name ? -1 : 1)\n    .map(item => {\n      return {\n        baseItem: item,\n        nextItem: nextMonthCollection.find(i => i.budget_category_id === item.budget_category_id),\n      }\n    })\n\n  return {\n    collection: collection,\n    isFetched: isFetched,\n    extra: extra,\n    month: (month || baseMonth),\n    nextMonth: next.month,\n    nextYear: next.year,\n    year: (year || baseYear),\n  }\n}\n\nexport default connect(mapStateToProps)(Accruals)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { created } from \"../../../actions/transactions\"\nimport { markIntervalClosed } from \"../actions/finalize\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport DateFormatter from \"../../../functions/DateFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post, put } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\n\nexport default (props) => {\n  const {\n    dispatch,\n    month,\n    note,\n    selectedFromAccountId,\n    selectedToAccountId,\n    totalExtra,\n    year,\n  } = props\n\n  if (selectedFromAccountId === null || selectedToAccountId === null) {\n    return null\n  }\n\n  const dateString = DateFormatter({ month: month, year: year, format: \"numericMonthYear\" })\n\n  const createFromTransaction = () => {\n    const url = ApiUrlBuilder({ route: \"transactions-index\", accountId: selectedFromAccountId })\n    const body = JSON.stringify({\n      details_attributes: [{\n        amount: totalExtra,\n      }],\n      description: copy.finalize.depositMessage(dateString),\n      notes: note,\n    })\n    const onSuccess = data => {\n      dispatch(created(data))\n    }\n    const event = EventMessageBuilder({ eventType: \"transaction-entry-create\" })\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const createToTransaction = (callback) => {\n    const url = ApiUrlBuilder({ route: \"transactions-index\", accountId: selectedToAccountId })\n    const body = JSON.stringify({\n      details_attributes: [{\n        amount: (-1 * totalExtra),\n      }],\n      description: copy.finalize.depositMessage(dateString),\n      budget_exclusion: true,\n    })\n    const onSuccess = data => {\n      dispatch(created(data))\n      callback()\n    }\n    const event = EventMessageBuilder({ eventType: \"transaction-entry-create\" })\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  const updateInterval = () => {\n    const url = ApiUrlBuilder({ route: \"interval-show\", month: month, year: year })\n    const body = { close_out_completed_at: new Date() }\n    const event = EventMessageBuilder({\n      eventType: \"interval-closed\",\n      closeOutCompletedAt: body.close_out_completed_at,\n      month: month,\n      year: year,\n    })\n    put(url, JSON.stringify(body), { onSuccess: () => dispatch(markIntervalClosed), event: event })\n  }\n\n  const handleSubmit = () => {\n    createFromTransaction()\n    createToTransaction(updateInterval)\n  }\n\n  return (\n    <button\n      type=\"submit\"\n      onClick={handleSubmit}\n      className=\"deposit-extra\"\n    >\n      {titleize(copy.finalize.depositExtra)}\n      {\" \"}\n      <Icon className=\"fas fa-donate\" />\n    </button>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { fetched as acctFetched } from \"../../Accounts/actions\"\nimport { markIntervalClosed, updateSelectedFromAccountId, updateSelectedToAccountId } from \"../actions/finalize\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get, put } from \"../../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport Submit from \"./Submit\"\nimport Summary from \"./Summary\"\nimport Header from \"./Header\"\nimport { Redirect } from \"react-router-dom\"\nimport Select from \"react-select\"\n\nconst Finish = (props) => {\n  const {\n    accountsFetched,\n    isApiUnauthorized,\n    baseMonthFetched,\n    baseMonthFinalized,\n    dispatch,\n    extra,\n    fromOptions,\n    fromValue,\n    month,\n    nextMonth,\n    nextYear,\n    note,\n    selectedFromAccountId,\n    selectedToAccountId,\n    toOptions,\n    totalExtra,\n    toValue,\n    year,\n  } = props\n\n  if (!baseMonthFetched) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/start`} />\n    )\n  } else if (baseMonthFinalized) {\n    return (\n      <Redirect to={`/budget/${nextMonth}/${nextYear}`} />\n    )\n  } else if (totalExtra >= 0) {\n    const url = ApiUrlBuilder({ route: \"interval-show\", month: month, year: year })\n    const body = { close_out_completed_at: new Date() }\n    const event = EventMessageBuilder({\n      eventType: \"interval-mark-complete\",\n      month: month,\n      year: year,\n      closeOutCompletedAt: body.close_out_completed_at,\n    })\n    const onSuccess = () => dispatch(markIntervalClosed)\n    put(url, JSON.stringify(body), { event: event, onSuccess: onSuccess  })\n    return null\n  } else if (!isApiUnauthorized && !accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(acctFetched(data))\n    get(url, onSuccess)\n    return null\n  } else {\n    return (\n      <div>\n        <Header\n          month={month}\n          year={year}\n        />\n        <div className=\"finalize-wrapper\">\n          <div className=\"finalize-workspace\">\n            <h4>{titleize(copy.finalize.depositExtra)}</h4>\n            <div className=\"finalize-extra\">\n              <div className=\"title\">\n                {titleize(`${copy.shared.total} ${copy.finalize.extra} ${MoneyFormatter(totalExtra, { absolute: true })}`)}\n              </div>\n              <AccountSelect\n                actionFn={updateSelectedFromAccountId}\n                dispatch={dispatch}\n                options={fromOptions}\n                title={copy.finalize.selectFromAccount}\n                value={fromValue}\n              />\n              <AccountSelect\n                actionFn={updateSelectedToAccountId}\n                dispatch={dispatch}\n                options={toOptions}\n                title={copy.finalize.selectToAccount}\n                value={toValue}\n              />\n              <div className=\"extra-submit\">\n                <Submit\n                  dispatch={dispatch}\n                  month={month}\n                  note={note}\n                  selectedFromAccountId={selectedFromAccountId}\n                  selectedToAccountId={selectedToAccountId}\n                  totalExtra={totalExtra}\n                  year={year}\n                />\n              </div>\n            </div>\n          </div>\n          <Summary extra={extra} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst AccountSelect = ({ actionFn, dispatch, options, value, title }) => {\n  const handleChange = (e) => {\n    const action = actionFn({ id: e.value })\n    dispatch(action)\n  }\n\n  return (\n    <div className=\"account-select\">\n      {title}\n      <Select\n        isSearchable={false}\n        onChange={handleChange}\n        options={options}\n        value={value}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { accounts, budget } = state\n  const { finalize } = budget\n  const baseMonthFetched = finalize.baseMonth.isFetched\n  const { month, year } = finalize.baseMonth\n  const nextMonth = (finalize.next.month || (baseMonth === 12 ? 1 : (baseMonth + 1)))\n  const nextYear = (finalize.next.year || (baseMonth === 12 ? (baseYear + 1) : baseYear))\n  const { extra, selectedFromAccountId, selectedToAccountId } = finalize\n  const totalExtra = extra.reduce((sum, item) => sum + item.amount, 0)\n  const fromOptions = accounts\n    .collection\n    .filter(a => a.cash_flow)\n    .map(account => ({ label: account.name, value: account.id }))\n  const fromValue = fromOptions.find(option => option.value === selectedFromAccountId)\n  const toOptions = accounts\n    .collection\n    .filter(a => !a.cash_flow)\n    .map(account => ({ label: account.name, value: account.id }))\n  const toValue = toOptions.find(option => option.value === selectedToAccountId)\n  const note = extra\n    .filter(item => item.amount !== 0)\n    .map(item => `${item.name} (${MoneyFormatter(item.amount, { absoulte: false })})`)\n    .join(\"; \")\n\n  return {\n    accountsFetched: accounts.accountsFetched,\n    baseMonthFetched: baseMonthFetched,\n    baseMonthFinalized: finalize.baseMonth.is_closed_out,\n    extra: extra,\n    fromOptions: fromOptions,\n    fromValue: fromValue,\n    month: (month || baseMonth),\n    nextMonth: nextMonth,\n    nextYear: nextYear,\n    note: note,\n    selectedFromAccountId: selectedFromAccountId,\n    selectedToAccountId: selectedToAccountId,\n    toOptions: toOptions,\n    totalExtra: totalExtra,\n    toValue: toValue,\n    year: (year || baseYear),\n  }\n}\n\nexport default connect(mapStateToProps)(Finish)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../../functions/MoneyFormatter\"\n\nexport default ({ amount, errors, remaining }) => {\n  const total = -1 * (remaining - (amount * 100))\n\n  if (errors.length > 0 || total === 0) {\n    return null\n  }\n\n  return (\n    <div className=\"total\">\n      <div>\n        <em>{titleize(copy.finalize.appliedToExtra)}:</em>\n      </div>\n      <div>\n        <em>({MoneyFormatter(total, { absolute: false })})</em>\n      </div>\n    </div>\n  )\n}\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\n\nimport {\n  setStatus,\n  updateExtra,\n} from \"../../actions/finalize\"\n\nimport Icon from \"../../../Icons/Icon\"\n\nexport default ({ amount, baseItem, dispatch }) => {\n  const {\n    id,\n    name,\n    remaining\n  } = baseItem\n\n  if (Math.round(amount * 100) !== remaining) {\n    return null\n  }\n\n  const handleSubmit = () => {\n    dispatch(updateExtra({\n      id: id,\n      name: name,\n      amount: remaining,\n    }))\n    dispatch(setStatus({\n      id: id,\n      status: \"reviewed\"\n    }))\n  }\n\n  return (\n    <button\n      className=\"apply-to-extra\"\n      onClick={handleSubmit}\n    >\n      {copy.finalize.applyToExtra}\n      {\" \"}\n      <Icon className=\"fas fa-donate\" />\n    </button>\n  )\n}\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\n\nimport MoneyFormatter from \"../../../../functions/MoneyFormatter\"\n\nexport default (props) => {\n  const {\n    monthly,\n    nextItem,\n    nextMonthString,\n  } = props\n\n  if (!nextItem && monthly) {\n    return null\n  }\n\n  const amount = nextItem ? nextItem.amount : 0\n\n  return (\n    <div className=\"budgeted\">\n      <div>\n        {copy.finalize.budgetedFor(nextMonthString)}:\n      </div>\n      <div className=\"amount\">\n        {MoneyFormatter(amount, { absolute: false })}\n      </div>\n    </div>\n  )\n}\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\n\nimport {\n  addFinalizeItem,\n  setStatus,\n  updateFinalizeItem,\n} from \"../../actions/finalize\"\nimport { addMonthlyItem, addWeeklyItem } from \"../../../../actions/budget\"\nimport { decimalToInt } from \"../../../../functions/MoneyFormatter\"\n\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../../functions/ApiClient\"\n\nimport Icon from \"../../../Icons/Icon\"\n\nexport default (props) => {\n  const {\n    amount,\n    baseItem,\n    budgetCategoryId,\n    dispatch,\n    errors,\n    monthly,\n    nextItem,\n    nextMonth,\n    nextYear,\n    remaining,\n  } = props\n\n  if (errors.length > 0) {\n    return null\n  }\n\n  const nextAmount = nextItem ? nextItem.amount : 0\n  const total = nextAmount + (amount * 100)\n\n  const markReviewed = () => {\n    const action = setStatus({\n      id: baseItem.id,\n      status: \"reviewed\"\n    })\n    dispatch(action)\n  }\n\n  const handleSubmit = () => {\n    if (nextItem) {\n      updateItem()\n    } else if ((amount * 100 === remaining)) {\n      markReviewed()\n    } else {\n      createItem()\n    }\n  }\n\n  const updateItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const adjustedTotal =  decimalToInt(amount) + nextItem.amount\n    const body = JSON.stringify(\n      {\n        events: [\n          {\n            event_type: \"rollover_item_adjust\",\n            budget_item_id: nextItem.id,\n            amount: adjustedTotal,\n          }\n        ]\n      }\n    )\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: nextItem.id,\n      category: nextItem.name,\n      month: nextItem.month,\n      year: nextItem.year,\n      originalAmount: nextItem.originalAmount,\n      newAmount: amount,\n    })\n    const onSuccess = (data) => {\n      dispatch(updateFinalizeItem(data[0].item))\n      markReviewed()\n    }\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  const createItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          event_type: \"rollover_item_create\",\n          amount: total,\n          budget_category_id: budgetCategoryId,\n          month: nextMonth,\n          year: nextYear,\n        }\n      ]\n    })\n    const onSuccess = (data) => {\n      if (monthly) {\n        dispatch(addMonthlyItem(data[0].item))\n      } else {\n        dispatch(addWeeklyItem(data[0].item))\n      }\n      dispatch(addFinalizeItem(data[0].item))\n      markReviewed()\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <button\n      className=\"carry-over-submit\"\n      onClick={handleSubmit}\n      type=\"submit\"\n    >\n      {titleize(copy.finalize.rollOver)}\n      {\" \"}\n      <Icon className=\"fas fa-check\" />\n    </button>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\n\nimport MoneyFormatter from \"../../../../functions/MoneyFormatter\"\n\nexport default ({ amount, errors, nextItem, nextMonthString }) => {\n  if (errors.length > 0) {\n    return null\n  }\n\n  const nextAmount = nextItem ? nextItem.amount : 0\n  const total = nextAmount + ((amount || 0) * 100)\n  return (\n    <div className=\"total\">\n      <div>\n        {copy.finalize.updatedAmountFor(nextMonthString)}:\n      </div>\n      <div>\n        {MoneyFormatter(total, { absolute: false })}\n      </div>\n    </div>\n  )\n}\n\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport {\n  editBaseAmount,\n  markSelected,\n  setStatus,\n  updateExtra,\n} from \"../actions/finalize\"\n\nimport DateFormatter from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport AmountForExtra from \"./Items/AmountForExtra\"\nimport ApplyToExtra from \"./Items/ApplyToExtra\"\nimport Errors from \"../../Errors/Errors\"\nimport NextMonthItem from \"./Items/NextMonthItem\"\nimport Submit from \"./Items/Submit\"\nimport Total from \"./Items/Total\"\n\nexport default (props) => {\n  const {\n    dispatch,\n    item,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  const { baseItem, nextItems } = item\n  const {\n    id,\n    expense,\n    floatRemaining,\n    monthly,\n    name,\n    remaining,\n    status,\n   } = baseItem\n\n  const format = \"numericMonthYear\"\n  const baseMonthString = DateFormatter({\n    month: month,\n    year: year,\n    format: format,\n  })\n  const nextMonthString = DateFormatter({\n    month: nextMonth,\n    year: nextYear,\n    format: format,\n  })\n\n  const amount = floatRemaining === undefined ? (remaining / 100.0).toFixed(2) : (floatRemaining || 0)\n\n  const errors = () => {\n    const errorMessages = []\n    if (Math.abs(parseInt(amount * 100)) > (Math.abs(remaining) + 1)) {\n      errorMessages.push(copy.finalize.exceedsOriginalAmount)\n    }\n    if (expense && amount > 0) {\n      errorMessages.push(copy.finalize.positiveExpenseErrorMessage)\n    }\n    if (!expense && amount < 0) {\n      errorMessages.push(copy.finalize.negativeRevenueErrorMessage)\n    }\n    return errorMessages\n  }\n\n  const handleChange = (e) => {\n    const action = editBaseAmount({\n      ...baseItem,\n      floatRemaining: (e.target.value || 0)\n    })\n    dispatch(action)\n    _updateExtra(parseFloat(e.target.value * 100))\n  }\n\n  const _updateExtra = (amount) => {\n    const action = updateExtra({\n      id: id,\n      name: name,\n      amount: (baseItem.amount - amount)\n    })\n    dispatch(action)\n  }\n\n  const nextItem = nextItems.find(i => i.selected)\n\n  return (\n    <div className=\"finalize-workspace\">\n      <h4>{titleize(copy.finalize.carryOver)}</h4>\n      <div className=\"finalize-carry-over\">\n        <div className=\"item-name\">\n          {name}\n        </div>\n        <div className=\"remaining\">\n          <div>\n            {copy.finalize.carryOverFrom(baseMonthString)}:\n          </div>\n          <div>\n            <input\n              className={errors().length > 0 ? \"errors\" : \"\"}\n              name=\"remaining\"\n              onChange={handleChange}\n              type=\"text\"\n              value={amount || \"\"}\n            />\n            <Errors errors={errors()} />\n          </div>\n        </div>\n        <NextMonthItem\n          monthly={true}\n          nextItem={nextItem}\n          nextMonthString={nextMonthString}\n        />\n        <NextMonthTotal\n          amount={amount}\n          errors={errors()}\n          nextItem={nextItem}\n          nextMonthString={nextMonthString}\n        />\n        <AmountForExtra\n          amount={amount}\n          errors={errors()}\n          remaining={remaining}\n        />\n        <div className=\"submit-row\">\n          <ApplyToExtra\n            amount={amount}\n            baseItem={baseItem}\n            dispatch={dispatch}\n          />\n          <Submit\n            amount={amount}\n            budgetCategoryId={baseItem.budget_category_id}\n            baseItem={baseItem}\n            dispatch={dispatch}\n            errors={errors()}\n            monthly={monthly}\n            nextItem={nextItem}\n            nextMonth={nextMonth}\n            nextYear={nextYear}\n          />\n        </div>\n        <NextMonthItemSelect\n          baseItemId={id}\n          dispatch={dispatch}\n          nextItems={nextItems}\n          showNextItems={status === \"showNextItems\"}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst NextMonthTotal = ({ amount, errors, nextItem, nextMonthString }) => {\n  if (!nextItem || errors.length > 0) {\n    return null\n  }\n\n  return (\n    <Total\n      amount={amount}\n      errors={errors}\n      nextItem={nextItem}\n      nextMonthString={nextMonthString}\n    />\n  )\n}\n\nconst NextMonthItemSelect = ({ baseItemId, dispatch, nextItems, showNextItems }) => {\n  const count = nextItems.length\n  if (count === 0) {\n    return null\n  }\n\n  const selectedItem = nextItems.find(item => item.selected)\n\n  const revealNextItems = () => {\n    const action = setStatus({\n      id: baseItemId,\n      status: \"showNextItems\"\n    })\n    dispatch(action)\n  }\n\n  const hideNextItems = () => {\n    dispatch(setStatus({\n      id: baseItemId,\n      status: \"pending\"\n    }))\n    dispatch(markSelected({ id: null }))\n  }\n\n  if (!showNextItems) {\n    return (\n      <div className=\"existing-items\">\n        <div className=\"item\">\n          <button\n            to=\"#\"\n            onClick={revealNextItems}\n          >\n            {titleize(copy.finalize.revealNextItems(count))}\n          </button>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"existing-items\">\n        {nextItems.map(item => (\n          <NextItemRadio\n            key={item.id}\n            {...item}\n            dispatch={dispatch}\n            label={MoneyFormatter(item.amount, { absolute: false })}\n            selectedItem={selectedItem}\n          />\n        ))}\n        <div className=\"item\">\n          <button\n            to=\"#\"\n            onClick={hideNextItems}\n          >\n            {titleize(copy.finalize.createItem)}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst NextItemRadio = ({ id, dispatch, label, selectedItem }) => {\n  const handleChange = () => {\n    const action = markSelected({ id: id })\n    dispatch(action)\n  }\n\n  const selected = selectedItem && (selectedItem.id === id)\n\n  return (\n    <div className=\"item\">\n      <span>{label}</span>\n      <span>\n        <input\n          checked={selected ? \"checked\" : \"\"}\n          name=\"next-item\"\n          onChange={handleChange}\n          value={id}\n          type=\"radio\"\n        />\n      </span>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport {\n  editBaseAmount,\n  updateExtra,\n} from \"../actions/finalize\"\n\nimport DateFormatter from \"../../../functions/DateFormatter\"\n\nimport AmountForExtra from \"./Items/AmountForExtra\"\nimport ApplyToExtra from \"./Items/ApplyToExtra\"\nimport Errors from \"../../Errors/Errors\"\nimport NextMonthItem from \"./Items/NextMonthItem\"\nimport Submit from \"./Items/Submit\"\nimport Total from \"./Items/Total\"\n\nexport default (props) => {\n  const {\n    dispatch,\n    item,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  const { baseItem } = item\n  const { id, expense, floatRemaining, monthly, name, remaining } = baseItem\n  const format = \"numericMonthYear\"\n  const baseMonthString = DateFormatter({\n    month: month,\n    year: year,\n    format: format,\n  })\n  const nextMonthString = DateFormatter({\n    month: nextMonth,\n    year: nextYear,\n    format: format,\n  })\n\n  const handleChange = (e) => {\n    const action = editBaseAmount({\n      ...baseItem,\n      floatRemaining: (e.target.value || 0)\n    })\n    dispatch(action)\n    _updateExtra(parseFloat(e.target.value * 100))\n  }\n\n  const _updateExtra = (amount) => {\n    const action = updateExtra({\n      id: id,\n      name: name,\n      amount: (baseItem.remaining - amount)\n    })\n    dispatch(action)\n  }\n\n  const amount = floatRemaining === undefined ? (remaining / 100.0).toFixed(2) : (floatRemaining || 0)\n\n  const errors = () => {\n    const errorMessages = []\n    if (Math.abs(parseInt(amount * 100)) > (Math.abs(remaining) + 1)) {\n      errorMessages.push(copy.finalize.exceedsOriginalAmount)\n    }\n    if (expense && amount > 0) {\n      errorMessages.push(copy.finalize.positiveExpenseErrorMessage)\n    }\n    if (!expense && amount < 0) {\n      errorMessages.push(copy.finalize.negativeRevenueErrorMessage)\n    }\n    return errorMessages\n  }\n\n  return (\n    <div className=\"finalize-workspace\">\n      <h4>{titleize(copy.finalize.carryOver)}</h4>\n      <div className=\"finalize-carry-over\">\n        <div className=\"item-name\">\n          {name}\n        </div>\n        <div className=\"remaining\">\n          <div>\n            {copy.finalize.carryOverFrom(baseMonthString)}:\n          </div>\n          <div>\n            <input\n              className={errors().length > 0 ? \"errors\" : \"\"}\n              name=\"remaining\"\n              onChange={handleChange}\n              type=\"text\"\n              value={amount || \"\"}\n            />\n            <Errors errors={errors()} />\n          </div>\n        </div>\n        <NextMonthItem\n          nextItem={item.nextItems[0]}\n          nextMonthString={nextMonthString}\n        />\n        <Total\n          amount={amount}\n          errors={errors()}\n          nextItem={item.nextItems[0]}\n          nextMonthString={nextMonthString}\n        />\n        <AmountForExtra\n          amount={amount}\n          errors={errors()}\n          remaining={remaining}\n        />\n        <div className=\"submit-row\">\n          <ApplyToExtra\n            amount={amount}\n            baseItem={baseItem}\n            dispatch={dispatch}\n          />\n          <Submit\n            amount={amount}\n            budgetCategoryId={baseItem.budget_category_id}\n            baseItem={baseItem}\n            dispatch={dispatch}\n            errors={errors()}\n            monthly={monthly}\n            nextItem={item.nextItems[0]}\n            nextMonth={nextMonth}\n            nextYear={nextYear}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Header from \"./Header\"\nimport MonthlyItem from \"./MonthlyItem\"\nimport { Redirect } from \"react-router\"\nimport Summary from \"./Summary\"\nimport WeeklyItem from \"./WeeklyItem\"\n\nconst Items = (props) => {\n  const {\n    dispatch,\n    extra,\n    isFetched,\n    item,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  if (!isFetched) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/start`} />\n    )\n  } else if (!item) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/finish`} />\n    )\n  } else {\n    return (\n      <div>\n        <Header\n          month={month}\n          year={year}\n        />\n        <div className=\"finalize-wrapper\">\n          <Item\n            item={item}\n            dispatch={dispatch}\n            month={month}\n            nextMonth={nextMonth}\n            nextYear={nextYear}\n            year={year}\n          />\n          <Summary\n            extra={extra}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst Item = (props) => {\n  if (props.item.baseItem.monthly) {\n    return (\n      <MonthlyItem\n        {...props}\n      />\n    )\n  } else {\n    return (\n      <WeeklyItem\n        {...props}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { finalize } = state.budget\n  const { isFetched, month, year } = finalize.baseMonth\n  const { extra, next } = finalize\n  const nextMonthCollection = next.collection\n  const filterFn = (item) =>  (item.expense && item.remaining < 0) || (!item.expense && item.remaining > 0)\n  const collection = state.budget.finalize.baseMonth.collection\n    .filter(item => !item.accrual && item.status !== \"reviewed\")\n    .filter(filterFn)\n    .sort((a, b) => Math.abs(a.remaining) - Math.abs(b.remaining))\n    .map(item => {\n      return {\n        baseItem: item,\n        nextItems: nextMonthCollection.filter(i => i.budget_category_id === item.budget_category_id),\n      }\n    })\n  const item = collection[0]\n\n  return {\n    isFetched: isFetched,\n    item: item,\n    extra: extra,\n    month: (month || baseMonth),\n    nextMonth: next.month,\n    nextYear: next.year,\n    year: (year || baseYear)\n  }\n}\n\nexport default connect(mapStateToProps)(Items)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { Redirect } from \"react-router\"\n\nconst Tab = ({ month, year }) => (\n  <Redirect to={`/budget/${month}/${year}`} />\n)\n\nconst mapStateToProps = (state) => (\n  {\n    month: state.budget.metadata.month,\n    year: state.budget.metadata.year,\n  }\n)\n\nexport default connect(mapStateToProps)(Tab)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport format, { prevMonth, nextMonth } from \"../../functions/DateFormatter\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst Info = (props) => {\n  const { month, year, prev, next } = props\n  return (\n    <div className=\"budget-banner\">\n      <h2>\n        {format({ month: month, year: year, format: \"monthYear\" })}\n      </h2>\n      <div className=\"budget-links\">\n        <Link to={`/budget/${prev.month}/${prev.year}`}>\n          <Icon className=\"fas fa-angle-double-left\" />\n          {\" \"}\n          {format({ ...prev, format: \"numericMonthYear\"})}\n        </Link>\n        <Link to={`/budget/${next.month}/${next.year}`}>\n          {format({ ...next, format: \"numericMonthYear\"})}\n          {\" \"}\n          <Icon className=\"fas fa-angle-double-right\" />\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { month, year } = state.budget.metadata\n  const next = nextMonth({ month: month, year: year })\n  const prev = prevMonth({ month: month, year: year })\n\n  return {\n    month: month,\n    prev: prev,\n    next: next,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Info)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../locales/copy\"\n\nimport * as dateFormatter from \"../../functions/DateFormatter\"\n\nimport { MenuLink } from \"./Menu\"\n\nexport default ({ month, year, isFuture, requiresSetUp }) => {\n  const monthString = dateFormatter.formatted({ month: month, year: year, format: \"monthYear\" })\n\n  if (requiresSetUp && isFuture) {\n    return (\n      <MenuLink\n        linkCopy={copy.menu.setUpLinkText(monthString)}\n        path={`/budget/set-up/${month}/${year}/intro`}\n      />\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { icon as iconCopy, budget as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\nimport {\n  changeItemSortOrder,\n  toggleAccrualItems,\n  toggleClearedItems,\n} from \"../../actions/budget\"\n\nimport DateFormatter, { isToday } from \"../../functions/DateFormatter\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\nimport SetUpButton from \"./SetUpButton\"\n\nconst {\n  category,\n  item,\n  menu,\n} = copy\n\nconst {\n  finalizeLinkText,\n  hide,\n  order,\n  show,\n  title,\n} = menu\n\nconst {\n  cleared,\n  items,\n} = item\n\nconst {\n  accruing,\n  categories,\n  monthly,\n} = category\n\nconst Menu = (props) => (\n  <nav className=\"budget-actions\">\n    <Title />\n    <Links\n      {...props}\n    />\n  </nav>\n)\n\nconst Title = () => (\n  <h3>\n    &bull;\n    {\" \"}\n    {titleize(title)}\n  </h3>\n)\n\nconst Links = (props) => {\n  const {\n    dispatch,\n    isEndOfMonth,\n    isFuture,\n    month,\n    requiresCloseOut,\n    requiresSetUp,\n    showAccruals,\n    showCleared,\n    sortOrder,\n    year,\n  } = props\n\n  const toggleAccruals = (e) => {\n    e.preventDefault()\n    const action = toggleAccrualItems({ showAccruals: !showAccruals })\n    dispatch(action)\n  }\n\n  const toggleCleared = (e) => {\n    e.preventDefault()\n    const action = toggleClearedItems({ showCleared: !showCleared })\n    dispatch(action)\n  }\n\n  const newSortOrder = sortOrder === \"byName\" ? \"byAmount\" : \"byName\"\n  const toggleSort = (e) => {\n    e.preventDefault()\n    const action = changeItemSortOrder({ sortOrder: newSortOrder })\n    dispatch(action)\n  }\n\n  return (\n    <div>\n      <SetUpButton\n        dispatch={dispatch}\n        month={month}\n        year={year}\n        isFuture={isFuture}\n        requiresSetUp={requiresSetUp}\n      />\n      <FinalizeButton\n        isEndOfMonth={isEndOfMonth}\n        month={month}\n        requiresCloseOut={requiresCloseOut}\n        year={year}\n      />\n      <MenuLink\n        linkCopy={categories}\n        path=\"/budget/categories\"\n      />\n      <MenuLink\n        linkCopy={iconCopy.icons}\n        path={\"/budget/icons\"}\n      />\n      <hr />\n      <MenuLink\n        iconClassName=\"fas fa-exchange-alt fa-rotate-90\"\n        linkCopy={`${order} ${newSortOrder.replace(/([A-Z])/g, \" $1\")}`}\n        onClick={toggleSort}\n      />\n      <MenuLink\n        iconClassName={showCleared ? \"far fa-eye-slash\" : \"far fa-eye\"}\n        linkCopy={`${(showCleared ? hide : show)} ${cleared} ${monthly} ${items}`}\n        onClick={toggleCleared}\n        showCleared={showCleared}\n      />\n      <MenuLink\n        onClick={toggleAccruals}\n        iconClassName={showAccruals ? \"fas fa-book-open\" : \"fas fa-book\"}\n        linkCopy={`${(showAccruals ? hide : show)} ${accruing} ${items}`}\n        showAccruals={showAccruals}\n      />\n    </div>\n  )\n}\n\nexport const MenuLink = ({ iconClassName, linkCopy, onClick, path }) => {\n  const to = path || \"#\"\n\n  return (\n    <Link to={to} onClick={onClick} >\n      <div className=\"budget-action\">\n        <strong>\n          &#9702;\n          {\" \"}\n          <Icon className={iconClassName} />\n          {\" \"}\n          {titleize(linkCopy)}\n        </strong>\n      </div>\n    </Link>\n  )\n}\n\nconst FinalizeButton = ({ isEndOfMonth, month, requiresCloseOut, year }) => {\n  const linkCopy = finalizeLinkText(DateFormatter({ month: month, year: year, format: \"monthYear\" }))\n\n  if (!isEndOfMonth || !requiresCloseOut) {\n    return null\n  } else {\n    return (\n      <MenuLink\n        linkCopy={linkCopy}\n        path={`/budget/finalize/${month}/${year}/start`}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const isEndOfMonth = isToday(new Date(ownProps.year, ownProps.month, 0))\n\n  return {\n    isEndOfMonth: isEndOfMonth,\n    ...state.budget.menuOptions,\n    ...ownProps,\n  }\n}\n\nexport default connect(mapStateToProps)(Menu)\n","import React from \"react\"\n\nexport default ({ title }) => (\n  <h4 className=\"group-heading\">\n    &bull;\n    {\"  \"}\n    {title}\n  </h4>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport GroupHeader from \"./GroupHeader\"\nimport Icon from \"../../Icons/Icon\"\n\nconst ClearedItems = ({ expenses, revenues, showCleared }) => {\n  if (showCleared) {\n    return (\n      <div>\n        <h3>{titleize(copy.item.cleared)}</h3>\n        <ClearedGroup\n          collection={revenues}\n          title={titleize(copy.category.revenues)}\n        />\n        <ClearedGroup\n          collection={expenses}\n          title={titleize(copy.category.expenses)}\n        />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst ClearedGroup = ({ collection, title }) => {\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-group\">\n        <GroupHeader title={title} />\n        {collection.map(item =>\n          <ClearedItem\n            key={item.id}\n            {...item}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst ClearedItem = ({ amount, expense, difference, icon_class_name, name, spent }) => {\n  const {\n    budgeted,\n  } = copy.item\n\n  const {\n    deposited,\n    minus,\n    plus,\n  } = copy.shared\n\n  const operator = difference === 0 ? \"\" : (difference > 0 ? minus : plus)\n\n  return (\n    <div className=\"budget-item-cleared\">\n      <div className=\"cleared-item-name\">\n        <div>\n          <Icon className=\"fas fa-caret-down\" />\n          {\" \"}\n          <strong>{name}</strong>\n          {\" \"}\n          <Icon className={icon_class_name} />\n        </div>\n      </div>\n      <div className=\"cleared-item-wrapper\">\n        <em>{titleize(budgeted)}:</em>\n        {MoneyFormatter(amount, { absolute: true })}\n      </div>\n      <div className=\"cleared-item-wrapper\">\n        <em>{titleize(expense ? copy.shared.spent : deposited)}:</em>\n        {MoneyFormatter(spent, { absolute: true })}\n      </div>\n      <div className=\"cleared-item-wrapper\">\n        <em>{titleize(copy.shared.difference)}:</em>\n        {operator}\n        {MoneyFormatter(difference, { absolute: true })}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.monthly\n  const { showCleared } = state.budget.menuOptions\n\n  const sortByAmount = (a, b) => Math.abs(b.amount) - Math.abs(a.amount)\n  const sortByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1\n    } else if (a.name > b.name) {\n      return 1\n    } else {\n      return sortByAmount(a, b)\n    }\n  }\n\n  const sortOrder = state.budget.menuOptions.sortOrder\n  const sortFn = () => {\n    switch (sortOrder) {\n    case \"byAmount\":\n      return sortByAmount\n    case \"byName\":\n      return sortByName\n    default:\n      return sortByName\n    }\n  }\n\n  const revenues = collection.filter(item => !item.expense && item.isCleared)\n    .sort(sortFn())\n  const expenses = collection.filter(item => item.expense && item.isCleared)\n    .sort(sortFn())\n\n  return {\n    expenses: expenses,\n    revenues: revenues,\n    showCleared: showCleared,\n  }\n}\n\nexport default connect(mapStateToProps)(ClearedItems)\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ deletable, deleteItem, updateItem }) => {\n  if (deletable && !updateItem) {\n    return (\n      <Link\n        to=\"#\"\n        className=\"fas fa-trash-alt\"\n        onClick={deleteItem}\n      />\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { editMonthlyItem, updateMonthlyItem } from \"../../../actions/budget\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport { Link } from \"react-router-dom\"\n\nconst MonthlyAmountInput = (props) => {\n  const {\n    id,\n    amount,\n    dispatch,\n    errors,\n    floatAmount,\n    month,\n    name,\n    year,\n  } = props\n\n  const handleChange = (e) => {\n    e.preventDefault()\n    const action = editMonthlyItem({ id: id, floatAmount: e.target.value })\n    dispatch(action)\n  }\n\n  const reset = (e) => {\n    e.preventDefault()\n    const action = editMonthlyItem({\n      id: id,\n      floatAmount: (amount / 100.0).toFixed(2),\n      updateItem: false,\n    })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which !== 13) {\n      return\n    } else if (e.target.value === (amount / 100.0).toFixed(2)) {\n      reset(e)\n    } else {\n      saveChange(e)\n    }\n  }\n  const saveChange = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          budget_item_id: id,\n          amount: decimalToInt(EvaluateInput(floatAmount)),\n          event_type: \"item_adjust\",\n          month: month,\n          year: year\n        },\n      ]\n    })\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: id,\n      month: month,\n      year: year,\n      category: name,\n      newAmount: EvaluateInput(floatAmount),\n      originalAmount: (amount / 100.0).toFixed(2)\n    })\n    const onSuccess = data => {\n      const action = updateMonthlyItem({\n        ...data[0].item,\n        floatAmount: null,\n        updateItem: false,\n        errors: [],\n      })\n      dispatch(action)\n    }\n    const onFailure = data => {\n      const action = editMonthlyItem({\n        id: id,\n        errors: { amount: data.errors[0][\"adjust_item_form.0.amount\"] },\n      })\n      dispatch(action)\n    }\n    if (EvaluateInput(floatAmount) !== ((amount / 100.0).toFixed(2))) {\n      post(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n    } else {\n      reset(e)\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"budget-item-amount\">\n        <input\n          autcomplete=\"false\"\n          autoFocus\n          className={errors.amount ? \"errors\" : \"\"}\n          name=\"amount\"\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n          value={floatAmount}\n        />\n        {\" \"}\n        <Link to=\"#\" onClick={saveChange} className=\"fas fa-check\" />\n        {\" \"}\n        <Link to=\"#\" onClick={reset} className=\"fas fa-times\" />\n      </div>\n      <Errors errors={errors.amount || []} />\n    </div>\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) =>  ownProps\n\nexport default connect(mapStateToProps)(MonthlyAmountInput)\n","import React from \"react\";\nimport { connect } from \"react-redux\"\n\nimport { editMonthlyItem } from \"../../../actions/budget\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { Link } from \"react-router-dom\"\nimport MonthlyAmountInput from \"./MonthlyAmountInput\"\n\nconst Amount = (props) => {\n  const {\n    id,\n    absolute,\n    amount,\n    budget_category_id,\n    dispatch,\n    errors,\n    month,\n    name,\n    updateItem,\n    year,\n  } = props\n\n  const floatAmount = props.floatAmount || (amount / 100.0).toFixed(2)\n\n  const updateMonthlyItem = (e) => {\n    e.preventDefault()\n    const action = editMonthlyItem({\n      id: id,\n      updateItem: true,\n      errors: [],\n    })\n    dispatch(action)\n  }\n\n  if (updateItem) {\n    return (\n      <MonthlyAmountInput\n        id={id}\n        amount={amount}\n        budget_category_id={budget_category_id}\n        errors={errors}\n        floatAmount={floatAmount}\n        month={month}\n        name={name}\n        year={year}\n      />\n    )\n  } else {\n    return (\n      <div className=\"update-amount\">\n        <Link to=\"#\" onClick={updateMonthlyItem}>\n          {MoneyFormatter(amount, { absolute: absolute })}\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(Amount)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { removeMonthlyItem } from \"../../../actions/budget\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\nimport formatter from \"../../../functions/DateFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport DeleteButton from \"../Shared/DeleteButton\"\nimport Icon from \"../../Icons/Icon\"\nimport MonthlyAmount from \"./MonthlyAmount\"\n\nconst MonthlyItem = (props) => {\n  const deleteItem = (e) => {\n    e.preventDefault()\n    const { amount, id, name, month, year } = props\n    const dateString = formatter({ month: month, year: year, format: \"shortMonthYear\" })\n    const confirmation = window.confirm(copy.item.deleteConfirmationMessage(name, dateString))\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n      const event = EventMessageBuilder({\n        eventType: \"budget-item-delete\",\n        id: id,\n        category: name,\n        amount: amount,\n        month: month,\n        year: year\n      })\n      const body = JSON.stringify({\n        events: [\n          {\n            budget_item_id: id,\n            event_type: \"item_delete\",\n          },\n        ],\n      })\n      const onSuccess = () => props.dispatch(removeMonthlyItem({ id: id }))\n      post(url, body, { event: event, onSuccess: onSuccess })\n    }\n  }\n\n  return (\n    <div className=\"budget-item\">\n      <div className=\"wrapper\">\n        <div className=\"caret\">\n          <Icon className=\"fas fa-caret-right\" />\n        </div>\n        <div className=\"budget-item-description\">\n          {props.name}\n          {\" \"}\n          <Icon className={props.icon_class_name} />\n        </div>\n        <div className=\"budget-item-amounts\">\n          <MonthlyAmount\n            absolute={true}\n            {...props}\n            remaining={props.amount}\n          />\n        </div>\n        <div className=\"item-delete-button\">\n          <DeleteButton\n            deletable={props.deletable}\n            deleteItem={deleteItem}\n            updateItem={props.updateItem}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { month, year } = state.budget.metadata\n\n  return {\n    month: month,\n    year: year,\n    ...ownProps\n  }\n}\n\nexport default connect(mapStateToProps)(MonthlyItem)\n","import React from \"react\"\n\nimport GroupHeader from \"./GroupHeader\"\nimport MonthlyItem from \"./MonthlyItem\"\n\nexport default ({ collection, title }) => {\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-group\">\n        <GroupHeader title={title} />\n        {collection.map(item =>\n          <MonthlyItem\n            key={item.id}\n            {...item}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  addMonthlyItem,\n  editNewMonthlyItem,\n  toggleMonthlyItemForm,\n} from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport Select from \"react-select\"\n\nconst MonthlyItemForm = (props) => {\n  const {\n    amount,\n    budget_category_id,\n    categories,\n    dispatch,\n    errors,\n    month,\n    options,\n    showForm,\n    value,\n    year,\n  } = props\n\n  const onCategoryChange = (e) => {\n    const category = categories.find(category => category.id === e.value)\n    const action = editNewMonthlyItem({\n      budget_category_id: e.value,\n      amount: parseFloat(category.default_amount / 100.0).toFixed(2)\n    })\n    dispatch(action)\n  }\n\n  const onAmountChange = (e) => {\n    const action = editNewMonthlyItem({ amount: e.target.value })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which === 13) {\n      onSave(e)\n    }\n  }\n\n  const onSave = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events:[\n        {\n          amount: decimalToInt(EvaluateInput(amount)),\n          budget_category_id: budget_category_id,\n          event_type: \"item_create\",\n          month: month,\n          year: year,\n        }\n      ]\n    })\n    const onSuccess = data => {\n      dispatch(addMonthlyItem(data[0].item))\n      dispatch(toggleMonthlyItemForm({ showForm: false }))\n      dispatch(editNewMonthlyItem({ amount: \"\", budget_category_id: null }))\n    }\n    const onFailure = data => {\n      const action = editNewMonthlyItem({\n        errors: [\n          { amount: data.errors[0][\"create_item_form.0.amount\"] }\n        ]\n      })\n      dispatch(action)\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { event: event, onSuccess: onSuccess, onFailure: onFailure })\n  }\n\n  if (showForm) {\n    return (\n      <div className=\"new-budget-item\">\n        <div className=\"select-wrapper\">\n          <Select\n            value={value}\n            placeholder=\"Category\"\n            options={options}\n            onChange={onCategoryChange}\n            className=\"budget-category-select-container\"\n            classNamePrefix=\"budget-category-select\"\n          />\n        </div>\n        <div>\n          <input\n            name=\"amount\"\n            className={errors.length > 0 ? \"errors new-item-amount\" : \"new-item-amount\"}\n            placeholder={copy.item.amount}\n            value={amount}\n            onChange={onAmountChange}\n            onKeyDown={handleKeyDown}\n            size=\"8\"\n          />\n          <Errors errors={errors} />\n        </div>\n        <button\n          className=\"new-item-submit\"\n          type=\"submit\"\n          name=\"monthly-item-submit\"\n          onClick={onSave}\n        >\n          {titleize(copy.item.createButtonText)}\n        </button>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.categories\n  const categories = collection.filter(c => c.monthly)\n  const optionFn = category => ({ value: category.id, label: category.name })\n  const sortFn = (a, b) => a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  const options = categories.map(optionFn).sort(sortFn)\n  const { newItem } = state.budget.monthly\n  const value = options.find(option => option.value === newItem.budget_category_id)\n  const { month, year } = state.budget.metadata\n  const errors = newItem.errors.map(error => error.amount)\n\n  return {\n    amount: newItem.amount,\n    budget_category_id: newItem.budget_category_id,\n    categories: categories,\n    errors: errors,\n    fetched: state.budget.categories.fetched,\n    month: month,\n    options: options,\n    showForm: state.budget.monthly.showForm,\n    value: value,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(MonthlyItemForm)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { editNewMonthlyItem, toggleMonthlyItemForm } from \"../../../actions/budget\"\n\nimport { Link } from \"react-router-dom\"\nimport MonthlyItemForm from \"./MonthlyItemForm\"\n\nconst MonthlyHeader = (props) => {\n  const {\n    items,\n  } = copy.item\n\n  const {\n    monthly,\n  } = copy.category\n\n  const showForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleMonthlyItemForm({ showForm: true }))\n  }\n\n  const closeForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleMonthlyItemForm({ showForm: false }))\n    props.dispatch(editNewMonthlyItem({\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    }))\n  }\n\n  const iconClassName = props.showForm ? \"fa fa-times-circle\" : \"fa fa-plus-circle\"\n  const divClassName = `budget-group-header ${props.showForm ? \"\" : \"underlined\"}`\n  return (\n    <div className={divClassName}>\n      <div className=\"title\">\n        <h3>{titleize(`${monthly} ${items}`)}</h3>\n      </div>\n      <Link\n        to=\"#\"\n        onClick={props.showForm ? closeForm : showForm}\n        className={iconClassName}\n      />\n      <MonthlyItemForm />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return { showForm: state.budget.monthly.showForm }\n}\n\nexport default connect(mapStateToProps)(MonthlyHeader)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport ClearedItems from \"./ClearedItems\"\nimport MonthlyGroup from \"./MonthlyGroup\"\nimport MonthlyHeader from \"./MonthlyHeader\"\n\nconst MonthlyItems = (props) => (\n  <div className=\"monthly-items\">\n    <MonthlyHeader />\n    <MonthlyGroup\n      collection={props.revenues}\n      title={titleize(copy.category.revenues)}\n    />\n    <MonthlyGroup\n      collection={props.expenses}\n      title={titleize(copy.category.expenses)}\n    />\n    <ClearedItems />\n  </div>\n)\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.monthly\n  const { showAccruals } = state.budget.menuOptions\n  const accrualFilter = (item) => !item.accrual || item.matureAccrual || showAccruals\n\n  const sortByAmount = (a, b) => Math.abs(b.amount) - Math.abs(a.amount)\n  const sortByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1\n    } else if (a.name > b.name) {\n      return 1\n    } else {\n      return sortByAmount(a, b)\n    }\n  }\n\n  const sortOrder = state.budget.menuOptions.sortOrder\n  const sortFn = () => {\n    switch (sortOrder) {\n    case \"byAmount\":\n      return sortByAmount\n    case \"byName\":\n      return sortByName\n    default:\n      return sortByName\n    }\n  }\n\n  const revenues = collection\n    .filter(item => !item.expense && !item.isCleared)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  const expenses = collection\n    .filter(item => item.expense && !item.isCleared)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  return {\n    revenues: revenues,\n    expenses: expenses,\n  }\n}\n\nexport default connect(mapStateToProps)(MonthlyItems)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ amount, showDetail, total_remaining }) => {\n  if (showDetail) {\n    return (\n      <span>\n        {MoneyFormatter(amount)}\n      </span>\n    )\n  } else {\n    return (\n      <span>\n        {MoneyFormatter(total_remaining)}\n      </span>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nconst Caret = ({ collapseDetail, expandDetail, showDetail }) => {\n  if (showDetail) {\n    return (\n      <Link\n        to=\"#\"\n        className=\"fas fa-caret-down\"\n        onClick={collapseDetail}\n      />\n    )\n  } else {\n    return (\n      <Link\n        to=\"#\"\n        className=\"fas fa-caret-right\"\n        onClick={expandDetail}\n      />\n    )\n  }\n}\n\nexport default Caret\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default (props) => {\n  const { minus, plus } = copy.shared\n  const {\n    overUnderBudgetAmount,\n    showDetail,\n    spent,\n    total_remaining\n  } = props\n\n  const overUnderOperator = overUnderBudgetAmount >= 0 ? plus : minus\n  const spentDepositedOperator = spent >= 0 ? plus : minus\n\n  if (showDetail) {\n    return (\n      <div>\n        <div>\n          {overUnderOperator} {MoneyFormatter(overUnderBudgetAmount, { absolute: true })}\n        </div>\n        <div className=\"detail-amount underscore\">\n          {spentDepositedOperator} {MoneyFormatter(spent, { absolute: true })}\n        </div>\n        <div>\n          {MoneyFormatter(total_remaining, { absolute: false })}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default ({ descriptor, spentOrDeposited, showDetail }) => {\n  if (showDetail) {\n    return (\n      <div>\n        <div>\n          {descriptor}\n        </div>\n        <div className=\"spent-or-deposited\">\n          {spentOrDeposited}\n        </div>\n        <div className=\"budget-item-difference\">\n          {titleize(copy.shared.remaining)}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nconst {\n  budgeted,\n  perDay,\n  perWeek,\n} = copy.item\n\nconst {\n  remaining,\n} = copy.shared\n\nexport default (props) => (\n  <div className=\"per-details\">\n    <div className=\"detail-group\">\n      <div className=\"title\">{titleize(budgeted)}</div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perDay)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.budgetedPerDay, { absolute: true })}\n        </div>\n      </div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perWeek)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.budgetedPerWeek, { absolute: true })}\n        </div>\n      </div>\n    </div>\n    <div className=\"detail-group\">\n      <div className=\"title\">{titleize(remaining)}</div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perDay)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.remainingPerDay, { absolute: true })}\n        </div>\n      </div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perWeek)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.remainingPerWeek, { absolute: true })}\n        </div>\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nconst {\n  account,\n  amount,\n  date,\n  description,\n} = copy\n\nexport default () => (\n  <div className=\"budget-item-transaction-row\">\n    <div className=\"budget-transaction-cell\">\n      {titleize(date)}\n    </div>\n    <div className=\"budget-transaction-cell\">\n      {titleize(account)}\n    </div>\n    <div className=\"budget-transaction-cell\">\n      {titleize(description)}\n    </div>\n    <div className=\"budget-transaction-cell\">\n      {titleize(amount)}\n    </div>\n  </div>\n)\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport * as DateHelpers from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nconst Transaction = (props) => {\n  const {\n    pending,\n  } = copy\n\n  const {\n    account_name,\n    amount,\n    clearance_date,\n  } = props\n  const displayDescription = props.description || props.budgetCategory\n\n  return (\n    <div className=\"budget-item-transaction-row\">\n      <div className=\"budget-transaction-cell clearance-date\">\n        <span className=\"long-date\">\n          {clearance_date ? DateHelpers.fromDateString(clearance_date) : pending}\n        </span>\n        <span className=\"short-date\">\n          {clearance_date ? DateHelpers.fromDateString(clearance_date, { format: \"m/d\" }) : pending}\n        </span>\n      </div>\n      <div className=\"budget-transaction-cell\">\n        {account_name}\n      </div>\n      <div className=\"budget-transaction-cell\">\n        {displayDescription}\n      </div>\n      <div className=\"budget-transaction-cell amount\">\n        {MoneyFormatter(amount)}\n      </div>\n    </div>\n  )\n}\n\nexport default Transaction\n","import React from \"react\"\nimport Header from \"./Header\"\nimport Transaction from \"./Transaction\"\n\nconst Transactions = ({ budgetCategory, collection }) => {\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-transactions\">\n        <Header />\n        {collection.map(transaction =>\n          <Transaction\n            key={transaction.id}\n            {...transaction}\n            budgetCategory={budgetCategory}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Transactions\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { fetchedDiscretionaryTransactions } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport Details from \"../Shared/Details\"\nimport Transactions from \"./../Shared/Transactions\"\n\nconst DiscretionaryDetail = (props) => {\n  const {\n    amount,\n    isApiUnauthorized,\n    collection,\n    days_remaining,\n    dispatch,\n    fetchedTransactions,\n    month,\n    showDetail,\n    total_remaining,\n    total_days,\n    year,\n  } = props\n\n  if (!showDetail) {\n    return null\n  }\n\n  if (!isApiUnauthorized && showDetail && !fetchedTransactions ) {\n    const url = ApiUrlBuilder({\n      route: \"discretionary-transactions-index\",\n      query: { month: month, year: year }\n    })\n    const onSuccess = data => dispatch(fetchedDiscretionaryTransactions(data))\n    get(url, onSuccess)\n  }\n\n  const budgetedPerDay = Math.floor(amount / total_days)\n  const remainingPerDay = Math.floor(total_remaining / days_remaining)\n\n  return (\n    <div className=\"detail-wrapper\">\n      <hr />\n      <Details\n        budgetedPerDay={budgetedPerDay}\n        budgetedPerWeek={budgetedPerDay * 7}\n        remainingPerDay={remainingPerDay}\n        remainingPerWeek={remainingPerDay * 7}\n      />\n      <hr />\n      <Transactions\n        budgetCategory={titleize(copy.discretionary.title)}\n        collection={collection}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n  const collection = state.budget.discretionary.collection.sort((a, b) => {\n    if (a.clearance_date === b.clearance_date) {\n      return 0\n    } else if (a.clearance_date === null) {\n      return b.clearance_date > today ? -1 : 1\n    } else if (b.clearance_date === null) {\n      return a.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.clearance_date > b.clearance_date) ? 1 : -1\n    }\n  })\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...state.budget.metadata,\n    ...state.budget.discretionary,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: collection\n  }\n}\n\nexport default connect(mapStateToProps)(DiscretionaryDetail)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { toggleDiscretionaryDetail } from \"../../../actions/budget\"\n\nimport Amount from \"./Amount\"\nimport Caret from \"./../Shared/Caret\"\nimport DetailAmounts from \"./DetailAmounts\"\nimport DetailLabels from \"./DetailLabels\"\nimport DiscretionaryDetail from \"./DiscretionaryDetail\"\nimport Icon from \"../../Icons/Icon\"\n\nconst Discretionary = (props) => {\n  const {\n    aheadOfBudget,\n    overBudget,\n    title,\n  } = copy.discretionary\n\n  const {\n    deposited,\n    spent,\n  } = copy.shared\n\n  const expandDetail = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleDiscretionaryDetail({ showDetail: true }))\n  }\n\n  const collapseDetail = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleDiscretionaryDetail({ showDetail: false }))\n  }\n\n  const descriptor = props.overUnderBudgetAmount > 0 ? aheadOfBudget : overBudget\n  const spentOrDeposited = titleize(props.spent >= 0 ? deposited : spent)\n  return (\n    <div className=\"budget-item\">\n      <div className=\"wrapper\">\n        <div className=\"caret\">\n          <Caret\n            showDetail={props.showDetail}\n            expandDetail={expandDetail}\n            collapseDetail={collapseDetail} />\n        </div>\n        <div className=\"budget-item-description\">\n          <div className=\"item-name\">\n            {titleize(title)}\n            {\" \"}\n            <Icon className=\"fas fa-piggy-bank\" />\n          </div>\n          <DetailLabels\n            descriptor={descriptor}\n            showDetail={props.showDetail}\n            spentOrDeposited={spentOrDeposited}\n          />\n        </div>\n        <div className=\"budget-item-amounts\">\n          <Amount\n            amount={props.amount}\n            showDetail={props.showDetail}\n            total_remaining={props.total_remaining}\n          />\n          <DetailAmounts\n            {...props}\n          />\n        </div>\n        <div className=\"item-delete-button\">\n        </div>\n      </div>\n      <DiscretionaryDetail {...props} />\n    </div>\n  )\n}\n\nexport default connect(state => state.budget.discretionary)(Discretionary)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { addWeeklyItem, editNewWeeklyItem, toggleWeeklyItemForm } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport Select from \"react-select\"\n\nconst WeeklyItemForm = (props) => {\n  const {\n    amount,\n    budget_category_id,\n    categories,\n    dispatch,\n    errors,\n    month,\n    options,\n    showForm,\n    value,\n    year,\n  } = props\n\n  const onCategoryChange = (e) => {\n    const category = categories.find(category => category.id === e.value)\n    const action = editNewWeeklyItem({\n      budget_category_id: e.value,\n      amount: parseFloat(category.default_amount / 100.0).toFixed(2)\n    })\n    dispatch(action)\n  }\n\n  const onAmountChange = (e) => {\n    const action = editNewWeeklyItem({ amount: e.target.value })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which === 13) {\n      onSave(e)\n    }\n  }\n\n  const onSave = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events:[\n        {\n          amount: decimalToInt(EvaluateInput(amount)),\n          budget_category_id: budget_category_id,\n          event_type: \"item_create\",\n          month: month,\n          year: year,\n        }\n      ]\n    })\n    const onSuccess = data => {\n      dispatch(addWeeklyItem(data[0].item))\n      dispatch(toggleWeeklyItemForm({ showForm: false }))\n      dispatch(editNewWeeklyItem({ amount: \"\", budget_category_id: null }))\n    }\n    const onFailure = data => {\n      const action = editNewWeeklyItem({\n        errors: [\n          { amount: data.errors[0][\"create_item_form.0.amount\"] }\n        ]\n      })\n      dispatch(action)\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n  }\n\n  if (!showForm) {\n    return null\n  }\n\n  return (\n    <div className=\"new-budget-item\">\n      <div className=\"select-wrapper\">\n        <Select\n          value={value}\n          placeholder=\"Category\"\n          options={options}\n          onChange={onCategoryChange}\n          className=\"budget-category-select-container\"\n          classNamePrefix=\"budget-category-select\"\n        />\n      </div>\n      <div>\n        <input\n          name=\"amount\"\n          className={errors.length > 0 ? \"errors new-item-amount\" : \"new-item-amount\"}\n          placeholder=\"amount\"\n          value={amount}\n          onChange={onAmountChange}\n          onKeyDown={handleKeyDown}\n          size=\"8\"\n        />\n        <Errors errors={errors} />\n      </div>\n      <button\n        className=\"new-item-submit\"\n        type=\"submit\"\n        name=\"weekly-item-submit\"\n        onClick={onSave}\n      >\n        {titleize(copy.item.createButtonText)}\n      </button>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const currentCategoryIds = state.budget.weekly.collection.map(item => item.budget_category_id)\n  const categories = state.budget.categories.collection.filter(category => {\n    return !category.monthly && !currentCategoryIds.includes(category.id)\n  })\n  const collection = categories.map(category => {\n    return {\n      value: category.id,\n      label: category.name,\n    }\n  })\n  const options = collection.sort((a, b) => {\n    return a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  })\n  const { newItem } = state.budget.weekly\n  const value = options.find(option => option.value === newItem.budget_category_id)\n  const { month, year } = state.budget.metadata\n  const errors = newItem.errors.map(error => error.amount)\n\n  return {\n    amount: newItem.amount,\n    categories: categories,\n    budget_category_id: newItem.budget_category_id,\n    errors: errors,\n    fetched: state.budget.categories.fetched,\n    month: month,\n    options: options,\n    showForm: state.budget.weekly.showForm,\n    value: value,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(WeeklyItemForm)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { editNewWeeklyItem, toggleWeeklyItemForm } from \"../../../actions/budget\"\n\nimport { Link } from \"react-router-dom\"\nimport WeeklyItemForm from \"./WeeklyItemForm\"\n\nconst WeeklyHeader = (props) => {\n  const showForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleWeeklyItemForm({ showForm: true }))\n  }\n\n  const closeForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleWeeklyItemForm({ showForm: false }))\n    props.dispatch(editNewWeeklyItem({\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    }))\n  }\n\n  const iconClassName = props.showForm ? \"fa fa-times-circle\" : \"fa fa-plus-circle\"\n  const divClassName = `budget-group-header ${props.showForm ? \"\" : \"underlined\"}`\n  return (\n    <div className={divClassName}>\n      <div className=\"title\">\n        <h3>{titleize(`${copy.category.weekly} ${copy.item.items}`)}</h3>\n      </div>\n      <Link\n        to=\"#\"\n        onClick={props.showForm ? closeForm : showForm}\n        className={iconClassName}\n      />\n      <WeeklyItemForm />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return { showForm: state.budget.weekly.showForm }\n}\n\nexport default connect(mapStateToProps)(WeeklyHeader)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { editWeeklyItem, updateWeeklyItem } from \"../../../actions/budget\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport { Link } from \"react-router-dom\"\n\nconst WeeklyAmountInput = (props) => {\n  const {\n    id,\n    amount,\n    dispatch,\n    floatAmount,\n    errors,\n    month,\n    name,\n    spent,\n    year,\n  } = props\n\n  const handleChange = (e) => {\n    e.preventDefault()\n    const difference = decimalToInt(e.target.value) - spent\n    const action = editWeeklyItem({\n      id: id,\n      floatAmount: e.target.value,\n      difference: difference\n    })\n    dispatch(action)\n  }\n\n  const reset = () => {\n    const difference = amount - spent\n    const action = editWeeklyItem({\n      id: id,\n      floatAmount: (amount / 100.0).toFixed(2),\n      difference: difference,\n      updateItem: false,\n    })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which !== 13) {\n      return\n    } else if (e.target.value === (amount / 100.0).toFixed(2)) {\n      reset(e)\n    } else {\n      saveChange(e)\n    }\n  }\n\n  const saveChange = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          budget_item_id: id,\n          amount: decimalToInt(EvaluateInput(floatAmount)),\n          event_type: \"item_adjust\",\n          month: month,\n          year: year\n        },\n      ]\n    })\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: id,\n      month: month,\n      year: year,\n      category: name,\n      newAmount: EvaluateInput(floatAmount),\n      originalAmount: (amount / 100.0).toFixed(2)\n    })\n    const onSuccess = data => {\n      const action = updateWeeklyItem({\n        ...data[0].item,\n        floatAmount: null,\n        updateItem: false,\n        errors: {}\n      })\n      dispatch(action)\n    }\n    const onFailure = data => {\n      const action = editWeeklyItem({\n        id: id,\n        errors: { amount: data.errors[0][\"adjust_item_form.0.amount\"] },\n      })\n      dispatch(action)\n    }\n    if (EvaluateInput(floatAmount) !== ((amount / 100.0).toFixed(2))) {\n      post(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n    } else {\n      reset()\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"budget-item-amount\">\n        <input\n          autcomplete=\"false\"\n          autoFocus\n          className={errors.amount ? \"errors\" : \"\"}\n          name=\"amount\"\n          onKeyDown={handleKeyDown}\n          onChange={handleChange}\n          value={floatAmount}\n        />\n        {\" \"}\n        <Link to=\"#\" onClick={saveChange} className=\"fas fa-check\" />\n        {\" \"}\n        <Link to=\"#\" onClick={reset} className=\"fas fa-times\" />\n      </div>\n      <Errors errors={errors.amount || []} />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    month: state.budget.metadata.month,\n    year: state.budget.metadata.year,\n    ...ownProps,\n  }\n)\n\nexport default connect(mapStateToProps)(WeeklyAmountInput)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { editWeeklyItem } from \"../../../actions/budget\"\n\nimport { Link } from \"react-router-dom\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nconst AmountContainer = (props) => {\n  const {\n    id,\n    absolute,\n    amount,\n    difference,\n    errors,\n    expense,\n    overUnderBudget,\n    showDetail,\n  } = props\n\n  const {\n    minus,\n    plus,\n  } = copy.shared\n\n  const updateItem = (e) => {\n    e.preventDefault()\n    props.dispatch(editWeeklyItem({\n      id: id,\n      updateItem: true,\n      showDetail: true,\n      errors: (errors || {})\n    }))\n  }\n\n  const operator = !overUnderBudget ? \"\" : (expense ? minus : plus)\n  if (showDetail) {\n    return (\n      <div className=\"update-amount\">\n        <Link to=\"#\" onClick={updateItem}>\n          {MoneyFormatter(amount, { absolute: absolute })}\n        </Link>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"update-amount\">\n        <Link to=\"#\" onClick={updateItem}>\n          {operator} {MoneyFormatter(difference, { absolute: absolute })}\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(AmountContainer)\n","import React from \"react\";\nimport { connect } from \"react-redux\"\nimport WeeklyAmountInput from \"./WeeklyAmountInput\"\nimport WeeklyAmountContainer from \"./WeeklyAmountContainer\"\n\nconst WeeklyAmount = (props) => {\n  const {\n    id,\n    absolute,\n    amount,\n    budget_category_id,\n    difference,\n    errors,\n    expense,\n    floatAmount,\n    name,\n    overUnderBudget,\n    showDetail,\n    spent,\n    updateItem,\n  } = props\n\n  if (updateItem) {\n    return (\n      <WeeklyAmountInput\n        id={id}\n        amount={amount}\n        budget_category_id={budget_category_id}\n        errors={errors}\n        floatAmount={floatAmount}\n        name={name}\n        spent={spent}\n      />\n    )\n  } else {\n    return (\n      <WeeklyAmountContainer\n        id={id}\n        absolute={absolute}\n        amount={amount}\n        difference={difference}\n        expense={expense}\n        overUnderBudget={overUnderBudget}\n        showDetail={showDetail}\n      />\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(WeeklyAmount)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ difference, diffOperator, operator, showDetail, spent }) => {\n  if (!showDetail) {\n    return null\n  }\n\n  return (\n    <div>\n      <div className=\"detail-amount underscore\">\n        {operator} {MoneyFormatter(spent, { absolute: true })}\n      </div>\n      <div className=\"detail-amount\">\n        {diffOperator} {MoneyFormatter(difference, { absolute: true })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport * as DateHelpers from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { budget as budgetCopy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nconst Events = ({ events }) => {\n  return events.map(event => {\n    if (event.isTransaction) {\n      return (\n        <Transaction key={event.id} {...event} />\n      )\n    } else {\n      return (\n        <Event key={event.id} {...event} />\n      )\n    }\n  })\n}\n\nconst {\n  minus,\n  plus,\n} = budgetCopy.shared\n\nconst Event = (props) => {\n  const {\n    amount,\n    budgetedAmount,\n    budget_item_event_type,\n    created_at,\n    remaining,\n  } = props\n\n  const eventName = budgetCopy.eventLabels[budget_item_event_type]\n  const prevAmount = budgetedAmount - amount\n  const prevRemaining = remaining - amount\n  const operator = amount < 0 ? minus : plus\n  const remainingString = `${MoneyFormatter(prevRemaining)} (${operator} ${MoneyFormatter(amount, { absolute: true })}) = ${MoneyFormatter(remaining)}`\n  const budgetedString = `${MoneyFormatter(prevAmount)} (${operator} ${MoneyFormatter(amount, { absolute: true })}) = ${MoneyFormatter(budgetedAmount)}`\n\n  return (\n    <div className=\"budget-item-event\">\n      <div className=\"budget-item-event-row top\">\n        <div className=\"budget-item-event-row-left\">\n          <div className=\"budget-item-cell created-at-date\">\n            <span className=\"long-date\">\n              {DateHelpers.fromDateString(created_at)}\n            </span>\n            <span className=\"short-date\">\n              {DateHelpers.fromDateString(created_at, { format: \"m/d\" })}\n            </span>\n          </div>\n          <div className=\"budget-item-cell budget-item-cell-extra-wide\">\n            {eventName}\n          </div>\n        </div>\n        <div className=\"budget-item-cell amount\">\n          {MoneyFormatter(amount)}\n        </div>\n      </div>\n      <div className=\"budget-item-event-row bottom\">\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.shared.remaining)} />\n          <Atom string={remainingString} />\n        </div>\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.item.budgeted)} />\n          <Atom string={budgetedString} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Transaction = (props) => {\n  const {\n    account_name,\n    amount,\n    budgetedAmount,\n    created_at,\n    remaining,\n  } = props\n  const displayDescription = props.description || props.budgetCategory\n  const prevRemaining = remaining + amount\n  const operator = amount <= 0 ? plus : minus\n\n  return (\n    <div className=\"budget-item-event\">\n      <div className=\"budget-item-event-row top\">\n        <div className=\"budget-item-event-row-left\">\n          <div className=\"budget-item-cell created-at-date\">\n            <span className=\"long-date\">\n              {DateHelpers.fromDateString(created_at)}\n            </span>\n            <span className=\"short-date\">\n              {DateHelpers.fromDateString(created_at, { format: \"m/d\" })}\n            </span>\n          </div>\n          <div className=\"budget-item-cell budget-item-cell-description\">\n            {displayDescription}\n          </div>\n          <div className=\"budget-item-cell budget-item-cell-description italic\">\n            ({account_name})\n          </div>\n        </div>\n        <div className=\"budget-item-cell amount\">\n          {MoneyFormatter(amount)}\n        </div>\n      </div>\n      <div className=\"budget-item-event-row bottom\">\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.item.budgeted)} />\n          <div className=\"budget-item-atom\">\n            {MoneyFormatter(budgetedAmount)}\n          </div>\n        </div>\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.shared.remaining)} />\n          <div className=\"budget-item-atom\">\n            {MoneyFormatter(prevRemaining)}\n            {\" \"}\n            ({operator} {MoneyFormatter(amount, { absolute: true })})\n            {\" \"}\n            =\n            {\" \"}\n            {MoneyFormatter(remaining)}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Atom = ({ string }) => (\n  <div className=\"budget-item-atom\">\n    {string}\n  </div>\n)\n\nexport default Events\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetchedWeeklyBudgetItemEvents, fetchedWeeklyTransactions } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport Details from \"../Shared/Details\"\nimport Events from \"../Shared/Events\"\n\nconst WeeklyDetail = (props) => {\n  const {\n    id,\n    budget_category_id,\n    budgetedPerDay,\n    budgetedPerWeek,\n    collection,\n    combinedEvents,\n    dispatch,\n    events,\n    isApiUnauthorized,\n    remainingPerDay,\n    remainingPerWeek,\n    showDetail,\n    transaction_count,\n  } = props\n\n  if (!showDetail) {\n    return null\n  }\n\n  if (!isApiUnauthorized && collection.length < transaction_count) {\n    const url = ApiUrlBuilder({\n      route: \"budget-item-transactions-index\",\n      id: id,\n      budgetCategoryId: budget_category_id,\n    })\n    const onSuccess = data => dispatch(fetchedWeeklyTransactions({\n      id: id,\n      collection: data\n    }))\n    get(url, onSuccess)\n    return null\n  }\n\n  if (!isApiUnauthorized && events.length === 0) {\n    const url = ApiUrlBuilder({\n      route: \"budget-item-events-index\",\n      id: id,\n      budgetCategoryId: budget_category_id,\n    })\n    const onSuccess = data => dispatch(fetchedWeeklyBudgetItemEvents({\n      id: id,\n      events: data\n    }))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"detail-wrapper\">\n      <hr />\n      <Details\n        budgetedPerDay={budgetedPerDay}\n        budgetedPerWeek={budgetedPerWeek}\n        remainingPerDay={remainingPerDay}\n        remainingPerWeek={remainingPerWeek}\n      />\n      <hr />\n      <Events\n        events={combinedEvents}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n\n  const collection = ownProps.collection.sort((a, b) => {\n    if (a.clearance_date === b.clearance_date) {\n      return 0\n    } else if (a.clearance_date === null) {\n      return b.clearance_date > today ? -1 : 1\n    } else if (b.clearance_date === null) {\n      return a.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.clearance_date > b.clearance_date) ? 1 : -1\n    }\n  })\n\n  const { events } = ownProps\n  let budgetedAmount = 0\n  let remaining = 0\n  const eventsWithBalance = [...events, ...collection]\n    .map(event => ({ ...event, isTransaction: Object(event).hasOwnProperty(\"transaction_entry_id\") }))\n    .sort((a, b) => a.created_at > b.created_at ? 1 : -1)\n    .map(event => {\n      const { amount } = event\n      budgetedAmount += (event.isTransaction ? 0 : amount)\n      remaining += (event.isTransaction ? (-1 * amount) : amount)\n      return { ...event, budgetedAmount: budgetedAmount, remaining: remaining }\n    })\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...ownProps,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: collection,\n    events: events,\n    combinedEvents: eventsWithBalance,\n  }\n}\n\nexport default connect(mapStateToProps)(WeeklyDetail)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default ({ descriptor, showDetail }) => {\n  if (showDetail) {\n    return (\n      <div>\n        <div className=\"spent-or-deposited\">\n          {titleize(descriptor)}\n        </div>\n        <div className=\"budget-item-difference\">\n          {titleize(copy.shared.remaining)}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { editWeeklyItem, removeWeeklyItem } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\nimport formatter from \"../../../functions/DateFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport Caret from \"../Shared/Caret\"\nimport DeleteButton from \"../Shared/DeleteButton\"\nimport Icon from \"../../Icons/Icon\"\nimport WeeklyAmount from \"./WeeklyAmount\"\nimport WeeklyAmountDetails from \"./WeeklyAmountDetails\"\nimport WeeklyDetail from \"./WeeklyDetail\"\nimport WeeklyDetailLabels from \"./WeeklyDetailLabels\"\n\nconst WeeklyItem = (props) => {\n  const {\n    deposited,\n    minus,\n    plus,\n  } = copy.shared\n\n  const {\n    id,\n    amount,\n    daysRemaining,\n    difference,\n    dispatch,\n    icon_class_name,\n    expense,\n    name,\n    overUnderBudget,\n    month,\n    showDetail,\n    spent,\n    totalDays,\n    transaction_count,\n    updateItem,\n    year,\n  } = props\n\n  const {\n    deleteConfirmationMessage,\n  } = copy.item\n\n  const expandDetail = (e) => {\n    e.preventDefault()\n    dispatch(editWeeklyItem({ id: props.id, showDetail: true }))\n  }\n\n  const collapseDetail = (e) => {\n    e.preventDefault()\n    dispatch(editWeeklyItem({ id: props.id, showDetail: false }))\n  }\n\n  const deleteItem = (e) => {\n    e.preventDefault()\n    const dateString = formatter({ month: month, year: year, format: \"shortMonthYear\" })\n    const confirmation = window.confirm(deleteConfirmationMessage(name, dateString))\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n      const event = EventMessageBuilder({\n        eventType: \"budget-item-delete\",\n        id: id,\n        category: name,\n        amount: amount,\n        month: month,\n        year: year\n      })\n      const body = JSON.stringify({\n        events: [\n          {\n            budget_item_id: id,\n            event_type: \"item_delete\",\n          },\n        ],\n      })\n      const onSuccess = () => dispatch(removeWeeklyItem({ id: id }))\n      post(url, body, { event: event, onSuccess: onSuccess })\n    }\n  }\n\n  // expense & >  0 -- reinvestment  -- deposited / +\n  // revenue & >= 0 -- most revenues -- deposited / -\n  // expense & <= 0 -- most expenses -- spent     / -\n  // revenue & <  0 -- travel claim  -- spent     / -\n  const descriptor = spent > 0 ? deposited : copy.shared.spent\n  const operator = spent > 0  && props.expense ? plus : minus\n  const diffOperator = !overUnderBudget ? \"\" : (expense ? minus : plus)\n  const deletable = transaction_count === 0\n  const budgetedPerDay = Math.floor(amount / totalDays)\n  const budgetedPerWeek = (budgetedPerDay * 7)\n  const remainingPerDay = Math.floor(props.remaining / daysRemaining)\n  const remainingPerWeek = (remainingPerDay * 7)\n\n  return (\n    <div className=\"budget-item\">\n      <div className=\"wrapper\">\n        <div className=\"caret\">\n          <Caret\n            showDetail={showDetail}\n            expandDetail={expandDetail}\n            collapseDetail={collapseDetail}\n          />\n        </div>\n        <div className=\"budget-item-description\">\n          <div className=\"item-name\">\n            {name}\n            { \" \" }\n            <Icon className={icon_class_name} />\n          </div>\n          <WeeklyDetailLabels\n            descriptor={descriptor}\n            showDetail={showDetail}\n          />\n        </div>\n        <div className=\"budget-item-amounts\">\n          <WeeklyAmount\n            expandDetail={expandDetail}\n            absolute={true}\n            {...props}\n          />\n          <WeeklyAmountDetails\n            difference={difference}\n            diffOperator={diffOperator}\n            operator={operator}\n            showDetail={showDetail}\n            spent={spent}\n          />\n        </div>\n        <div className=\"item-delete-button\">\n          <DeleteButton\n            deletable={deletable}\n            deleteItem={deleteItem}\n            updateItem={updateItem}\n          />\n        </div>\n      </div>\n      <WeeklyDetail\n        {...props}\n        budgetedPerDay={budgetedPerDay}\n        budgetedPerWeek={budgetedPerWeek}\n        remainingPerDay={remainingPerDay}\n        remainingPerWeek={remainingPerWeek}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(WeeklyItem)\n","import React from \"react\"\n\nimport GroupHeader from \"./GroupHeader\"\nimport WeeklyItem from \"./WeeklyItem\"\n\nconst WeeklyGroup = (props) => {\n  const { collection, daysRemaining, title, totalDays } = props\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-group\">\n        <GroupHeader title={title} />\n        {collection.map(item =>\n          <WeeklyItem\n            key={item.id}\n            {...item}\n            daysRemaining={daysRemaining}\n            totalDays={totalDays}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default WeeklyGroup\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Discretionary from \"../Discretionary/Discretionary\"\nimport GroupHeader from \"./GroupHeader\"\nimport WeeklyHeader from \"./WeeklyHeader\"\nimport WeeklyGroup from \"./WeeklyGroup\"\n\nconst WeeklyItems = (props) => (\n  <div className=\"weekly-items\">\n    <WeeklyHeader />\n    <div className=\"budget-group\">\n      <GroupHeader\n        title={titleize(copy.discretionary.title)}\n      />\n      <Discretionary />\n    </div>\n    <WeeklyGroup\n      collection={props.revenues}\n      daysRemaining={props.daysRemaining}\n      title={titleize(copy.category.revenues)}\n      totalDays={props.totalDays}\n    />\n    <WeeklyGroup\n      collection={props.expenses}\n      daysRemaining={props.daysRemaining}\n      title={titleize(copy.category.expenses)}\n      totalDays={props.totalDays}\n    />\n  </div>\n)\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.weekly\n  const { showAccruals } = state.budget.menuOptions\n  const { metadata } = state.budget\n  const { days_remaining, total_days } = metadata\n  const accrualFilter = (item) => !item.accrual || item.matureAccrual || showAccruals\n\n  const sortByAmount = (a, b) => {\n    const aDiff = a.amount - a.spent\n    const bDiff = b.amount - b.spent\n    if (aDiff === bDiff) {\n      return 0\n    } else if (aDiff > 0 && bDiff > 0) {\n      return (bDiff - aDiff)\n    } else if (aDiff > 0) {\n      return 1\n    } else if (bDiff > 0) {\n      return -1\n    } else {\n      return (aDiff - bDiff)\n    }\n  }\n\n  const sortByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1\n    } else if (a.name > b.name) {\n      return 1\n    } else {\n      sortByAmount(a, b)\n    }\n  }\n\n  const sortOrder = state.budget.menuOptions.sortOrder\n  const sortFn = () => {\n    switch (sortOrder) {\n    case \"byAmount\":\n      return sortByAmount\n    case \"byName\":\n      return sortByName\n    default:\n      return sortByName\n    }\n  }\n\n  const expenses = collection\n    .filter(item => item.expense)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  const revenues = collection\n    .filter(item => !item.expense)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  return {\n    daysRemaining: days_remaining,\n    expenses: expenses,\n    revenues: revenues,\n    totalDays: total_days,\n  }\n}\n\nexport default connect(mapStateToProps)(WeeklyItems)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { categoriesFetched } from \"../../actions/budget/categories\"\nimport { itemsFetched as fetched } from \"../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport BudgetInfo from \"./Info\"\nimport Menu from \"./Menu\"\nimport MonthlyItems from \"./Items/MonthlyItems\"\nimport WeeklyItems from \"./Items/WeeklyItems\"\n\nconst BudgetIndex = (props) => {\n  const {\n    isApiUnauthorized,\n    categoresWereFetched,\n    dispatch,\n    isCurrent,\n    isFuture,\n    itemsFetched,\n    metadata,\n    month,\n    year,\n  } = props\n\n  if (!isApiUnauthorized && (!itemsFetched || !isCurrent)) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: month, year: year },\n    })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  if (!isApiUnauthorized && (itemsFetched && !categoresWereFetched)) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(categoriesFetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"budget\">\n      <BudgetInfo />\n      <WeeklyItems />\n      <MonthlyItems />\n      <Menu\n        month={month}\n        year={year}\n        isFuture={isFuture}\n        requiresCloseOut={!metadata.is_closed_out}\n        requiresSetUp={!metadata.is_set_up}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const month = parseInt(ownProps.match.params.month)\n  const year = parseInt(ownProps.match.params.year)\n  const isCurrent = state.budget.metadata.month === month && state.budget.metadata.year === year\n  const today = new Date()\n  const isFuture = (year > today.getFullYear() || (year === today.getFullYear() && month > (today.getMonth() + 1)))\n  const categoresWereFetched = state.budget.categories.fetched\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...state.budget,\n    isApiUnauthorized: isApiUnauthorized,\n    categoresWereFetched: categoresWereFetched,\n    isCurrent: isCurrent,\n    isFuture: isFuture,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(BudgetIndex)\n","export const addItem = (payload) => {\n  return { type: \"budget/setup/ADD_ITEM\", payload: payload }\n}\n\nexport const editAccrualAmount = (payload) => {\n  return { type: \"budget/setup/EDIT_ACCRUAL_AMOUNT\", payload: payload }\n}\n\nexport const editNew = (payload) => {\n  return { type: \"budget/setup/EDIT_NEW\", payload: payload }\n}\n\nexport const editReviewItem = (payload) => {\n  return { type: \"budget/setup/EDIT_REVIEW_ITEM\", payload: payload }\n}\n\nexport const finishReview = (payload) => {\n  return { type: \"budget/setup/FINISH_REVIEW\", payload: payload }\n}\n\nexport const markForInclusion = (payload) => {\n  return { type: \"budget/setup/MARK_FOR_INCLUSION\", payload: payload }\n}\n\nexport const markSubmitted = (payload) => {\n  return { type: \"budget/setup/MARK_SUBMITTED\", payload: payload }\n}\n\nexport const markReviewed = (payload) => {\n  return { type: \"budget/setup/MARK_REVIEWED\", payload: payload }\n}\n\nexport const nextStep = () => {\n  return { type: \"budget/setup/NEXT_STEP\" }\n}\n\nexport const requeue = (payload) => {\n  return { type: \"budget/setup/REQUEUE\", payload: payload }\n}\n\nexport const updateExisting = (payload) => {\n  return { type: \"budget/setup/UPDATE_EXISTING\", payload: payload }\n}\n\nexport const updateMetadata = (payload) => {\n  return { type: \"budget/setup/UPDATE_METADATA\", payload: payload }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ amount }) => (\n  <div className=\"setup-discretionary\">\n    <div className=\"name\">\n      <strong>{titleize(copy.shared.remaining)}: </strong>\n    </div>\n    <div className=\"amount\">\n      {MoneyFormatter(amount, { absolute: false })}\n    </div>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport Discretionary from \"./Discretionary\"\n\nconst Items = ({ collection, discretionary, month, year }) => {\n  const monthString = dateFormatter.formatted({ month: month, year: year, format: \"monthYear\" })\n  const { expenses, revenues } = collection\n\n  return (\n    <div className=\"new-month-items\">\n      <h4>{monthString} {titleize(copy.item.items)}</h4>\n      <Discretionary\n        amount={discretionary}\n      />\n      <div className=\"setup-title\">\n        <strong>{titleize(copy.category.revenues)}</strong>\n      </div>\n      {revenues.map(item =>\n        <Item\n          key={item.id}\n          {...item}\n        />\n      )}\n      <div className=\"setup-title\">\n        <strong>{titleize(copy.category.expenses)}</strong>\n      </div>\n      {expenses.map(item =>\n        <Item\n          key={item.id}\n          {...item}\n        />\n      )}\n    </div>\n  )\n}\n\nconst Item = ({ amount, name }) => {\n  return (\n    <div className=\"new-month-item\">\n      <div className=\"name\">\n        {name}\n      </div>\n      <div className=\"amount\">\n        {MoneyFormatter(amount, { absolute: false })}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const sortFn = (a, b) => {\n    if (a.budget_category_id !== b.budget_cateogry_id) {\n      return a.name < b.name ? -1 : 1\n    } else {\n      if (a.amount === b.amount) {\n        return a.id - b.id\n      } else {\n        return Math.abs(a.amount) - Math.abs(b.amount)\n      }\n    }\n  }\n\n  const newMonth = state.budget.setup.newMonth\n  const { collection, month, year } = newMonth\n  const discretionary = collection.reduce((acc, item) => acc += item.amount, 0)\n  const expenses = collection.sort(sortFn).filter(item => item.expense)\n  const revenues = collection.sort(sortFn).filter(item => !item.expense)\n\n  return {\n    collection: { revenues: revenues, expenses: expenses },\n    discretionary: discretionary,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Items)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  addItem,\n  editAccrualAmount,\n  markForInclusion,\n  markReviewed,\n  markSubmitted,\n} from \"../../../actions/budget/setup\"\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport delay from \"../../../functions/Delay\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\nimport Items from \"./Items\"\nimport { Link } from \"react-router-dom\"\nimport { Redirect } from \"react-router-dom\"\n\nconst Accruals = (props) => {\n  const {\n    accruingExpenses,\n  } = copy.setup\n\n  const {\n    baseMonth,\n    collection,\n    dispatch,\n    isFetched,\n    month,\n    paramMonth,\n    paramYear,\n    year,\n  } = props\n\n  const reviewCount = collection.filter(item => !item.reviewed).length\n  const prevMonthString = dateFormatter.formatted({\n    month: baseMonth.month,\n    year: baseMonth.year,\n    format: \"monthYear\"\n  })\n\n  if (!isFetched) {\n    return (\n      <Redirect to={`/budget/set-up/${paramMonth}/${paramYear}/intro`} />\n    )\n  } else if (reviewCount > 0) {\n    return (\n      <div className=\"set-up-workspace\">\n        <div className=\"previous-month-items\">\n          <h4>{prevMonthString}</h4>\n          <h5>{titleize(accruingExpenses)}</h5>\n          <div className=\"review-accruals\">\n            {collection.map(item =>\n              <Item\n                key={item.id}\n                dispatch={dispatch}\n                item={item}\n              />\n            )}\n          </div>\n          <SubmitButton\n            collection={collection}\n            dispatch={dispatch}\n            month={month}\n            year={year}\n          />\n        </div>\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/set-up/${month}/${year}/expenses`} />\n    )\n  }\n}\n\nconst SubmitButton = ({ collection, dispatch, month, year }) => {\n  const {\n    accrualButtonText,\n  } = copy.setup\n\n  const submit = (item) => {\n    const amount = item.updatedProps ? decimalToInt(EvaluateInput(item.updatedProps.amount)) : item.defaultAmount\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          amount: amount,\n          budget_category_id: item.budget_category_id,\n          event_type: \"setup_item_create\",\n          month: month,\n          year: year,\n        },\n      ],\n    })\n    const onSuccess = data => dispatch(addItem(data[0].item))\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const submitAccruals = async () => {\n    for (let item of collection) {\n      dispatch(markSubmitted({ id: item.id }))\n      await delay(400)\n      if (!item.markedForExclusion) {\n        submit(item)\n      }\n      dispatch(markReviewed({ id: item.id }))\n    }\n  }\n\n  return (\n    <div className=\"accrual-submit\">\n      <button\n        type=\"submit\"\n        onClick={submitAccruals}\n      >\n        {titleize(accrualButtonText)}\n      </button>\n    </div>\n  )\n}\n\nconst Item = (props) => {\n  const { dispatch } = props\n  const item = {\n    ...props.item,\n    amount: parseFloat(props.item.defaultAmount / 100.0).toFixed(2),\n    ...props.item.updatedProps\n  }\n\n  const {\n    id,\n    amount,\n    markedForExclusion,\n    name,\n  } = item\n\n  const include = (e) => {\n    e.preventDefault()\n    const action = markForInclusion({ id: id, exclude: false })\n    dispatch(action)\n  }\n\n  const exclude = (e) => {\n    e.preventDefault()\n    const action = markForInclusion({ id: id, exclude: true })\n    dispatch(action)\n  }\n\n  const handleUpdate = (e) => {\n    const action = editAccrualAmount({ id: id, amount: e.target.value })\n    dispatch(action)\n  }\n\n  const itemState = () => {\n    if (item.submitted && !item.reviewed) {\n      return \"submitted\"\n    } else if (item.reviewed && !markedForExclusion) {\n      return \"reviewed\"\n    } else if (markedForExclusion) {\n      return \"markedForExclusion\"\n    } else {\n      return \"markedForInclusion\"\n    }\n  }\n\n  const iconClass = () => {\n    switch(itemState()) {\n    case \"submitted\":\n      return \"fas fa-compact-disc fa-spin\"\n    case \"reviewed\":\n      return \"fas fa-check-circle\"\n    default:\n      return \"far fa-check-circle\"\n    }\n  }\n\n  const spanClass = () => {\n    switch(itemState()) {\n    case \"reviewed\":\n      return \"created\"\n    case \"markedForExclusion\":\n      return \"\"\n    default:\n      return \"active\"\n    }\n  }\n\n\n  return (\n    <div className=\"accrual-item\">\n      <div className=\"label\">{name}</div>\n      <div className=\"input\">\n        <input\n          type=\"text\"\n          value={amount}\n          onChange={handleUpdate}\n        />\n      </div>\n      <div className=\"buttons\">\n        <div className=\"check\">\n          <Button\n            handleClick={include}\n            iconClass={iconClass()}\n            spanClass={spanClass()}\n          />\n        </div>\n        <div className=\"ex\">\n          <Button\n            handleClick={exclude}\n            iconClass=\"far fa-times-circle\"\n            spanClass={markedForExclusion ? \"active\" : \"\"}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Button = ({ handleClick, iconClass, spanClass }) => (\n  <span className={spanClass}>\n    <Link\n      to=\"#\"\n      onClick={handleClick}\n    >\n      <Icon className={iconClass} />\n    </Link>\n  </span>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const paramMonth = parseInt(ownProps.match.params.month)\n  const paramYear = parseInt(ownProps.match.params.year)\n  const { month, year } = state.budget.setup.newMonth\n  const { isFetched } = state.budget.setup.baseMonth\n  const categories = state.budget.categories.collection\n  const findCategory = (item) => categories.find(c => c.id === item.budget_category_id)\n  const mergeDefaultAmount = (item) => (\n    { ...item, defaultAmount: findCategory(item).default_amount }\n  )\n\n  const collection = state.budget.setup.baseMonth.collection\n    .filter(item => item.accrual)\n    .map(mergeDefaultAmount)\n    .sort((a, b) => a.name < b.name ? -1 : 1)\n\n  return {\n    baseMonth: state.budget.setup.baseMonth,\n    collection: collection,\n    isFetched: isFetched,\n    paramMonth: paramMonth,\n    paramYear: paramYear,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Accruals)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { addItem, editNew, markReviewed, requeue, updateExisting } from \"../../../actions/budget/setup\"\n\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\n\nconst ReviewItem = (props) => {\n  const {\n    additional,\n    amountToInclude,\n    nOfTotal,\n  } = copy.setup\n\n  const {\n    category,\n    count,\n    dayToDayItem,\n    dispatch,\n    item,\n    month,\n    newItem,\n    number,\n    prevMonthString,\n    year,\n  } = props\n\n  const newMonthString = dateFormatter.formatted({ month: month, year: year, format: \"monthYear\" })\n  const { amount, selectedOption } = newItem\n\n  const description = (item) => {\n    if (item === undefined) {\n      return \"\"\n    }\n    const adverb = item.monthly ? copy.category.monthly : copy.category.weekly\n    const adjective = item.expense ? copy.category.expense : copy.category.revenue\n    return `${adverb} ${adjective}`\n  }\n\n  const ignore = () => {\n    const action = markReviewed({ id: item.id })\n    dispatch(action)\n  }\n\n  const requeueItem = () => {\n    const requeuedAt = Date.now()\n    const action = requeue({ id: item.id, requeuedAt: requeuedAt })\n    dispatch(action)\n  }\n\n  const setDefaultAmount = () => {\n    const action = editNew({\n      amount: MoneyFormatter(category.default_amount, { toFloat: true }),\n      selectedOption: \"defaultAmount\",\n    })\n    dispatch(action)\n  }\n\n  const setPreviousAmount = () => {\n    const action = editNew({\n      amount: MoneyFormatter(item.amount, { toFloat: true }),\n      selectedOption: \"previousAmount\",\n    })\n    dispatch(action)\n  }\n\n  const setPreviousSpent =() => {\n    const action = editNew({\n      amount: MoneyFormatter(item.spent, { toFloat: true }),\n      selectedOption: \"previousSpent\",\n    })\n    dispatch(action)\n  }\n\n  const updateAmount = (e) => {\n    const amount = EvaluateInput(e.target.value)\n    const action = editNew({\n      amount: amount,\n      selectedOption: \"\",\n    })\n    dispatch(action)\n  }\n\n  const createItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          amount: decimalToInt(amount),\n          budget_category_id: category.id,\n          event_type: \"setup_item_create\",\n          month: month,\n          year: year,\n        },\n      ],\n    })\n    const onSuccess = data => {\n      dispatch(addItem(data[0].item))\n      dispatch(markReviewed({ id: item.id }))\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  const updateItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const updatedAmount = decimalToInt(amount) + dayToDayItem.amount\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: dayToDayItem.id,\n      category: dayToDayItem.name,\n      month: month,\n      year: year,\n      originalAmount: (dayToDayItem.amount / 100.0),\n      newAmount: (updatedAmount / 100.0),\n    })\n    const body = JSON.stringify({\n      events: [\n        {\n          event_type: \"setup_item_adjust\",\n          amount: updatedAmount,\n          budget_item_id: dayToDayItem.id\n        },\n      ]\n    })\n    const onSuccess = data => {\n      dispatch(updateExisting(data))\n      dispatch(markReviewed({ id: item.id }))\n    }\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <div className=\"review-item-current\">\n      <div className=\"header\">\n        <div className=\"top-line\"><strong>{item.name}</strong></div>\n        <div className=\"top-line\">\n          {nOfTotal(number, count)}\n          {\" \"}\n          <em>\n            {description(item)}\n          </em>\n        </div>\n      </div>\n      <div className=\"review-item-form\">\n        <Header\n          dayToDayItem={dayToDayItem}\n          newMonthString={newMonthString}\n        />\n        <Option\n          amount={category.default_amount}\n          label={titleize(copy.category.defaultAmount)}\n          onClick={setDefaultAmount}\n          checked={selectedOption === \"defaultAmount\" ? \"checked\" : \"\"}\n        />\n        <Option\n          amount={item.amount}\n          label={`${titleize(copy.item.budgeted)} ${copy.shared.in} ${prevMonthString}`}\n          onClick={setPreviousAmount}\n          checked={selectedOption === \"previousAmount\" ? \"checked\" : \"\"}\n        />\n        <Option\n          amount={item.spent}\n          hidden={item.spent === 0}\n          label={`${titleize(item.expense ? copy.shared.spent : copy.shared.deposited)} ${copy.shared.in} ${prevMonthString}`}\n          onClick={setPreviousSpent}\n          checked={selectedOption === \"previousSpent\" ? \"checked\" : \"\"}\n        />\n        <div className=\"input\">\n          <div className=\"label\">\n            <em>{dayToDayItem ? titleize(additional) : amountToInclude}: </em>\n          </div>\n          <input\n            onChange={updateAmount}\n            value={amount}\n          />\n          <ConfirmationButton\n            amount={amount}\n            createItem={createItem}\n            dayToDayItem={dayToDayItem}\n            updateItem={updateItem}\n          />\n        </div>\n        <Total\n          amount={amount}\n          dayToDayItem={dayToDayItem}\n        />\n        <hr />\n        <div className=\"extra-options\">\n          <button\n            className=\"requeue\"\n            onClick={requeueItem}\n          >\n            {titleize(copy.setup.requeue)}\n            {\" \"}\n            <Icon className=\"fas fa-retweet\" />\n          </button>\n          <button\n            className=\"ignore\"\n            onClick={ignore}\n          >\n            {titleize(copy.setup.ignore)}\n            {\" \"}\n            <Icon className=\"far fa-times-circle\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Header = ({ dayToDayItem, newMonthString }) => {\n  const {\n    alreadyIncluded,\n    howMuchAdditional,\n    howMuchToInclude,\n  } = copy.setup\n\n  if (dayToDayItem) {\n    return (\n      <div>\n        <p>\n          {alreadyIncluded(MoneyFormatter(dayToDayItem.amount, { absolute: false }), dayToDayItem.name, newMonthString)}\n        </p>\n        <p>\n          {howMuchAdditional}\n        </p>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <p>{howMuchToInclude(newMonthString)}</p>\n      </div>\n    )\n  }\n}\n\nconst Option = ({ amount, checked, hidden, label, onClick }) => {\n  if (hidden) {\n    return null\n  } else {\n    return (\n      <div className=\"option\">\n        <div className=\"label\">\n          <input\n            type=\"radio\"\n            name=\"review-option\"\n            onChange={onClick}\n            checked={checked}\n          />\n          {label}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(amount, { absolute: false })}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ConfirmationButton = ({ amount, createItem, dayToDayItem, updateItem }) => {\n  const { include } = copy.setup\n  const onClick = dayToDayItem ? updateItem : createItem\n  if (amount === \"\") {\n    return null\n  } else {\n    return (\n      <div className=\"confirm-button\">\n        <button onClick={onClick}>\n          <Icon className=\"far fa-check-circle\" />\n          {\" \"}\n          {titleize(include)}\n        </button>\n      </div>\n    )\n  }\n}\n\nconst Total = ({ amount, dayToDayItem }) => {\n  const { total } = copy.shared\n  if (dayToDayItem) {\n    return (\n      <div className=\"option\">\n        <div className=\"label\">\n          <em>{titleize(total)}: </em>\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter((((parseFloat(amount) || 0) * 100) + dayToDayItem.amount), { absolute: false })}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\nconst mapStateToProps = (state, ownProps) => {\n  const { item } = ownProps\n  const { baseMonth, newMonth } = state.budget.setup\n  const prevMonthString = dateFormatter.formatted({ month: baseMonth.month, year: baseMonth.year, format: \"monthYear\" })\n  const { newItem } = state.budget.setup.newMonth\n  const category = state.budget.categories.collection.find(category => category.id === item.budget_category_id)\n  const dayToDayItem = item.monthly ? null : newMonth.collection.find(i => i.budget_category_id === item.budget_category_id)\n\n  return {\n    category: category,\n    dayToDayItem: dayToDayItem,\n    item: item,\n    month: newMonth.month,\n    newItem: newItem,\n    prevMonthString: prevMonthString,\n    year: newMonth.year,\n  }\n}\n\nexport default connect(mapStateToProps)(ReviewItem)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { Redirect } from \"react-router\"\nimport ReviewItem from \"./ReviewItem\"\n\nconst PreviousMonth = (props) => {\n  const {\n    collection,\n    count,\n    dispatch,\n    filter,\n    newMonth,\n    number,\n    prevMonthString,\n    redirect,\n    reviewItem,\n    title,\n  } = props\n\n  return (\n    <div className=\"previous-month-items\">\n      <h4>{prevMonthString}</h4>\n      <h5>{title}</h5>\n      <Review\n        count={count}\n        dispatch={dispatch}\n        item={reviewItem}\n        filter={filter}\n        newMonth={newMonth}\n        number={number}\n        redirect={redirect}\n      />\n      {collection.map(item =>\n        <Item key={item.id} item={item} />\n      )}\n    </div>\n  )\n}\n\nconst Review = ({ count, item, newMonth, number, redirect }) => {\n  if (item && !newMonth.set_up_completed_at) {\n    return (\n      <ReviewItem\n        count={count}\n        item={item}\n        number={number}\n      />\n    )\n  } else {\n    return (\n      <Redirect to={redirect} />\n    )\n  }\n}\n\n\nconst Item = ({ item }) => (\n  <div className=\"review-item-queued\">\n    <div className=\"label\">\n      {item.name}\n    </div>\n    <div className=\"amount\">\n      {MoneyFormatter(item.amount, { absolute: false })}\n    </div>\n  </div>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const {\n    filter,\n    redirect,\n    title,\n  } = ownProps\n\n  const filterFn = (item) => {\n    if (item.reviewed) {\n      return false\n    }\n    if (filter === \"revenue\") {\n      return !item.expense\n    }\n    return item.expense\n  }\n\n  const fullCollection = state.budget.setup.baseMonth.collection\n  const sortFn = (a, b) => {\n    if (a.requeuedAt && b.requeuedAt) {\n      return a.requeuedAt > b.requeuedAt ? 1 : -1\n    } else if (a.requeuedAt && !b.requeuedAt) {\n      return 1\n    } else if (!a.requeuedAt && b.requeuedAt) {\n      return -1\n    } else if (a.expense === b.expense) {\n      return Math.abs(a.amount) >= Math.abs(b.amount) ? -1 : 1\n    } else {\n      return a.expense ? 1 : -1\n    }\n  }\n  let collection = fullCollection\n    .filter(filterFn)\n    .sort(sortFn)\n  const reviewItem = collection.shift()\n  const { baseMonth } = state.budget.setup\n  const prevMonthString = dateFormatter.formatted({ month: baseMonth.month, year: baseMonth.year, format: \"monthYear\" })\n  const id = reviewItem ? reviewItem.id : 0\n  const name = reviewItem ? reviewItem.name : \"\"\n  const count = fullCollection.filter(item => item.name === name).length\n  const number = fullCollection\n    .filter(item => item.name === name)\n    .sort(sortFn)\n    .map(item => item.id)\n    .indexOf(id)\n\n  return {\n    collection: collection,\n    count: count,\n    filter: filter,\n    newMonth: state.budget.setup.newMonth,\n    number: (number + 1),\n    prevMonthString: prevMonthString,\n    redirect: redirect,\n    reviewItem: reviewItem,\n    title: title,\n  }\n}\n\nexport default connect(mapStateToProps)(PreviousMonth)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Items from \"./Items\"\nimport PreviousMonth from \"./PreviousMonth\"\n\nimport { Redirect } from \"react-router\"\n\nconst Expenses = ({ paramMonth, paramYear, isFetched, month, year }) => {\n  if (isFetched) {\n    return (\n      <div className=\"set-up-workspace\">\n        <PreviousMonth\n          filter=\"expenses\"\n          redirect={`/budget/set-up/${month}/${year}/finalize`}\n          title={titleize(`${copy.category.expense} ${copy.item.items}`)}\n        />\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/set-up/${paramMonth}/${paramYear}/intro`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const paramMonth = parseInt(ownProps.match.params.month)\n  const paramYear = parseInt(ownProps.match.params.year)\n  const { isFetched } = state.budget.setup.baseMonth\n\n  return {\n    paramMonth: paramMonth,\n    paramYear: paramYear,\n    isFetched: isFetched,\n    ...state.budget.setup.newMonth\n  }\n}\n\nexport default connect(mapStateToProps)(Expenses)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { updateMetadata } from \"../../../actions/budget/setup\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { put } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\nimport Items from \"./Items\"\nimport { Redirect } from \"react-router-dom\"\n\nconst Finalize = ({ dispatch, month, setUpCompletedAt, year }) => {\n  const { markCompleteText } = copy.setup\n\n  const markComplete = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"interval-show\", month: month, year: year })\n    const body = { set_up_completed_at: new Date() }\n    const onSuccess = data => dispatch(updateMetadata(data))\n    const event = EventMessageBuilder({\n      eventType: \"interval-mark-complete\",\n      month: month,\n      year: year,\n      ...body\n    })\n    put(url, JSON.stringify(body), { onSuccess: onSuccess, event: event })\n  }\n\n  if (!setUpCompletedAt) {\n    return (\n      <div className=\"set-up-workspace\">\n        <div className=\"previous-month-items\">\n          <div className=\"review-item-current\">\n            <div className=\"review-item-form\">\n              <div className=\"confirm-button\">\n                <button\n                  onClick={markComplete}\n                >\n                  <strong>{titleize(markCompleteText)}</strong>\n                  {\" \"}\n                  <Icon className=\"far fa-check-square\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/${month}/${year}`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { newMonth } = state.budget.setup\n  const { month, set_up_completed_at, year } = newMonth\n\n  return {\n    month: month,\n    setUpCompletedAt: set_up_completed_at,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Finalize)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { baseMonthFetched, newMonthFetched } from \"../../../actions/budget\"\nimport { categoriesFetched as fetched } from \"../../../actions/budget/categories\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport { Redirect } from \"react-router\"\n\nconst Intro = (props) => {\n  const {\n    isApiUnauthorized,\n    baseMonth,\n    categoriesFetched,\n    dispatch,\n    newMonth,\n    targetMonth,\n    targetYear\n  } = props\n\n  const { month, year } = newMonth\n\n  if (isApiUnauthorized) {\n    return null\n  }\n\n  if (!categoriesFetched) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n  if (categoriesFetched && !newMonth.isFetched) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: targetMonth, year: targetYear },\n    })\n    const onSuccess = data => dispatch(newMonthFetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n  if (categoriesFetched && newMonth.isFetched && !baseMonth.isFetched) {\n    const month = targetMonth === 1 ? 12 : (targetMonth - 1)\n    const year = targetMonth === 1 ? (targetYear - 1) : targetYear\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: month, year: year  },\n    })\n    const onSuccess = data => dispatch(baseMonthFetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n  return (\n    <Redirect to={`/budget/set-up/${month}/${year}/revenues`} />\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const targetMonth = parseInt(ownProps.match.params.month)\n  const targetYear = parseInt(ownProps.match.params.year)\n  const newMonth = state.budget.setup.newMonth\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    baseMonth: state.budget.setup.baseMonth,\n    categoriesFetched: state.budget.categories.fetched,\n    newMonth: newMonth,\n    targetMonth: targetMonth,\n    targetYear: targetYear,\n    ...ownProps\n  }\n}\n\nexport default connect(mapStateToProps)(Intro)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Items from \"./Items\"\nimport PreviousMonth from \"./PreviousMonth\"\n\nimport { Redirect } from \"react-router\"\n\nconst Revenues = ({ paramMonth, paramYear, isFetched, month, year }) => {\n  if (isFetched) {\n    return (\n      <div className=\"set-up-workspace\">\n        <PreviousMonth\n          filter=\"revenue\"\n          redirect={`/budget/set-up/${month}/${year}/accruals`}\n          title={titleize(`${copy.category.revenue} ${copy.item.items}`)}\n        />\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/set-up/${paramMonth}/${paramYear}/intro`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const paramMonth = parseInt(ownProps.match.params.month)\n  const paramYear = parseInt(ownProps.match.params.year)\n  const { isFetched } = state.budget.setup.baseMonth\n  const { month, year } = state.budget.setup.newMonth\n\n  return {\n    paramMonth: paramMonth,\n    paramYear: paramYear,\n    isFetched: isFetched,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Revenues)\n","export const created = (payload) => {\n  return { type: \"icons/CREATED\", payload: payload }\n}\n\nexport const deleted = (id) => {\n  return { type: \"icons/DELETED\", payload: id }\n}\n\nexport const fetched = (response) => {\n  return { type: \"icons/FETCHED\", payload: response }\n}\n\nexport const resetIcon = ({ id }) => {\n  return { type: \"icons/RESET\", payload: { id: id } }\n}\n\nexport const resetNew = () => {\n  return { type: \"icons/RESET_NEW\", payload: null }\n}\n\nexport const update = (payload) => {\n  return { type: \"icons/UPDATE\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"icons/UPDATE_NEW\", payload: payload }\n}\n\nexport const updateProps = (payload) => {\n  return { type: \"icons/UPDATE_PROPS\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"icons/UPDATED\", payload: payload }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { applyFilter } from \"../../../actions/budget/categories\"\n\nimport Icon from \"../../Icons/Icon\"\n\nconst Filters = (props) => {\n  const {\n    all,\n    expenses,\n    filters,\n    frequency,\n    monthly,\n    revenues,\n    searchLabelText,\n    searchPlaceholder,\n    type,\n    weekly,\n  } = copy.category\n\n  const {\n    adjectiveFilter,\n    adverbFilter,\n    appliedFilters,\n    dispatch,\n    searchFilter,\n  } = props\n\n  const funnelClass = appliedFilters.length === 0 ? \"\" : \"active\"\n\n  const setFilter = (name, value) => dispatch(\n    applyFilter({ name: name, value: value })\n  )\n\n  const setSearchTerm = (e) => {\n    setFilter(\"search\", e.target.value)\n  }\n\n  const setAdjectiveFilter = (e) => {\n    setFilter(\"adjective\", e.target.value)\n  }\n\n  const setAdverbFilter = (e) => {\n    setFilter(\"adverb\", e.target.value)\n  }\n\n  return (\n    <div className=\"budget-category-filters\">\n      <span className={funnelClass}>\n        <Icon className=\"fas fa-filter\" />\n      </span>\n      {\" \"}\n      <div className=\"title\">\n        <strong>{titleize(filters)}</strong>\n      </div>\n\n      <div className=\"search\">\n        <div className=\"label\">\n          {titleize(searchLabelText)}\n        </div>\n        <div className=\"search-bar\">\n          <input\n            type=\"text\"\n            onChange={setSearchTerm}\n            placeholder={searchPlaceholder}\n            value={searchFilter.value}\n          />\n        </div>\n      </div>\n\n      <div className=\"adverb\">\n        <div className=\"options\">\n          <div className=\"title\">\n            <strong>{titleize(frequency)}</strong>\n          </div>\n          <hr/>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(all)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdverbFilter}\n                value=\"\"\n                checked={adverbFilter.value === \"\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(weekly)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdverbFilter}\n                value=\"day-to-day\"\n                checked={adverbFilter.value === \"day-to-day\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(monthly)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdverbFilter}\n                value=\"monthly\"\n                checked={adverbFilter.value === \"monthly\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <div className=\"adjective\">\n        <div className=\"options\">\n          <div className=\"title\">\n            <strong>{titleize(type)}</strong>\n          </div>\n          <hr/>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(all)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdjectiveFilter}\n                value=\"\"\n                checked={adjectiveFilter.value === \"\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(revenues)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdjectiveFilter}\n                value=\"revenue\"\n                checked={adjectiveFilter.value === \"revenue\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(expenses)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdjectiveFilter}\n                value=\"expense\"\n                checked={adjectiveFilter.value === \"expense\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    filters,\n    showFilters,\n  } = state.budget.categories\n  const appliedFilters = filters.filter(filter => filter.value !== \"\")\n  const adjectiveFilter = filters.find(filter => filter.name === \"adjective\")\n  const adverbFilter = filters.find(filter => filter.name === \"adverb\")\n  const searchFilter = filters.find(filter => filter.name === \"search\")\n\n  return {\n    adjectiveFilter: adjectiveFilter,\n    adverbFilter: adverbFilter,\n    appliedFilters: appliedFilters,\n    searchFilter: searchFilter,\n    showFilters: showFilters\n  }\n}\n\nexport default connect(mapStateToProps)(Filters)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default () => (\n  <div className=\"budget-category\" id=\"budget-category-header\">\n    <div className=\"category-name\"><h3>{titleize(copy.category.name)}</h3></div>\n    <div className=\"category-slug italic\"><h3>Slug</h3></div>\n    <div className=\"category-default-amount\"><h3>{titleize(copy.category.defaultAmount)}</h3></div>\n    <div className=\"category-detail\"><h3>{titleize(copy.category.details)}</h3></div>\n    <div className=\"category-icon\"><h3>{titleize(copy.category.icon)}</h3></div>\n    <div className=\"category-accrual\"><h3>{titleize(copy.category.accrual)}</h3></div>\n    <div className=\"category-option-buttons\"><h3>{titleize(copy.category.editSlashDelete)}</h3></div>\n    <div className=\"category-maturity-intervals\"><h3>{titleize(copy.maturityInterval.title)}</h3></div>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { reset, toggleNewForm } from \"../../../../actions/budget/categories\"\n\nconst CancelButton = (props) => {\n  const {\n    id,\n    dispatch,\n    cancelLabel,\n  } = props\n\n  const cancel = (e) => {\n    e.preventDefault()\n    const action = reset({ id: id })\n    dispatch(action)\n  }\n\n  const toggleForm = (e) => {\n    e.preventDefault()\n    const action = toggleNewForm({ showForm: false })\n    dispatch(action)\n  }\n\n  if (id) {\n    return (\n      <div className=\"category-button\">\n        <button type=\"cancel\" className=\"cancel\" onClick={cancel}>\n          {cancelLabel}\n        </button>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"category-button\">\n        <button type=\"cancel\" className=\"cancel\" onClick={toggleForm}>\n          {cancelLabel}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(CancelButton)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Select from \"react-select\"\n\nconst IconSelect = ({ options, onChange, value }) => (\n  <div className=\"budget-icon-select\">\n    <Select\n      options={options}\n      isSearchable={true}\n      onChange={onChange}\n      value={value}\n    />\n  </div>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const { collection } = state.icons\n  const iconOptions = collection\n    .sort((a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1)\n    .map(icon => ({ value: icon.id, label: icon.name }))\n  const options = [{ value: null, label: \"\" }, ...iconOptions]\n  const value = options.find(option => option.value === ownProps.iconId)\n\n  return {\n    options: options,\n    onChange: ownProps.onChange,\n    value: value,\n  }\n}\n\nexport default connect(mapStateToProps)(IconSelect)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\n\nimport CancelButton from \"./CancelButton\"\nimport Errors from \"../../../Errors/Errors\"\nimport IconSelect from \"./IconSelect\"\n\nexport default (props) => (\n  <div className=\"budget-category\">\n    <CategoryInput\n      className=\"category-name\"\n      errors={props.errors.name || []}\n      name=\"name\"\n      onChange={props.onChange}\n      placeholder={copy.category.name}\n      value={props.name}\n    />\n    <CategoryInput\n      className=\"category-slug\"\n      errors={props.errors.slug || []}\n      name=\"slug\"\n      onChange={props.onChange}\n      placeholder={copy.category.slug}\n      value={props.slug || \"\"}\n    />\n    <CategoryInput\n      className=\"category-default-amount\"\n      errors={props.errors.default_amount || []}\n      name=\"default_amount\"\n      onChange={props.onChange}\n      placeholder={copy.category.defaultAmount}\n      value={props.default_amount}\n    />\n    <div className=\"category-options\">\n      <Option\n        checked={props.monthly === \"true\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.monthlyName}\n        onChange={props.onChange}\n        title={copy.category.monthly}\n        value={true}\n      />\n      <Option\n        checked={props.monthly === \"false\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.monthlyName}\n        onChange={props.onChange}\n        title={titleize(copy.category.weekly)}\n        value={false}\n      />\n    </div>\n    <div className=\"category-options\">\n      <Option\n        checked={props.expense === \"true\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.expenseName}\n        onChange={props.onChange}\n        title={copy.category.expense}\n        value={true}\n      />\n      <Option\n        checked={props.expense === \"false\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.expenseName}\n        onChange={props.onChange}\n        title={copy.category.revenue}\n        value={false}\n      />\n    </div>\n    <div className=\"category-options\">\n      <div className=\"option\">\n        <div className=\"label\">{titleize(copy.category.accrual)}</div>\n        <input type=\"checkbox\"\n          name=\"accrual\"\n          value={props.accrual === \"true\" ? \"false\" : \"true\"}\n          onChange={props.onChange}\n          checked={props.accrual === \"true\" ? \"checked\" : \"\"}\n        />\n        <Errors errors={props.errors.accrual || []} />\n      </div>\n    </div>\n    <IconSelect\n      onChange={props.onSelectChange}\n      iconId={props.icon_id}\n    />\n    <div className=\"category-button\">\n      <button type=\"submit\" className=\"submit\" onClick={props.onSubmit}>\n        {props.label}\n      </button>\n    </div>\n    <CancelButton\n      {...props}\n    />\n  </div>\n)\n\nconst CategoryInput = ({ className, errors, name, onChange, placeholder, value }) => {\n  return (\n    <div className={className}>\n      <input\n        className={errors.length > 0 ? \"errors\" : \"\"}\n        name={name}\n        onChange={onChange}\n        placeholder={placeholder}\n        type=\"text\"\n        value={value}\n      />\n      <Errors errors={errors} />\n    </div>\n  )\n}\n\nconst Option = ({ checked, disabled, name, onChange, title, value }) => (\n  <div className=\"option\">\n    <div className=\"label\">{titleize(title)}</div>\n    <input type=\"radio\"\n      checked={checked}\n      disabled={disabled}\n      name={name}\n      onChange={onChange}\n      value={value}\n    />\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  created,\n  errorsOnNew,\n  resetNewForm,\n  toggleNewForm,\n  updateNew,\n} from \"../../../actions/budget/categories\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport Form from \"./Form/Form\"\nimport Icon from \"../../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst NewBudgetCategory = (props) => {\n  const {\n    addNew,\n    cancelButtonText,\n    createButtonText,\n  } = copy.category\n\n  const {\n    dispatch,\n    newCategory,\n    showForm,\n  } = props\n\n  const onChange = (e) => {\n    const action = updateNew({ [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const onSelectChange = (e) => {\n    const action = updateNew({ icon_id: e.value })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const body = JSON.stringify({\n      ...newCategory,\n      default_amount: decimalToInt(newCategory.default_amount),\n    })\n    const onSuccess = data => {\n      const createdAction = created(data)\n      dispatch(createdAction)\n      dispatch(resetNewForm())\n    }\n    const errorHandler = (response) => {\n      dispatch(errorsOnNew(response))\n    }\n    const event = EventMessageBuilder({ eventType: \"budget-category-create\" })\n    post(url, body, { onSuccess: onSuccess, onFailure: errorHandler, event: event })\n  }\n\n  const toggleForm = (e) => {\n    e.preventDefault()\n    const action = toggleNewForm({ showForm: !showForm })\n    dispatch(action)\n    dispatch(resetNewForm())\n  }\n\n  if (showForm) {\n    return (\n      <Form\n        {...newCategory}\n        expenseName=\"expense\"\n        cancelLabel={titleize(cancelButtonText)}\n        label={titleize(createButtonText)}\n        monthlyName=\"monthly\"\n        onChange={onChange}\n        onSelectChange={onSelectChange}\n        onSubmit={onSubmit}\n        optionsDisabled={false}\n      />\n    )\n  } else {\n    return (\n      <div className=\"budget-category-form\">\n        <Link\n          to=\"#\"\n          onClick={toggleForm}\n        >\n          <div className=\"add-new-category-button\">\n            <Icon className=\"fas fa-plus\" />\n            {\" \"}\n            {titleize(addNew)}\n          </div>\n        </Link>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { newCategory } = state.budget\n  const errors = newCategory.errors.reduce((acc, error) => {\n    Object.entries(error).map(arr => {\n      const key = arr[0]\n      const messages = arr[1]\n      const existingMessages = acc[key] || []\n      acc[key] = [...existingMessages, ...messages]\n\n      return acc\n    })\n\n    return acc\n  }, {})\n\n  return {\n    newCategory: { ...newCategory, errors: errors },\n    showForm: state.budget.categories.showForm,\n  }\n}\n\nexport default connect(mapStateToProps)(NewBudgetCategory)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  applyErrorsOnEdit,\n  reset,\n  updated,\n  updateProps,\n} from \"../../../actions/budget/categories\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EventMessageBuilder, { changedProps } from \"../../../functions/EventMessageBuilder\"\nimport { put } from \"../../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = (props) => {\n  const {\n    cancelLabel,\n    category,\n    dispatch,\n  } = props\n\n  const {\n    id,\n    accrual,\n    default_amount,\n    expense,\n    monthly,\n    updatedProps,\n  } = category\n\n  const onChange = (e) => {\n    const action = updateProps({ id: id, [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const onSelectChange = (e) => {\n    const action = updateProps({ id: id, icon_id: e.value })\n    dispatch(action)\n  }\n\n  const putBody = () => {\n    if (!updatedProps) {\n      return { id: id }\n    } else if (updatedProps.default_amount) {\n      return {\n        ...updatedProps,\n        default_amount: decimalToInt(updatedProps.default_amount)\n      }\n    } else {\n      return updatedProps\n    }\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"budget-category-show\", id: id })\n    const body = JSON.stringify(putBody())\n    const onSuccess = (data) => dispatch(updated({ ...data, showForm: false }))\n    const onFailure = (data) => dispatch(applyErrorsOnEdit({ id: id, ...data }))\n    const event = EventMessageBuilder({\n      eventType: \"budget-category-update\",\n      id: id,\n      changedProps: changedProps(category, updatedProps),\n    })\n    put(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n  }\n\n  const formProps = {\n    ...category,\n    accrual: accrual.toString(),\n    default_amount: (default_amount / 100.0).toFixed(2),\n    expense: expense.toString(),\n    monthly: monthly.toString(),\n    ...updatedProps\n  }\n\n  const resetForm = (e) => {\n    e.preventDefault()\n    const action = reset({ id: id })\n    dispatch(action)\n  }\n\n  return (\n    <Form\n      key={id}\n      {...formProps}\n      cancelLabel={cancelLabel}\n      expenseName={`expense[${id}]`}\n      label={titleize(copy.category.updateButtonText)}\n      monthlyName={`monthly[${id}]`}\n      onChange={onChange}\n      onSelectChange={onSelectChange}\n      onSubmit={onSubmit}\n      optionsDisabled={true}\n      resetForm={resetForm}\n    />\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => {\n  const { category } = ownProps\n\n  const errors = category.errors.reduce((acc, error) => {\n    Object.entries(error).map(arr => {\n      const key = arr[0]\n      const messages = arr[1]\n      const existingMessages = acc[key] || []\n      acc[key] = [...existingMessages, ...messages]\n\n      return acc\n    })\n\n    return acc\n  }, {})\n\n  return {\n    ...ownProps,\n    category: { ...category, errors: errors }\n  }\n}\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\nimport Select from \"react-select\"\n\nexport default (props) => {\n  const {\n    cancel,\n    maturityInterval,\n    options,\n    onChange,\n    onSubmit,\n    value,\n  } = props\n\n  const handleSelect = (e) => {\n    onChange({ month: e.value })\n  }\n\n  const handleYear = (e) => {\n    onChange({ year: e.target.value })\n  }\n\n  return (\n    <div className=\"new-maturity-interval\">\n      <div className=\"month-select\">\n        <Select\n          options={options}\n          onChange={handleSelect}\n          value={value}\n        />\n      </div>\n      <div className=\"year-input\">\n        <input\n          type=\"number\"\n          value={maturityInterval.year}\n          onChange={handleYear}\n          placeholder=\"year\"\n        />\n      </div>\n      <div className=\"maturity-interval-submit\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-check\"\n          onClick={onSubmit}\n        />\n      </div>\n      <div className=\"maturity-interval-submit\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-times\"\n          onClick={cancel}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport {\n  maturityIntervalCreated,\n  updated\n} from \"../../../../actions/budget/categories\"\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../../functions/ApiClient\"\n\nimport Form from \"./Form\"\n\nexport default (props) => {\n  const {\n    id,\n    dispatch,\n    newMaturityIntervalAttributes,\n    showMaturityIntervalForm,\n  } = props\n\n  const { options } = copy.maturityInterval\n  const maturityInterval = newMaturityIntervalAttributes || {}\n\n  const updateNewMaturityInterval = (payload) => {\n    const action = updated({\n      id: id,\n      newMaturityIntervalAttributes: { ...newMaturityIntervalAttributes, ...payload }\n    })\n    dispatch(action)\n  }\n\n  const hideForm = () => {\n    const action = updated({ id: id, showMaturityIntervalForm: false })\n    dispatch(action)\n  }\n\n  const addMaturityInterval = () => {\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-intervals-index\",\n      budgetCategoryId: id,\n    })\n    const body = JSON.stringify(newMaturityIntervalAttributes)\n    const onSuccess = data => dispatch(maturityIntervalCreated({\n      id: id,\n      maturityInterval: data\n    }))\n    const event = EventMessageBuilder({ eventType: \"budget-category-maturity-interval-create\" })\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const onChange = (payload) => {\n    updateNewMaturityInterval(payload)\n  }\n\n  if (showMaturityIntervalForm) {\n    return (\n      <Form\n        cancel={hideForm}\n        maturityInterval={maturityInterval}\n        onChange={onChange}\n        onSubmit={addMaturityInterval}\n        options={options}\n      />\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport {\n  editMaturityInterval,\n  toggleMaturityIntervalEditForm,\n  updateMaturityInterval,\n} from \"../../../../actions/budget/categories\"\n\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../../../functions/EventMessageBuilder\"\nimport { put } from \"../../../../functions/ApiClient\"\n\nimport Form from \"./Form\"\n\nexport default (props) => {\n  const {\n    id,\n    category_id,\n    dispatch,\n    month,\n    name,\n    updatedProps,\n    year,\n  } = props\n\n  const maturityInterval = {\n    id: id,\n    month: month,\n    year: year,\n    ...updatedProps,\n  }\n\n  const { options } = copy.maturityInterval\n  const value = options.find(option => option.value === maturityInterval.month)\n\n  const onChange = (payload) => {\n    const action = editMaturityInterval({ id: id, ...payload })\n    dispatch(action)\n  }\n\n  const closeForm = () => {\n    const action = toggleMaturityIntervalEditForm({\n      id: id,\n      showForm: false,\n    })\n    dispatch(action)\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n    const event = EventMessageBuilder({\n      eventType: \"maturity-interval-update\",\n      id: id,\n      name: name,\n      changedProps: changedProps(props, updatedProps),\n    })\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-interval-show\",\n      id: id,\n      budgetCategoryId: category_id,\n    })\n    const body = JSON.stringify(maturityInterval)\n    const onSuccess = data => {\n      dispatch(updateMaturityInterval(data))\n      closeForm()\n    }\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <Form\n      cancel={closeForm}\n      maturityInterval={maturityInterval}\n      onChange={onChange}\n      onSubmit={onSubmit}\n      options={options}\n      value={value}\n    />\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport {\n  removeMaturityInterval,\n  toggleMaturityIntervalEditForm,\n} from \"../../../../actions/budget/categories\"\nimport * as DateFunctions from \"../../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../../functions/EventMessageBuilder\"\nimport { deleteRequest } from \"../../../../functions/ApiClient\"\n\nimport Edit from \"./Edit\"\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => {\n  const {\n    id,\n    category_id,\n    dispatch,\n    month,\n    showForm,\n    year,\n  } = props\n\n  const revealForm = () => {\n    const action = toggleMaturityIntervalEditForm({\n      id: id,\n      showForm: true,\n    })\n    dispatch(action)\n  }\n\n  const deleteMaturityInterval = () => {\n    const { deleteConfirmMessage } = copy.maturityInterval\n    const confirmation = window.confirm(deleteConfirmMessage)\n    if (!confirmation) { return }\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-interval-show\",\n      id: id,\n      budgetCategoryId: category_id,\n    })\n    const action = removeMaturityInterval({ id: id })\n    const event = EventMessageBuilder({\n      eventType: \"budget-category-maturity-interval-delete\",\n      id: id,\n      categoryId: category_id,\n      month: month,\n      year: year\n    })\n    deleteRequest(url, event, () => dispatch(action))\n  }\n\n  if (!showForm) {\n    return (\n      <div className=\"maturity-interval\">\n        {DateFunctions.formatted({ month: month, year: year, day: 1, format: \"longMonth\" })}\n        <span className=\"icon-links\">\n          {\" \"}\n          <Link\n            to=\"#\"\n            className=\"far fa-edit\"\n            onClick={revealForm}\n          />\n          {\" \"}\n          <Link\n            to=\"#\"\n            className=\"far fa-trash-alt\"\n            onClick={deleteMaturityInterval}\n          />\n        </span>\n      </div>\n    )\n  } else {\n    return (\n      <Edit\n        {...props}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\nimport {\n  accrualMaturityIntervalsFetched,\n  updated,\n} from \"../../../../actions/budget/categories\"\n\nimport * as DateFunctions from \"../../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../../functions/ApiClient\"\nimport GroupBy from \"../../../../functions/GroupBy\"\n\nimport Icon from \"../../../Icons/Icon\"\nimport NewMaturityInterval from \"./New\"\nimport { Link } from \"react-router-dom\"\nimport Show from \"./Show\"\n\nconst MaturityInfo = (props) => {\n  const {\n    id,\n    accrual,\n    isApiUnauthorized,\n    dispatch,\n    maturityIntervals,\n    maturityIntervalsFetched,\n    name,\n    newMaturityIntervalAttributes,\n    showMaturityIntervalForm,\n    showMaturityIntervals,\n  } = props\n\n  if (!isApiUnauthorized && !maturityIntervalsFetched && showMaturityIntervals) {\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-intervals-index\",\n      budgetCategoryId: id,\n    })\n    const onSuccess = data => dispatch(\n      accrualMaturityIntervalsFetched({\n        id: id,\n        collection: data,\n      })\n    )\n    get(url, onSuccess)\n  }\n\n  const fetchMaturityIntervals = () => {\n    const action = updated({ id: id, showMaturityIntervals: true })\n    dispatch(action)\n  }\n\n  const hideMaturityIntervals = () => {\n    const action = updated({ id: id, showMaturityIntervals: false })\n    dispatch(action)\n  }\n\n  const toggleForm = () => {\n    const year = DateFunctions.today(\"object\").year\n    const action = updated({\n      id: id,\n      newMaturityIntervalAttributes: {\n        month: \"\",\n        year: year,\n      },\n      showMaturityIntervalForm: !showMaturityIntervalForm\n    })\n    dispatch(action)\n  }\n\n  if (accrual && !showMaturityIntervals) {\n    return (\n      <div className=\"category-maturity-intervals\">\n        <Link\n          to=\"#\"\n          onClick={fetchMaturityIntervals}\n        >\n          <Icon className=\"fas fa-info-circle\" />\n        </Link>\n      </div>\n    )\n  } else if (accrual) {\n    const groupedIntervals = GroupBy(maturityIntervals, \"year\")\n\n    return (\n      <div className=\"category-maturity-intervals\">\n        <div className=\"maturity-interval-label\">\n          <Link\n            to=\"#\"\n            onClick={hideMaturityIntervals}\n          >\n            <Icon className=\"fas fa-info-circle\" />\n          </Link>\n          {\" \"}\n          {titleize(copy.maturityInterval.title)}\n          {\" \"}\n          <Link\n            to=\"#\"\n            className={showMaturityIntervalForm ? \"fas fa-minus\" : \"fas fa-plus\"}\n            onClick={toggleForm}\n          />\n          <NewMaturityInterval\n            id={id}\n            dispatch={dispatch}\n            name={name}\n            newMaturityIntervalAttributes={newMaturityIntervalAttributes}\n            showMaturityIntervalForm={showMaturityIntervalForm}\n          />\n        </div>\n        {groupedIntervals.map(intervalsByYear =>\n          <MaturityIntervalByYear\n            key={intervalsByYear.year}\n            dispatch={dispatch}\n            name={name}\n            {...intervalsByYear}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"category-maturity-intervals\">\n      </div>\n    )\n  }\n}\n\nconst MaturityIntervalByYear = ({ collection, dispatch, name, year }) => (\n  <div>\n    <strong>{year}</strong>\n    <div>\n      {collection.map(interval =>\n        <Show\n          key={interval.id}\n          dispatch={dispatch}\n          {...interval}\n          name={name}\n        />\n      )}\n    </div>\n  </div>\n)\n\nconst mapStateToProps = ((state, ownProps) => {\n  const filterFn = (interval) => interval.category_id === ownProps.id\n  const sortFn = (a, b) => {\n    if (a.year < b.year) {\n      return -1\n    } else if (a.year > b.year) {\n      return 1\n    } else if (a.month < b.month) {\n      return -1\n    } else if (a.month > b.month) {\n      return 1\n    } else {\n      return 0\n    }\n  }\n\n  const maturityIntervals = state.budget.maturityIntervals\n    .filter(filterFn)\n    .sort(sortFn)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    ...ownProps,\n    maturityIntervals: maturityIntervals,\n  }\n})\n\nexport default connect(mapStateToProps)(MaturityInfo)\n","export default (array, key) => {\n  const values = array\n    .map(item => item[key])\n    .filter((v, i, a) => a.indexOf(v) === i)\n\n  const reducer = (collection, value) => {\n    collection.push({ [key]: value, collection: array.filter(item => item[key] === value) })\n    return collection\n  }\n\n  return values.reduce(reducer, [])\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { deleted, update } from \"../../../actions/budget/categories\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport Edit from \"./Edit\"\nimport ExtraInfo from \"./MaturityIntervals/Info\"\nimport Icon from \"../../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst Row = (props) => {\n  const {\n    cancelButtonText,\n    deleteConfirmMessage,\n    revenue,\n    weekly,\n  } = copy.category\n\n  const {\n    category,\n    dispatch,\n  } = props\n\n  const {\n    id,\n    accrual,\n    default_amount,\n    errors,\n    expense,\n    icon_class_name,\n    monthly,\n    name,\n    showForm,\n    slug,\n  } = category\n\n  const revealForm = (e) => {\n    e.preventDefault()\n    const action = update({\n      id: id,\n      errors: (errors || []),\n      showForm: true,\n    })\n    dispatch(action)\n  }\n\n  const deleteCategory = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(deleteConfirmMessage(name))\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"budget-category-show\", id: id })\n      const event = EventMessageBuilder({\n        eventType: \"budget-category-delete\",\n        id: id,\n        name: name,\n      })\n      deleteRequest(url, event, dispatch(deleted(id)))\n    }\n  }\n\n  if (showForm) {\n    return (\n      <Edit\n        category={{...category, errors: (category.errors || [])}}\n        cancelLabel={cancelButtonText}\n      />\n    )\n  } else {\n    return (\n      <div className=\"budget-category\">\n        <div className=\"category-name underline\">\n          <Link to={`/budget/categories/${slug}`}>\n            {name}\n          </Link>\n        </div>\n        <div className=\"category-slug italic\">{slug}</div>\n        <div className=\"category-default-amount\">\n          {MoneyFormatter(default_amount, { absoulte: false })}\n        </div>\n        <div className=\"category-detail\">\n          <div>\n            {monthly ? copy.category.monthly : weekly}\n          </div>\n          <div>\n            {expense ? copy.category.expense : revenue}\n          </div>\n        </div>\n        <div className=\"category-icon\">\n          <Icon className={icon_class_name} />\n        </div>\n        <div className=\"category-accrual\">\n          {accrual ? copy.category.accrual : \"\"}\n        </div>\n        <div className=\"category-option-buttons\">\n          <div className=\"category-edit\">\n            <Link\n              to=\"#\"\n              onClick={revealForm}\n              className=\"far fa-edit\"\n            />\n          </div>\n          <div className=\"category-delete\">\n            <Link\n              to=\"#\"\n              onClick={deleteCategory}\n              className=\"far fa-trash-alt\"\n            />\n          </div>\n        </div>\n        <ExtraInfo\n          dispatch={dispatch}\n          {...category}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Row)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { categoriesFetched } from \"../../../actions/budget/categories\"\nimport { fetched as iconsFetched } from \"../../Icons/actions\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport Filters from \"./Filters\"\nimport Header from \"./Header\"\nimport NewBudgetCategory from \"./New\"\nimport Row from \"./Row\"\n\nconst BudgetCategories = (props) => {\n  const { isApiUnauthorized, collection, dispatch, fetched } = props\n\n  if (!isApiUnauthorized && !fetched) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(categoriesFetched(data))\n    get(url, onSuccess)\n  }\n\n  if (fetched && !props.iconsFetched && !isApiUnauthorized) {\n    const url = ApiUrlBuilder({ route: \"icons-index\" })\n    const onSuccess = data => dispatch(iconsFetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"categories\">\n      <h2>{titleize(copy.category.title)}</h2>\n      <Filters />\n      <Header />\n      <NewBudgetCategory />\n      {collection.map(category =>\n        <Row\n          key={category.id}\n          category={category}\n        />\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { collection, fetched, filters } = state.budget.categories\n  const adjectiveFilter = (category) => {\n    const filter = filters.find(filter => filter.name === \"adjective\")\n    switch (filter.value) {\n    case \"expense\":\n      return category.expense\n    case \"revenue\":\n      return !category.expense\n    default:\n      return true\n    }\n  }\n  const adverbFilter = (category) => {\n    const filter = filters.find(filter => filter.name === \"adverb\")\n    switch (filter.value) {\n    case \"day-to-day\":\n      return !category.monthly\n    case \"monthly\":\n      return category.monthly\n    default:\n      return true\n    }\n  }\n  const searchTerm = filters.find(filter => filter.name === \"search\").value.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")\n  const searchFilter = (category) => {\n    if (searchTerm === \"\") {\n      return true\n    } else {\n      const expression = new RegExp(searchTerm, \"i\")\n      return category.name.match(expression)\n    }\n  }\n  const sortBy = (a, b) => {\n    if (searchTerm === \"\") {\n      if (a.isNew && !b.isNew) {\n        return -1\n      } else if (!a.isNew && b.isNew) {\n        return 1\n      } else {\n        return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n      }\n    }\n    const strictExp = new RegExp(`^${searchTerm}.*`, \"i\")\n    const looseExp = new RegExp(`(^|\\\\s)${searchTerm}.*`, \"i\")\n    if (a.isNew && !b.isNew) {\n      return -1\n    } else if (!a.isNew && b.isNew) {\n      return 1\n    } else if (a.name.match(strictExp) && b.name.match(strictExp)) {\n      return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n    } else if (a.name.match(strictExp)) {\n      return -1\n    } else if (b.name.match(strictExp)) {\n      return 1\n    } else if (a.name.match(looseExp) && b.name.match(looseExp)) {\n      return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n    } else if (a.name.match(looseExp)) {\n      return -1\n    } else if (b.name.match(looseExp)) {\n      return 1\n    } else {\n      return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n    }\n  }\n  const iconsFetched = state.icons.fetched\n  const categories = collection\n    .filter(adjectiveFilter)\n    .filter(adverbFilter)\n    .filter(searchFilter)\n    .sort(sortBy)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    collection: categories,\n    fetched: fetched,\n    iconsFetched: iconsFetched,\n  }\n}\n\nexport default connect(mapStateToProps)(BudgetCategories)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { terms } from \"../../locales/copy\"\n\nimport { removeErrorMessage } from \"../Messages/actions\"\n\nimport { apiKeyEdited, apiKeyUpdated } from \"../Api/actions\"\n\nimport { Link } from \"react-router-dom\"\n\nconst Form = ({ dispatch, error, keyFormInput }) => {\n\n  const onChange = e => {\n    dispatch(apiKeyEdited(e.target.value))\n  }\n\n  const submit = () => {\n    dispatch(apiKeyUpdated(keyFormInput))\n    dispatch(removeErrorMessage({ type: \"api\", status: 401, errorMessage: error }))\n  }\n\n  const onClick = () => submit()\n\n  const handleKeyDown = e => {\n    if (e.which === 13) { submit() }\n  }\n\n  return (\n    <div className=\"key-form\">\n      <i className=\"fas fa-key fa-rotate-270\" />\n      {\" \"}\n      <input\n        name=\"apiKey\"\n        value={keyFormInput}\n        onChange={onChange}\n        onKeyDown={handleKeyDown}\n        placeholder={terms.apiKey}\n        type=\"password\"\n      />\n      {\" \"}\n      <span className=\"font-green\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-arrow-circle-right\"\n          onClick={onClick}\n        />\n      </span>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({ ...state.api })\n\nexport default connect(mapStateToProps)(Form)\n","import React from \"react\"\n\nimport { errors as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { removeErrorMessage } from \"./actions\"\n\nimport Icon from \"../Icons/Icon\"\nimport KeyForm from \"../Key/Form\"\nimport { Link } from \"react-router-dom\"\n\nexport default ({ dispatch, errorCount, errors, keys }) => {\n  if (errorCount === 0) {\n    return null\n  } else {\n    const heading = errorCount === 1 ? copy.error : copy.errors\n    return (\n      <div className=\"top-level-errors\">\n        <h4>\n          <span className=\"message-heading\">{titleize(heading)}</span>\n        </h4>\n        <div>\n          {keys.map((objkey, index) =>\n            <ErrorGroup\n              key={index}\n              dispatch={dispatch}\n              errors={errors[objkey]}\n              type={objkey}\n            />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ErrorGroup = ({ dispatch, errors, type }) => {\n  const keys = Object.keys(errors)\n  const errorCount = keys.reduce((sum, key) => sum + errors[key].length, 0)\n  if (errorCount === 0) {\n    return null\n  } else {\n    return (\n      <div>\n        <strong className=\"underline\">&bull;{\" \"}{titleize(type)}</strong>\n        {keys.map((status, index) =>\n          <ErrorMessage\n            key={index}\n            dispatch={dispatch}\n            errors={errors[status]}\n            status={status}\n            type={type}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nconst ErrorMessage = (props) => {\n  const { errors, status } = props\n\n  return errors.map((error, index) => (\n    <div className=\"error-message\" key={index}>\n      <Icon className=\"fas fa-exclamation-circle font-red\" />\n      {\" \"}\n      {status}\n      {\" \"}\n      &#9702;\n      {\" \"}\n      {error}\n      {\" \"}\n      {status === \"401\" ? <KeyForm error={error} /> : <RemoveButton error={error} {...props} />}\n    </div>\n  ))\n}\n\nconst RemoveButton = ({ dispatch, error, status, type }) => {\n  const onClick = () => {\n    const action = removeErrorMessage({\n      errorMessage: error,\n      status: status,\n      type: type,\n    })\n    dispatch(action)\n  }\n\n  return (\n    <Link\n      to=\"#\"\n      className=\"fas fa-times\"\n      onClick={onClick}\n    />\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Errors from \"./Errors\"\n\nconst MessageBanner = (props) => {\n  const { errorCount } = props\n  if (errorCount > 0) {\n    return (\n      <div className=\"top-level-messages\">\n        <Errors {...props} />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = state => {\n  const groupedErrors = state.messages.errors.reduce((array, err) => {\n    const keys = Object.keys(err.messages)\n    return [...array, ...keys.map(key => ({ status: key, messages: err.messages[key], type: err.type }))]\n  }, [])\n\n  const types = [...new Set([...groupedErrors.map(err => err.type)])]\n  const errorsByType = types.reduce((object, type) => {\n    object[type] = groupedErrors.filter(err => err.type === type)\n\n    return object\n  }, {})\n\n  const keys = Object.keys(errorsByType)\n  const errors = keys.reduce((object, key) => {\n    const tuples = errorsByType[key]\n    const statuses = tuples.map(tup => tup.status)\n    const combinedStatuses = statuses.reduce((obj, status) => {\n      obj[status] = tuples\n        .filter(tup => tup.status === status)\n        .reduce((list, tup) => [...new Set([...list, ...tup.messages])], [])\n      return obj\n    }, {})\n    object[key] = combinedStatuses\n    return object\n  }, {})\n\n  const errorCount = groupedErrors.reduce((sum, object) => sum + object.messages.length, 0)\n\n  return {\n    errors: errors,\n    errorCount: errorCount,\n    keys: keys,\n  }\n}\n\nexport default connect(mapStateToProps)(MessageBanner)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nimport { toggleEvents } from \"./actions\"\n\nconst Events = ({ dispatch, events, showEvents }) => {\n  const onClick = () => dispatch(toggleEvents())\n\n  if (events.length === 0) {\n    return null\n  } else if (showEvents) {\n    return (\n      <div className=\"top-level-events\">\n        <h3>\n          <Link\n            to=\"#\"\n            onClick={onClick}\n          >\n            <Icon className= \"fas fas-book-open\" />\n            {\" \"}\n            Events\n          </Link>\n        </h3>\n        <div className=\"events\">\n          {events.map((event, index) => (\n            <Event key={index} event={event} />\n          ))}\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"top-level-events\">\n        <h3>\n          <Link\n            to=\"#\"\n            onClick={onClick}\n          >\n            <Icon className= \"fas fas-book\" />\n            {\" \"}\n            Events\n          </Link>\n        </h3>\n      </div>\n    )\n  }\n}\n\nconst Event = ({ event }) => (\n  <div className=\"event-message\">\n    {event}\n  </div>\n)\n\nconst mapStateToProps = state => ({ events: state.messages.events, showEvents: state.messages.showEvents })\n\nexport default connect(mapStateToProps)(Events)\n","import React from \"react\"\n\nimport { NavLink } from \"react-router-dom\"\n\nimport { terms } from \"../locales/terms\"\n\nexport default () => (\n  <header>\n    <h1>{terms.appName}</h1>\n    <NavLink to=\"/accounts\">\n      <div className=\"tab\">\n        <h2>{terms.accounts}</h2>\n      </div>\n    </NavLink>\n    <NavLink to=\"/budget\">\n      <div className=\"tab\">\n        <h2>{terms.budget}</h2>\n      </div>\n    </NavLink>\n  </header>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { update } from \"../actions\"\n\nconst CancelButton = ({ id, dispatch }) => {\n  const cancel = () => {\n    const action = update({ id: id, updatedProps: null, showForm: false })\n    dispatch(action)\n  }\n\n  if (id) {\n    return (\n      <button\n        type=\"cancel\"\n        className=\"cancel\"\n        onClick={cancel}\n      >\n        {titleize(copy.icon.cancelButtonText)}\n      </button>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(CancelButton)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { resetIcon, resetNew } from \"../actions\"\n\nconst ResetButton = (props) => {\n  const { id } = props\n  const reset = (e) => {\n    e.preventDefault()\n    if (id) {\n      props.dispatch(resetIcon({ id: id }))\n    } else {\n      props.dispatch(resetNew())\n    }\n  }\n\n  return (\n    <button\n      type=\"reset\"\n      className=\"reset\"\n      onClick={reset}\n    >\n      {titleize(copy.icon.resetButtonText)}\n    </button>\n  )\n}\n\nexport default connect((_state, ownProps) => ownProps)(ResetButton)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport CancelButton from \"./CancelButton\"\nimport Icon from \"../Icon\"\nimport ResetButton from \"./ResetButton\"\n\nconst Form = ({ buttonText, class_name, id, name, onChange, onSubmit }) => (\n  <div className=\"icon-form\">\n    <div className=\"icon-form-row\">\n      <div>\n        <label>\n          {titleize(copy.icon.name)}\n        </label>\n      </div>\n      <div>\n        <input\n          name=\"name\"\n          onChange={onChange}\n          value={name}\n        />\n      </div>\n    </div>\n    <div className=\"icon-form-row\">\n      <div>\n        <label>\n          {titleize(copy.icon.className)}\n        </label>\n      </div>\n      <div>\n        <input\n          name=\"class_name\"\n          onChange={onChange}\n          value={class_name}\n        />\n      </div>\n    </div>\n    <div className=\"icon-form-row\">\n      <div className=\"button\">\n        <button\n          type=\"submit\"\n          className=\"submit\"\n          onClick={onSubmit}\n        >\n          {buttonText}\n        </button>\n      </div>\n      <div className=\"button\">\n        <ResetButton\n          id={id}\n        />\n      </div>\n      <div className=\"button\">\n        <CancelButton\n          id={id}\n        />\n      </div>\n    </div>\n    <div className=\"icon-form-row\">\n      <span className=\"preview\">\n        {titleize(copy.icon.preview)}:\n        {\"  \"}\n        <Icon className={class_name} />\n      </span>\n    </div>\n  </div>\n)\n\nconst mapStateToProps = (_state, ownProps) => {\n  const { buttonText, icon, onChange, onSubmit } = ownProps\n  return {\n    buttonText: buttonText,\n    ...icon,\n    onSubmit: onSubmit,\n    onChange: onChange,\n  }\n\n\n}\nexport default connect(mapStateToProps)(Form)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { created, updateNew } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst New = (props) => {\n  const { dispatch } = props\n\n  const onChange = (e) => {\n    const action = updateNew({[e.target.name]: e.target.value })\n    props.dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"icons-index\" })\n    const body = JSON.stringify(props.newIcon)\n    const onSuccess = data => dispatch(created(data))\n    const event = EventMessageBuilder({ eventType: \"icon-create\" })\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  return (\n    <Form\n      buttonText={titleize(copy.icon.createButtonText)}\n      icon={props.newIcon}\n      onChange={onChange}\n      onSubmit={onSubmit}\n    />\n  )\n}\n\nconst mapStateToProps = state => ({ newIcon: state.icons.newIcon })\n\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { update, updated, updateProps } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../functions/EventMessageBuilder\"\nimport { put } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = ({ dispatch, icon }) => {\n  const { id, updatedProps } = icon\n\n  const onChange = (e) => {\n    const action = updateProps({ id: id, [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"icon-show\", id: id })\n    const body = JSON.stringify(updatedProps)\n    const event = EventMessageBuilder({\n      eventType: \"icon-update\",\n      id: id,\n      changedProps: changedProps(icon, updatedProps),\n    })\n    const onSuccess = data => {\n      dispatch(updated(data))\n      dispatch(update({ id: id, showForm: false }))\n    }\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const formProps = { ...icon, ...icon.updatedProps }\n  return (\n    <Form\n      {...formProps}\n      buttonText={titleize(copy.icon.updateButtonText)}\n      onChange={onChange}\n      onSubmit={onSubmit}\n    />\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\n\nimport { deleted, update } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { Link } from \"react-router-dom\"\n\nimport Edit from \"./Edit\"\nimport Icon from \"./Icon\"\n\nconst Show = ({ dispatch, icon }) => {\n  const { id, class_name, name, showForm } = icon\n\n  const renderForm = (e) => {\n    e.preventDefault()\n    const action = update({ id: id, showForm: true })\n    dispatch(action)\n  }\n\n  const destroy = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(copy.icon.deleteConfirmationMessage(name))\n    const event = EventMessageBuilder({\n      eventType: \"icon-delete\",\n      id: id,\n      name: name,\n    })\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"icon-show\", id: id })\n      deleteRequest(url, event, () => dispatch(deleted(id)))\n    }\n  }\n\n  if (showForm) {\n    return (\n      <div className=\"icon\">\n        <Edit\n          icon={icon}\n        />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"icon\">\n        <div className=\"icon-name\">\n          <Icon className={class_name} />\n          {\" \"}\n          {name}\n        </div>\n        <div className=\"icon-actions\">\n          <Link\n            to=\"#\"\n            className=\"fas fa-edit\"\n            onClick={renderForm}\n          />\n          {\" \"}\n          <Link\n            to=\"#\"\n            onClick={destroy}\n            className=\"fas fa-trash\"\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Show)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetched } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport New from \"./New\"\nimport Show from \"./Show\"\n\nconst Index = (props) => {\n  const {\n    dispatch,\n    isApiUnauthorized,\n    collectionFetched,\n    firstColumn,\n    secondColumn,\n  } = props\n\n  if (!isApiUnauthorized && !collectionFetched) {\n    const url = ApiUrlBuilder({ route: \"icons-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"icons\">\n      <div className=\"new-icon-form\">\n        <New />\n      </div>\n      <div className=\"column\">\n        {firstColumn.map(icon =>\n          <Show\n            key={icon.id}\n            icon={icon}\n          />\n        )}\n      </div>\n      <div className=\"column\">\n        {secondColumn.map(icon =>\n          <Show\n            key={icon.id}\n            icon={icon}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { fetched } = state.icons\n  const collection = state.icons.collection.sort((a, b) => {\n    return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n  })\n  const count = collection.length\n  const columnSize = Math.ceil(count / 2.0)\n  const firstColumn = collection.slice(0, columnSize)\n  const secondColumn = collection.slice(columnSize, (columnSize * 2))\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    firstColumn: firstColumn,\n    secondColumn: secondColumn,\n    collectionFetched: fetched,\n    newIcon: state.icons.newIcon,\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","export const created = (payload) => {\n  return { type: \"transfers/CREATED\", payload: payload }\n}\n\nexport const deleted = (payload) => {\n  return { type: \"transfers/DELETED\", payload: payload }\n}\n\nexport const fetched = (payload) => {\n  return { type: \"transfers/FETCHED\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"transfers/UPDATE_NEW\", payload: payload }\n}\n\nexport const updatePage = (payload) => {\n  return { type: \"transfers/UPDATE_PAGE\", payload: { currentPage: payload } }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { account as accountCopy, transfer as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { created, updateNew } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Select from \"react-select\"\n\nconst New = (props) => {\n  const { currentPage, dispatch, fromOptions, fromValue, newTransfer, toOptions, toValue } = props\n  const { amount, from_account_id, to_account_id  } = newTransfer\n\n  const submit = () => {\n    const url = ApiUrlBuilder({ route: \"transfers-index\" })\n    const body = {\n      amount: Math.round(amount * 100),\n      to_account_id: to_account_id,\n      from_account_id: from_account_id,\n    }\n    const event = EventMessageBuilder({\n      eventType: \"transfer-create\",\n      amount: body.amount,\n      fromAccount: fromValue.label,\n      toAccount: toValue.label,\n    })\n    const onSuccess = data => dispatch(created(data))\n    post(url, JSON.stringify(body), { event: event, onSuccess: onSuccess })\n  }\n\n  const updateAmount = (e) => {\n    const action = updateNew({ amount: e.target.value })\n    dispatch(action)\n  }\n\n  const updateToAccount = (e) => {\n    const action = updateNew({ to_account_id: e.value })\n    dispatch(action)\n  }\n\n  const updateFromAccount = (e) => {\n    const action = updateNew({ from_account_id: e.value })\n    dispatch(action)\n  }\n\n  if (currentPage === 1) {\n    return (\n      <div className=\"new-transfer-form\">\n        <div className=\"transfer-account-select\">\n          {titleize(`${copy.from} ${accountCopy.account}`)}:\n          <Select\n            options={fromOptions}\n            onChange={updateFromAccount}\n            value={fromValue}\n          />\n        </div>\n        <div className=\"transfer-account-select\">\n          {titleize(`${copy.to} ${accountCopy.account}`)}:\n          <Select\n            options={toOptions}\n            onChange={updateToAccount}\n            value={toValue}\n          />\n        </div>\n        <input\n          value={amount}\n          onChange={updateAmount}\n          placeholder=\"amount\"\n        />\n        <button\n          type=\"submit\"\n          onClick={submit}\n        >\n          Submit\n        </button>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { newTransfer } = state.transfers\n  const { from_account_id, to_account_id } = newTransfer\n\n  const accounts = state.accounts.collection\n  const nullOption = { value: null, label: \"\" }\n  const fromOptions = accounts.filter(account => account.id !== to_account_id)\n    .map(account => (\n      { value: account.id, label: account.name }\n    ))\n  const toOptions = accounts.filter(account => account.id !== from_account_id)\n    .map(account => (\n      { value: account.id, label: account.name }\n    ))\n  const options = {\n    from: [nullOption, ...fromOptions],\n    to: [nullOption, ...toOptions]\n  }\n  const fromValue = options.from.find(opt => opt.value === from_account_id)\n  const toValue = options.to.find(opt => opt.value === to_account_id)\n\n  return {\n    newTransfer: newTransfer,\n    fromOptions: options.from,\n    fromValue: fromValue,\n    toOptions: options.to,\n    toValue: toValue,\n    currentPage: state.transfers.metadata.currentPage,\n  }\n}\n\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transfer as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { updatePage } from \"./actions\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst PaginationLinks = ({ dispatch, metadata }) => {\n  const { currentPage, limit, total } = metadata\n  const totalPages = Math.ceil(total / limit)\n\n  const viewFirst = (e) => {\n    e.preventDefault()\n    const action = updatePage(1)\n    dispatch(action)\n  }\n\n  const viewPrevious = (e) => {\n    e.preventDefault()\n    const action = updatePage(currentPage - 1)\n    dispatch(action)\n  }\n\n  const viewNext = (e) => {\n    e.preventDefault()\n    const action = updatePage(currentPage + 1)\n    dispatch(action)\n  }\n\n  const viewLast = (e) => {\n    e.preventDefault()\n    const action = updatePage(totalPages)\n    dispatch(action)\n  }\n\n  return (\n    <div className=\"transfers-pagination\">\n      <LinkToFirst\n        currentPage={currentPage}\n        onClick={viewFirst}\n        totalPages={totalPages}\n      />\n      {\" \"}\n      <LinkToPrevious\n        currentPage={currentPage}\n        onClick={viewPrevious}\n      />\n      <Ellipsis\n        currentPage={currentPage}\n        totalPages={totalPages}\n      />\n      <LinkToNext\n        currentPage={currentPage}\n        onClick={viewNext}\n        totalPages={totalPages}\n      />\n      {\" \"}\n      <LinkToLast\n        currentPage={currentPage}\n        onClick={viewLast}\n        totalPages={totalPages}\n      />\n    </div>\n  )\n}\n\nconst LinkToFirst = ({ currentPage, onClick, totalPages }) => {\n  if (totalPages > 1 && currentPage > 1) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        <Icon className=\"fas fa-angle-double-left\" />\n        {\" \"}\n        {titleize(copy.first)}\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst LinkToPrevious = ({ currentPage, onClick }) => {\n  if (currentPage > 2) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        <Icon className=\"fas fa-caret-left\" />\n        {\" \"}\n        {titleize(copy.previous)}\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Ellipsis = ({ currentPage, totalPages }) => {\n  if (currentPage === 1 || totalPages === currentPage) {\n    return null\n  } else {\n    return (\n      <span>{copy.ellipsis}</span>\n    )\n  }\n}\n\nconst LinkToNext = ({ currentPage, onClick, totalPages }) => {\n  if (currentPage < (totalPages - 1)) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        {titleize(copy.next)}\n        {\" \"}\n        <Icon className=\"fas fa-caret-right\" />\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst LinkToLast = ({ currentPage, onClick, totalPages }) => {\n  if (currentPage < totalPages) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        {titleize(copy.last)}\n        {\" \"}\n        <Icon className=\"fas fa-angle-double-right\" />\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { metadata: state.transfers.metadata }\n}\n\nexport default connect(mapStateToProps)(PaginationLinks)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transfer as copy } from \"../../locales/copy\"\nimport { deleted } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\n\nimport { Link } from \"react-router-dom\"\n\nconst DeleteButton = ({ amount, apiKey, from_account_id, dispatch, id, to_account_id }) => {\n  const onClick = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(copy.deleteConfirmationMessage)\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"transfer-show\", id: id })\n      const event = EventMessageBuilder({\n        eventType: \"transfer-delete\",\n        id: id,\n        fromAccountId: from_account_id,\n        toAccountId: to_account_id,\n        amount: amount,\n      })\n      const onSuccess = () => {\n        dispatch(deleted({\n          id: id,\n          amount: amount,\n          from_account_id: from_account_id,\n          to_account_id: to_account_id,\n        }))\n      }\n      deleteRequest(url, event, onSuccess)\n    }\n  }\n\n  return (\n    <div className=\"transfer-delete\">\n      <Link\n        to=\"#\"\n        onClick={onClick}\n        className=\"fas fa-trash\"\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ({ id: ownProps.id })\n\nexport default connect(mapStateToProps)(DeleteButton)\n","import React from \"react\"\n\nimport * as DateFormatter from \"../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\n\nimport DeleteButton from \"./DeleteButton\"\n\nexport default ({ from_transaction, id, to_transaction }) => {\n  const { amount } = to_transaction\n  const clearanceDate = () => {\n    if (from_transaction.clearance_date) {\n      return DateFormatter.fromDateString(from_transaction.clearance_date)\n    } else if (to_transaction.clearance_date) {\n      return DateFormatter.fromDateString(to_transaction.clearance_date)\n    } else {\n      return \"pending\"\n    }\n  }\n\n  return (\n    <div className=\"transfer\">\n      <div className=\"clearance-date\">\n        {clearanceDate()}\n      </div>\n      <div className=\"from-account\">\n        {from_transaction.account_name}\n      </div>\n      <div className=\"to-account\">\n        {to_transaction.account_name}\n      </div>\n      <div className=\"amount\">\n        {MoneyFormatter(to_transaction.amount)}\n      </div>\n      <DeleteButton\n        id={id}\n        amount={amount}\n        from_account_id={from_transaction.account_id}\n        to_account_id={to_transaction.account_id}\n      />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transfer as copy, transaction as txnCopy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { fetched } from \"./actions\"\nimport { fetched as renderAccounts } from \"../Accounts/actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport Tabs from \"../Accounts/Tabs\"\nimport Icon from \"../Icons/Icon\"\nimport NewTransfer from \"./NewTransfer\"\nimport PaginationLinks from \"./PaginationLinks\"\nimport Transfer from \"./Transfer\"\n\nconst Index = (props) => {\n  const { accounts, accountsFetched, isApiUnauthorized, collection, dispatch, fetchedTransfers, metadata } = props\n  const { currentPage, total, viewing } = metadata\n\n  if(!isApiUnauthorized && !accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(renderAccounts(data))\n    get(url, onSuccess)\n  }\n\n  if (!isApiUnauthorized && accountsFetched && !fetchedTransfers) {\n    const url = ApiUrlBuilder({ route: \"transfers-index\", query: { page: currentPage } })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div>\n      <div className=\"accounts\">\n        <Tabs\n          collection={accounts}\n          selectedAccountId={0}\n        />\n      </div>\n      <div className=\"transfers\">\n        <h2>{titleize(copy.title)}</h2>\n        <hr/>\n\n        {copy.iOfN(viewing, total)}\n        <div className=\"transfer\">\n          <div className=\"clearance-date\">\n            {titleize(txnCopy.clearanceDate)}\n            {\" \"}\n            <Icon className=\"fas fa-calendar-alt\" />\n          </div>\n          <div className=\"from-account\">\n            {titleize(copy.from)}\n          </div>\n          <div className=\"to-account\">\n            {titleize(copy.to)}\n          </div>\n          <div className=\"amount\">\n            {titleize(txnCopy.amount)}\n          </div>\n        </div>\n        {collection.map(transfer => (\n          <Transfer key={transfer.id} {...transfer} />\n        ))}\n        <hr />\n        <NewTransfer />\n        <PaginationLinks />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n  const { accountsFetched } = state.accounts\n\n  const collection = state.transfers.collection.sort((a, b) => {\n    if (a.from_transaction.clearance_date === b.from_transaction.clearance_date) {\n      return 0\n    } else if (a.from_transaction.clearance_date === null) {\n      return b.from_transaction.clearance_date > today ? -1 : 1\n    } else if (b.from_transaction.clearance_date === null) {\n      return a.from_transaction.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.from_transaction.clearance_date > b.from_transaction.clearance_date) ? 1 : -1\n    }\n  })\n\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...state.transfers,\n    accounts: state.accounts.collection,\n    collection: collection,\n    accountsFetched: accountsFetched,\n    isApiUnauthorized: isApiUnauthorized,\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './components/index.css';\nimport './components/Accounts/_account.css';\nimport './components/Budget/_budget.css';\nimport \"./components/Icons/_icons.css\"\nimport './components/Transactions/_transaction.css';\nimport './components/Transactions/_transaction_form.css';\nimport './components/Transfers/_transfers.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\"\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"./store\"\nimport AccountWrapper from \"./components/Accounts/Wrapper\"\nimport AccountIndex from \"./components/Accounts/Index\"\nimport BudgetCategoryShow from \"./components/Budget/Categories/Show\"\nimport BudgetFinalizeIndex from \"./components/Budget/Finalize/Index\"\nimport BudgetFinalizeAccruals from \"./components/Budget/Finalize/Accruals\"\nimport BudgetFinalizeFinish from \"./components/Budget/Finalize/Finish\"\nimport BudgetFinalizeItems from \"./components/Budget/Finalize/Items\"\nimport BudgetHome from \"./components/Budget/Home\"\nimport BudgetIndex from \"./components/Budget/Index\"\nimport BudgetSetUpAccruals from \"./components/Budget/SetUp/Accruals\"\nimport BudgetSetUpExpenses from \"./components/Budget/SetUp/Expenses\"\nimport BudgetSetUpFinalize from \"./components/Budget/SetUp/Finalize\"\nimport BudgetSetUpIntro from \"./components/Budget/SetUp/Introduction\"\nimport BudgetSetUpRevenues from \"./components/Budget/SetUp/Revenues\"\nimport BudgetCategories from \"./components/Budget/Categories/Index\"\nimport BannerMessages from \"./components/Messages/Banner\"\nimport Events from \"./components/Messages/Events\"\nimport Header from \"./components/Header\"\nimport Icons from \"./components/Icons/Index\"\nimport Transfers from \"./components/Transfers/Index\"\nimport \"./App.css\"\n\nexport default () => (\n  <div className=\"App\">\n    <Provider store={store}>\n      <Router>\n        <div>\n          <Header />\n          <BannerMessages />\n          <Switch>\n            <Route exact path=\"/accounts\" component={AccountWrapper} />\n            <Route exact path=\"/accounts/index\" component={AccountIndex} />\n            <Route exact path=\"/accounts/transfers\" component={Transfers} />\n            <Route path=\"/accounts/:slug/:month?/:year?\" component={AccountWrapper} />\n            <Route path=\"/accounts/:slug/\" component={AccountWrapper} />\n            <Route exact path=\"/budget/categories\" component={BudgetCategories} />\n            <Route path=\"/budget/categories/:slug\" component={BudgetCategoryShow} />\n            <Route exact path=\"/budget/icons\" component={Icons} />\n            <Route exact path=\"/budget/:month/:year\" component={BudgetIndex} />\n            <Route path=\"/budget/finalize/:month/:year/start\" component={BudgetFinalizeIndex} />\n            <Route path=\"/budget/finalize/:month/:year/accruals\" component={BudgetFinalizeAccruals} />\n            <Route path=\"/budget/finalize/:month/:year/finish\" component={BudgetFinalizeFinish} />\n            <Route path=\"/budget/finalize/:month/:year/items\" component={BudgetFinalizeItems} />\n            <Route path=\"/budget/set-up/:month/:year/accruals\" component={BudgetSetUpAccruals} />\n            <Route path=\"/budget/set-up/:month/:year/expenses\" component={BudgetSetUpExpenses} />\n            <Route path=\"/budget/set-up/:month/:year/finalize\" component={BudgetSetUpFinalize} />\n            <Route path=\"/budget/set-up/:month/:year/intro\" component={BudgetSetUpIntro} />\n            <Route path=\"/budget/set-up/:month/:year/revenues\" component={BudgetSetUpRevenues} />\n            <Route exact path=\"/budget/:month?/:year?\" component={BudgetHome} />\n          </Switch>\n          <Events />\n        </div>\n      </Router>\n    </Provider>\n  </div>\n)\n"],"sourceRoot":""}