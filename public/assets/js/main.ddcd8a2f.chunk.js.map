{"version":3,"sources":["reducers/helpers/shared.js","models/transaction.js","reducers/accounts.js","components/Api/reducer.js","models/discretionary.js","models/monthlyBudgetItem.js","models/weeklyBudgetItem.js","reducers/helpers/budgetHelpers.js","reducers/budget.js","reducers/icons.js","functions/FindOrDefault.js","components/Messages/reducer.js","functions/DateFormatter.js","reducers/helpers/transactionHelpers.js","reducers/transactions.js","reducers/transfers.js","store.js","reducers/helpers/setupHelpers.js","components/Accounts/actions.js","constants/Api.js","functions/ApiUrlBuilder.js","components/Messages/actions.js","components/Api/actions.js","functions/ApiClient.js","locales/overrides/copy.js","locales/terms.js","locales/en/terms.js","locales/overrides/terms.js","locales/copy.js","locales/en/account.js","locales/en/budget.js","locales/en/errors.js","locales/en/transfer.js","locales/en/transaction.js","locales/functions.js","components/Accounts/TransfersLink.js","components/Accounts/ManageButton.js","actions/transactions.js","components/Icons/Icon.js","functions/MoneyFormatter.js","functions/EventMessageBuilder.js","components/Transactions/Form/BudgetExclusion.js","components/Transactions/Form/CheckNumber.js","components/Transactions/Form/ClearanceDate.js","components/Transactions/Form/Descriptions.js","functions/DynamicInputEvaluator.js","components/Transactions/Form/DetailAmount.js","components/Transactions/Form/DetailBudgetItemSelect.js","components/Transactions/Form/Details.js","components/Transactions/Form/Notes.js","components/Transactions/Form/OptionIcons.js","components/Transactions/Form/Receipt.js","components/Transactions/Form/Submit.js","components/Transactions/Form/Form.js","components/Transactions/New.js","components/Transactions/AddTransaction.js","components/Transactions/Show/Amount.js","components/Transactions/Show/Balance.js","components/Transactions/Show/Icons.js","components/Transactions/Show/CheckNumber.js","components/Transactions/Show/Notes.js","components/Transactions/Show/BottomRow.js","components/Transactions/Show/BudgetCategories.js","components/Transactions/Show/BudgetExclusion.js","components/Transactions/Show/ClearanceDate.js","components/Transactions/Show/Description.js","components/Transactions/Edit.js","components/Transactions/Show/EditLink.js","components/Transactions/Show/DeleteButton.js","components/Transactions/Show/EndLinks.js","components/Transactions/Show/LeftIcon.js","components/Transactions/Show/TxnLinks.js","components/Transactions/Show/Show.js","components/Transactions/Transactions.js","components/Transactions/Wrapper.js","components/Accounts/Details.js","components/Accounts/Tab.js","components/Accounts/Tabs.js","components/Accounts/Wrapper.js","components/Accounts/Form/Form.js","components/Accounts/New.js","components/Accounts/Edit.js","components/Accounts/Show.js","components/Accounts/Index.js","components/Budget/actions/finalize.js","components/Budget/Finalize/Header.js","components/Budget/Finalize/Index.js","actions/budget.js","components/Errors/Errors.js","components/Budget/Finalize/AccrualShow.js","components/Budget/Finalize/Summary.js","functions/Delay.js","components/Budget/Finalize/UpdateAccruals.js","components/Budget/Finalize/Accruals.js","components/Budget/Finalize/Submit.js","components/Budget/Finalize/Finish.js","components/Budget/Finalize/Items/AmountForExtra.js","components/Budget/Finalize/Items/ApplyToExtra.js","components/Budget/Finalize/Items/NextMonthItem.js","components/Budget/Finalize/Items/Submit.js","components/Budget/Finalize/Items/Total.js","components/Budget/Finalize/MonthlyItem.js","components/Budget/Finalize/WeeklyItem.js","components/Budget/Finalize/Items.js","components/Budget/Home.js","actions/budget/categories.js","components/Budget/Info.js","components/Budget/SetUpButton.js","components/Budget/Menu.js","components/Budget/Items/GroupHeader.js","components/Budget/Items/ClearedItems.js","components/Budget/Shared/DeleteButton.js","components/Budget/Items/MonthlyAmountInput.js","components/Budget/Items/MonthlyAmount.js","components/Budget/Items/MonthlyItem.js","components/Budget/Items/MonthlyGroup.js","components/Budget/Items/MonthlyItemForm.js","components/Budget/Items/MonthlyHeader.js","components/Budget/Items/MonthlyItems.js","components/Budget/Discretionary/Amount.js","components/Budget/Shared/Caret.js","components/Budget/Discretionary/DetailAmounts.js","components/Budget/Discretionary/DetailLabels.js","components/Budget/Shared/Details.js","components/Budget/Shared/Header.js","components/Budget/Shared/Transaction.js","components/Budget/Shared/Transactions.js","components/Budget/Discretionary/DiscretionaryDetail.js","components/Budget/Discretionary/Discretionary.js","components/Budget/Items/WeeklyItemForm.js","components/Budget/Items/WeeklyHeader.js","components/Budget/Items/WeeklyAmountInput.js","components/Budget/Items/WeeklyAmountContainer.js","components/Budget/Items/WeeklyAmount.js","components/Budget/Items/WeeklyAmountDetails.js","components/Budget/Shared/Events.js","components/Budget/Items/WeeklyDetail.js","components/Budget/Items/WeeklyDetailLabels.js","components/Budget/Items/WeeklyItem.js","components/Budget/Items/WeeklyGroup.js","components/Budget/Items/WeeklyItems.js","components/Budget/Index.js","actions/budget/setup.js","components/Budget/SetUp/Discretionary.js","components/Budget/SetUp/Items.js","components/Budget/SetUp/Accruals.js","components/Budget/SetUp/ReviewItem.js","components/Budget/SetUp/PreviousMonth.js","components/Budget/SetUp/Expenses.js","components/Budget/SetUp/Finalize.js","components/Budget/SetUp/Introduction.js","components/Budget/SetUp/Revenues.js","components/Icons/actions.js","components/Budget/Categories/Filters.js","components/Budget/Categories/Header.js","components/Budget/Categories/Form/CancelButton.js","components/Budget/Categories/Form/IconSelect.js","components/Budget/Categories/Form/Form.js","components/Budget/Categories/New.js","components/Budget/Categories/Edit.js","components/Budget/Categories/MaturityIntervals/Form.js","components/Budget/Categories/MaturityIntervals/New.js","components/Budget/Categories/MaturityIntervals/Edit.js","components/Budget/Categories/MaturityIntervals/Show.js","components/Budget/Categories/MaturityIntervals/Info.js","functions/GroupBy.js","components/Budget/Categories/Show.js","components/Budget/Categories/Index.js","components/Key/Form.js","components/Messages/Errors.js","components/Messages/Banner.js","components/Messages/Events.js","components/Header.js","components/Icons/Form/CancelButton.js","components/Icons/Form/ResetButton.js","components/Icons/Form/Form.js","components/Icons/New.js","components/Icons/Edit.js","components/Icons/Show.js","components/Icons/Index.js","components/Transfers/actions.js","components/Transfers/NewTransfer.js","components/Transfers/PaginationLinks.js","components/Transfers/DeleteButton.js","components/Transfers/Transfer.js","components/Transfers/Index.js","serviceWorker.js","index.js","App.js"],"names":["updateItemInCollection","_ref","updatedItem","collection","save","map","item","id","Object","objectSpread","originalProps","update","payload","obj","updated","updatedProps","errors","updateProps","models_transaction","transaction","formOverrides","arguments","length","undefined","budget_exclusion","check_number","details","notes","amount","reduce","sum","detail","showBudgetExclusion","showCheck","showNotes","formOptions","defaultFormOptions","_id","showReceipt","initialState","accountsFetched","showNewForm","newAccount","cash_flow","name","slug","priority","updateBalance","account_id","acct","balance","updateAfterTransferCreate","from_transaction","to_transaction","objectifyTransaction","updateAfterTransferDelete","from_account_id","to_account_id","key","keyFormInput","status","models_discretionary","spent","remainingBudgeted","acc","remaining","overUnderBudgetAmount","total_remaining","monthlyBudgetItem","attributes","accrual","expense","maturity_month","maturity_year","month","year","difference","deletable","transaction_count","overUnderBudget","matureAccrual","isCleared","weeklyBudgetItem","transactions_count","floatAmount","parseFloat","toFixed","Math","min","max","events","setUpIndex","state","metadata","items","monthly","objectifyMonthly","objectifyWeekly","discretionary","objectifyDiscretionary","filter","weekly","itemsFetched","updateMonthlyItem","setup","originalItem","find","_item","newCollection","concat","toConsumableArray","newMonth","isFetched","baseMonth","updateWeeklyItem","finalizeItemsCollection","calculateDiscretionary","remainingFor","initialNewCategory","default_amount","showForm","icon_id","today","Date","days_remaining","total_days","categories","fetched","filters","value","newItem","budget_category_id","newCategory","getMonth","getFullYear","is_closed_out","is_set_up","menuOptions","showAccruals","showCleared","sortOrder","finalize","next","extra","selectedFromAccountId","selectedToAccountId","reviewed","set_up_completed_at","selectedOption","maturityIntervals","newIcon","class_name","FindOrDefault","array","findFn","fallbackValue","result","type","messages","requests","showEvents","emptyErrorObject","updateErrors","keysFromState","err","keys","Set","error","findOrDefault","payloadError","hasOwnProperty","errorTypeMessages","defineProperty","removeErrors","errorMessage","e","formatted","day","format","monthString","mo","parseInt","short","long","MonthDictionary","join","fromDateString","dateString","opts","dateElements","split","nextMonth","_ref2","prevMonth","_ref3","isInRange","dateRange","onOrAfter","onOrBefore","targetString","object","target","before","simpleObject","dateObject","getDate","date","isToday","JSON","stringify","createTransaction","clearance_date","include_pending","query_options","_state$metadata","prior_balance","date_range","inRange","newTxn","newPrior","budgetItems","editDetailProps","txn","newProps","isBudgetInclusion","detailId","isTarget","budget_item_id","editNew","editedNew","removeDetail","transactionId","_state$metadata2","updatedTransaction","_state$metadata3","updatedCollection","emptyDetail","disabled","new","description","receipt","initialNew","limit","offset","currentPage","viewing","total","fetchedTransfers","newTransfer","objectifyTransfer","transfer","store","createStore","combineReducers","accounts","action","originalAmount","api","budget","category","isNew","showMaturityIntervalForm","newMaturityIntervalAttributes","maturityInterval","maturityIntervalsFetched","interval","mi","Helpers","selected","includes","fetchedTransactions","objectifiedItem","currentItem","newMonthly","newWeekly","isReady","markedForExclusion","exclude","submitted","icons","icon","transactions","helpers","txnId","index","showFormAttribute","_state$new","itemIdFor","updatedDetails","n","selectedAccountId","toTransaction","fromTransaction","toAccountId","fromAccountId","transferId","transfer_id","transfers","window","__REDUX_DEVTOOLS_EXTENSION__","dispatch","getState","resetAccount","toggleShowNewForm","updateNew","API_URL","pathTo","route","options","budgetCategoryId","accountId","ApiUrlBuilder","query","path","queryParams","entries","arr","queryString","addEvent","event","removeErrorMessage","apiStatusUpdated","defaultOnFailure","data","body","url","requestBody","get","onSuccess","onFailure","context","verb","fetch","then","response","responseHandler","deleteRequest","method","post","call","put","headers","Accept","Content-Type","json","ok","text","overrides","terms","apiKey","appName","account","cancelButtonText","cashFlow","createButtonText","deleteButtonText","deleteConfirmationMessage","manageLinkText","nonCashFlow","resetButtonText","slugLabel","transferLinkText","updateButtonText","accruals","accruing","addNew","all","closeButtonText","defaultAmount","deleteConfirmMessage","editSlashDelete","expenses","frequency","revenue","revenues","searchLabelText","searchPlaceholder","title","budgetCategory","aheadOfBudget","overBudget","eventLabels","item_create","item_adjust","item_delete","legacy_item_create","pre_setup_item_create","rollover_item_adjust","rollover_item_create","setup_item_adjust","setup_item_create","appliedToExtra","applyToExtra","budgetedFor","carryOver","carryOverFrom","createItem","depositExtra","depositMessage","disregard","exceedsOriginalAmount","negativeRevenueErrorMessage","positiveExpenseErrorMessage","remainingIn","revealNextItems","itemCount","rollOver","selectFromAccount","selectToAccount","submitAccrualButtonText","summary","updatedAmountFor","className","preview","budgeted","cleared","perDay","perWeek","label","menu","hide","finalizeLinkText","order","setUpLinkText","show","additional","accrualButtonText","accruingExpenses","alreadyIncluded","amountToInclude","howMuchToInclude","newMonthString","howMuchAdditional","ignore","include","nOfTotal","number","count","markCompleteText","requeue","shared","deposited","in","minus","plus","ellipsis","first","from","last","previous","iOfN","range","to","addDetail","addNewButtonText","budgetExclusion","check","checkNumberPlaceholder","clearanceDate","start","end","deleteDetailConfirmationMessage","pending","todayButtonText","termsContent","upperCase","titleize","string","capLocked","word","charAt","toUpperCase","slice","toLowerCase","TransfersLink","react_default","a","createElement","Link","accountCopy","ManageButton","copy","created","edit","resetNew","toggleEditForm","Icon","props","icon_class_name","decimalToInt","round","MoneyFormatter","absolute","toFloat","num","abs","replace","eventMapper","eventType","accountCreate","accountDelete","accountUpdate","budgetCategoryCreate","budgetCategoryDelete","budgetCategoryMaturityIntervalCreate","budgetCategoryMaturityIntervalDelete","budgetCategoryUpdate","budgetItemCreate","budgetItemDelete","budgetItemUpdate","iconCreate","iconDelete","iconUpdate","intervalClosed","intervalMarkComplete","maturityIntervalUpdate","transactionDetailDelete","transactionEntryCreate","transactionEntryDelete","transactionEntryUpdate","transferCreate","transferDelete","Error","changedProps","changedStrings","_ref4","message","_ref5","_ref6","_ref7","_ref8","categoryId","_ref9","_ref10","_ref11","newAmount","_ref12","_ref13","_ref14","_ref15","closeOutCompletedAt","_ref16","_ref17","_ref18","budgetItemId","entryId","detailTemplate","_ref19","budget_category","_ref20","_ref21","accountName","_ref22","_ref23","_ref24","fromAccount","toAccount","_ref25","_ref26","originalValue","updatedValue","tuple","EventMessageBuilder","Form_BudgetExclusion","onChange","selectedAccount","toggleFormOption","onClick","checked","CheckNumber","placeholder","connect","ownProps","_state$transactions$m","openToDate","react_datepicker_es","assign","val","parsed","str","_year$month$day","fromDateTimeObject","toLocaleString","placeholderText","todayButton","Descriptions","handleKeyDown","onKeyDown","equationRegexp","operate","operator","num1","num2","evaluateInput","inputAmount","match","DetailAmount","onDetailChange","EvaluateInput","DetailBudgetItemSelect","option","react_select_esm","isDisabled","classNamePrefix","Details","detailCount","nullFn","initialDetail","detailCollection","indexFor","isLastDetail","Details_AddDetail","AddDetail","tabIndex","Notes","OptionIcons","OptionIcons_NoteIcon","OptionIcons_CheckIcon","OptionIcons_BudgetExclusionIcon","OptionIcons_ReceiptIcon","BudgetExclusionIcon","OptionIcons_OptionIcon","highlighted","iconClassName","showOption","CheckIcon","checkNumber","NoteIcon","ReceiptIcon","OptionIcon","Receipt","file","files","Submit","buttonText","onSubmit","Form_Form","budgetOptions","resetForm","Form_ClearanceDate","labelFor","itemOptions","sort","b","_transaction$formOpti","objectify","closeForm","preventDefault","details_attributes","adjusted","Transactions_New","Icons_Icon","Show_Amount","showDetail","Amount_Detail","Detail","Balance","BudgetCategoryIcons","emptyDescription","Icons_SpaceSpan","NotesIcon","SpaceSpan","Show_CheckNumber","Show_Notes","note","Notes_Note","Note","BottomRow","BottomRow_TransactionInfo","BottomRow_TransactionBalance","TransactionInfo","Icons_BudgetCategoryIcons","BottomRow_BudgetExclusion","exclusion","Icons_NotesIcon","Icons_CheckIcon","BudgetExclusion","TransactionBalance","Show_BudgetCategories","Show_BudgetExclusion","Show_ClearanceDate","longDate","DateFormatter","shortDate","ClearanceDate_ShortDateSpan","ShortDateSpan","Show_Description","collapseDetail","expandDetail","budgetDetails","Description_Description","Description_BudgetItemDetails","Description","Description_DetailsMap","DetailsMap","BudgetItemDetails","displayableDetails","budgetCopy","which","editProps","confirmation","confirm","_destroy","optionName","_state","Show_DeleteButton","EndLinks","revealForm","transactionDelete","Show_EditLink","LeftIcon","TxnLinks","Transactions_Edit","_state$transactions","startDate","endDate","getTime","getTimezoneOffset","toISOString","orderedTransactions","initialTransaction","collectionWithBalance","nextMonthUrl","prevMonthUrl","Transactions_Show_Show","Transactions_AddTransaction","isApiUnauthorized","urlAccountId","urlMonth","urlYear","Number","isInteger","isNewMonthYear","isTransctionCacheStale","isBudgetCacheStale","fetchTransactions","fetchBudgetItems","components_Transactions_Transactions","Accounts_Details","Details_AdminLinks","Transactions_Wrapper","AdminLinks","Accounts_Tab","Tabs","params","dateParams","Redirect","Accounts_Form_Form","updateAccountProps","updateCashFlow","submitForm","formProps","Accounts_Edit","_state$accounts","Accounts_Show","Accounts_New","addFinalizeItem","editBaseAmount","markIntervalClosed","markSelected","setStatus","updateExtra","updateFinalizeItem","updateSelectedFromAccountId","updateSelectedToAccountId","Finalize_Header","baseYear","baseMonthFetched","nextMonthFetched","baseMonthFinalized","_finalize$baseMonth","nextYear","isEndOfMonth","es_Redirect","addMonthlyItem","addWeeklyItem","editMonthlyItem","editNewMonthlyItem","editNewWeeklyItem","editWeeklyItem","toggleDiscretionaryDetail","toggleMonthlyItemForm","toggleWeeklyItemForm","Errors","i","Errors_Error","AccrualShow","wrapper","baseItem","floatRemaining","_updateExtra","applied","AccrualShow_NextMonthItem","nextItem","AccrualShow_Total","AccrualShow_Indicator","NextMonthItem","AccrualShow_MissingItem","Total","MissingItem","Indicator","klass","Summary","Summary_ExtraItem","ExtraItem","Delay","ms","Promise","resolve","setTimeout","UpdateAccruals","submit","event_type","amountFor","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","wrap","_context","prev","Symbol","iterator","done","delay","t0","return","finish","stop","this","apply","nextMonthCollection","reviewCount","Finalize_Submit","totalExtra","updateInterval","close_out_completed_at","createFromTransaction","callback","createToTransaction","AccountSelect","actionFn","isSearchable","fromOptions","fromValue","toOptions","toValue","absoulte","Finish_AccountSelect","acctFetched","AmountForExtra","ApplyToExtra","Items_NextMonthItem","nextMonthString","Items_Submit","baseItemId","markReviewed","updateItem","Items_Total","Finalize_MonthlyItem","nextItems","baseMonthString","errorMessages","push","MonthlyItem_NextMonthTotal","MonthlyItem_NextMonthItemSelect","showNextItems","NextMonthTotal","NextMonthItemSelect","selectedItem","MonthlyItem_NextItemRadio","NextItemRadio","Finalize_WeeklyItem","Item","Items_Item","categoriesFetched","reset","toggleMaturityIntervalEditForm","toggleNewForm","_state$budget$metadat","SetUpButton","isFuture","requiresSetUp","dateFormatter","Menu_MenuLink","linkCopy","Title","Links","requiresCloseOut","newSortOrder","Menu_FinalizeButton","iconCopy","MenuLink","FinalizeButton","Menu_Title","Menu_Links","GroupHeader","ClearedGroup","ClearedItems_ClearedItem","ClearedItem","_copy$shared","sortByAmount","sortByName","sortFn","ClearedItems_ClearedGroup","Shared_DeleteButton","deleteItem","saveChange","autcomplete","autoFocus","Items_MonthlyAmountInput","MonthlyAmount","formatter","MonthlyGroup","Items_MonthlyItem","c","onSave","size","divClassName","Items_MonthlyItemForm","accrualFilter","Items_MonthlyHeader","Items_ClearedItems","Discretionary_Amount","Caret","DetailAmounts","overUnderOperator","spentDepositedOperator","DetailLabels","descriptor","spentOrDeposited","Shared_Details","budgetedPerDay","budgetedPerWeek","remainingPerDay","remainingPerWeek","Shared_Header","Transaction","account_name","displayDescription","DateHelpers","Transactions","Shared_Transaction","floor","Shared_Transactions","_copy$discretionary","Shared_Caret","Discretionary_DiscretionaryDetail","currentCategoryIds","Items_WeeklyItemForm","Items_WeeklyAmountInput","WeeklyAmountContainer","WeeklyAmountDetails","diffOperator","Event","budgetedAmount","budget_item_event_type","prevAmount","remainingString","budgetedString","Events_Shared","Events_Atom","prevRemaining","Shared","created_at","Atom","Events","isTransaction","Events_Transaction","Events_Event","eventsWithBalance","combinedEvents","Shared_Events","WeeklyDetailLabels","daysRemaining","totalDays","Items_WeeklyAmount","Items_WeeklyDetail","WeeklyGroup","Items_WeeklyItem","aDiff","bDiff","Items_WeeklyHeader","Budget_Discretionary_Discretionary","Items_WeeklyGroup","isCurrent","categoresWereFetched","Budget_Info","Items_WeeklyItems","Items_MonthlyItems","Budget_Menu","addItem","markForInclusion","SetUp_Discretionary","budget_cateogry_id","SetUp_Items_Item","SubmitButton","submitAccruals","itemState","Accruals_Button","handleClick","iconClass","spanClass","Button","paramMonth","paramYear","_state$budget$setup$n","findCategory","prevMonthString","Accruals_Item","Accruals_SubmitButton","SetUp_Items","Header","dayToDayItem","_copy$setup2","Option","hidden","ConfirmationButton","_state$budget$setup","_copy$setup","adverb","adjective","ReviewItem_Header","ReviewItem_Option","ReviewItem_ConfirmationButton","updatedAmount","ReviewItem_Total","requeuedAt","now","Review","redirect","SetUp_ReviewItem","fullCollection","reviewItem","shift","indexOf","PreviousMonth_Review","PreviousMonth_Item","SetUp_PreviousMonth","setUpCompletedAt","targetMonth","targetYear","_state$budget$categor","showFilters","appliedFilters","adjectiveFilter","adverbFilter","searchFilter","_copy$category","funnelClass","setFilter","setAdjectiveFilter","setAdverbFilter","Categories_Header","cancelLabel","iconOptions","iconId","Categories_Form_Form","Form_CategoryInput","Form_Option","optionsDisabled","monthlyName","expenseName","Form_IconSelect","onSelectChange","Form_CancelButton","CategoryInput","existingMessages","createdAction","toString","MaturityIntervals_Form","cancel","MaturityIntervals_New","updateNewMaturityInterval","MaturityIntervals_Edit","category_id","editMaturityInterval","MaturityIntervals_Show","DateFunctions","MaturityIntervalByYear","showMaturityIntervals","groupedIntervals","v","_collection$push","intervalsByYear","Info_MaturityIntervalByYear","Categories_Edit","MaturityIntervals_Info","searchTerm","iconsFetched","expression","RegExp","strictExp","looseExp","Categories_Filters","Categories_New","Categories_Show","Messages_Errors","errorCount","heading","objkey","Errors_ErrorGroup","ErrorGroup","Errors_ErrorMessage","ErrorMessage","Key_Form","Errors_RemoveButton","RemoveButton","groupedErrors","errorsByType","tuples","combinedStatuses","tup","list","Messages_Events_Event","components_Header","NavLink","Form_ResetButton","Icons_Form_CancelButton","Icons_Form_Form","Icons_Edit","deleted","columnSize","ceil","firstColumn","secondColumn","collectionFetched","Icons_New","Icons_Show","updatePage","nullOption","opt","LinkToFirst","totalPages","LinkToPrevious","Ellipsis","LinkToNext","LinkToLast","PaginationLinks_LinkToFirst","PaginationLinks_LinkToPrevious","PaginationLinks_Ellipsis","PaginationLinks_LinkToNext","PaginationLinks_LinkToLast","Transfer","Transfers_DeleteButton","renderAccounts","page","txnCopy","NewTransfer","Transfers_PaginationLinks","Boolean","location","hostname","ReactDOM","render","es","BrowserRouter","Banner","Switch","Route","exact","component","AccountWrapper","AccountIndex","Transfers","BudgetCategories","Icons","BudgetIndex","BudgetFinalizeIndex","BudgetFinalizeAccruals","BudgetFinalizeFinish","BudgetFinalizeItems","BudgetSetUpAccruals","BudgetSetUpExpenses","BudgetSetUpFinalize","BudgetSetUpIntro","BudgetSetUpRevenues","BudgetHome","Messages_Events","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ddcd8a2f.chunk.js","sourcesContent":["export const updateItemInCollection = ({ updatedItem, collection, save }) => {\n  return collection.map((item) => {\n    if (item.id !== updatedItem.id) {\n      return item\n    } else if(save) {\n      return { ...item, ...updatedItem, originalProps: null }\n    } else {\n      const originalProps = item.originalProps || item\n      return { ...item, ...updatedItem, originalProps: originalProps }\n    }\n  })\n}\n\nexport const update = (payload, collection) => {\n  return collection.map(obj => {\n    if (obj.id !== payload.id) {\n      return obj\n    } else {\n      return { ...obj, ...payload }\n    }\n  })\n}\n\nexport const updated = (payload, collection) => {\n  return collection.map(obj => {\n    if (obj.id !== payload.id) {\n      return obj\n    } else {\n      return {\n        ...obj,\n        ...payload,\n        updatedProps: null,\n        errors: [],\n      }\n    }\n  })\n}\n\nexport const updateProps = (payload, collection) => {\n  return collection.map(obj => {\n    if (obj.id !== payload.id) {\n      return obj\n    } else {\n      return {\n        ...obj,\n        updatedProps: {\n          ...obj.updatedProps,\n          ...payload\n        }\n      }\n    }\n  })\n}\n","export default (transaction, formOverrides = {}) => {\n  const {  budget_exclusion, check_number, details, notes } = transaction\n  const amount = details.reduce((sum, detail) => sum + detail.amount, 0)\n  const showBudgetExclusion = !!budget_exclusion\n  const showCheck = check_number !== \"\" && check_number !== null\n  const showNotes = notes !== \"\" && notes !== null\n  const formOptions = {\n    ...defaultFormOptions,\n    showBudgetExclusion: showBudgetExclusion,\n    showCheck: showCheck,\n    showNotes: showNotes,\n    ...formOverrides,\n  }\n\n  return {\n    ...transaction,\n    amount: amount,\n    details: details.map(detail => ({...detail, _id: detail.id })),\n    formOptions: formOptions,\n  }\n}\n\nexport const defaultFormOptions = {\n  showBudgetExclusion: false,\n  showCheck: false,\n  showNotes: false,\n  showReceipt: false,\n}\n","import { update, updated, updateProps } from \"./helpers/shared\"\nimport objectifyTransaction from \"../models/transaction\"\n\nconst initialState = {\n  collection: [],\n  accountsFetched: false,\n  showNewForm: false,\n  newAccount: {\n    cash_flow: true,\n    name: \"\",\n    slug: \"\",\n    priority: \"\",\n  },\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case \"accounts/CREATED\":\n    return { ...state, collection: [...state.collection, action.payload] }\n  case \"accounts/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(acct => acct.id !== action.payload.id)\n    }\n  case \"accounts/FETCHED\":\n    return { ...state, collection: action.payload, accountsFetched: true }\n  case \"accounts/RESET\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection)\n    }\n  case \"accounts/RESET_FORM\":\n    return {\n      ...state,\n      newAccount: initialState.newAccount,\n      showNewForm: false\n    }\n  case \"accounts/TOGGLE_SHOW_NEW_FORM\":\n    return { ...state, showNewForm: action.payload }\n  case \"accounts/UPDATE\":\n    return {\n      ...state,\n      collection: update(action.payload, state.collection)\n    }\n  case \"accounts/UPDATED\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection),\n      accountsFetched: false,\n    }\n  case \"accounts/UPDATE_NEW\":\n    return {\n      ...state,\n      newAccount: { ...state.newAccount, ...action.payload }\n    }\n  case \"accounts/UPDATE_PROPS\":\n    return {\n      ...state,\n      collection: updateProps(action.payload, state.collection)\n    }\n  case \"transactions/CREATED\":\n    return {\n      ...state,\n      collection: updateBalance(objectifyTransaction(action.payload), state.collection),\n    }\n  case \"transactions/REMOVE_DETAIL\":\n    return {\n      ...state,\n      collection: updateBalance(action.payload, state.collection),\n    }\n  case \"transactions/DELETED\":\n    return {\n      ...state,\n      collection: updateBalance(action.payload, state.collection),\n    }\n  case \"transactions/UPDATED\":\n    return {\n      ...state,\n      collection: state.collection.map(acct => {\n        if (acct.id !== action.payload.account_id) {\n          return acct\n        } else {\n          return {\n            ...acct,\n            balance: (acct.balance + objectifyTransaction(action.payload).amount - action.payload.originalAmount),\n          }\n        }\n      })\n    }\n  case \"transfers/CREATED\":\n    return {\n      ...state,\n      collection: updateAfterTransferCreate(action.payload, state.collection),\n    }\n  case \"transfers/DELETED\":\n    return {\n      ...state,\n      collection: updateAfterTransferDelete(action.payload, state.collection),\n    }\n  default:\n    return state\n  }\n}\n\nconst updateBalance = (payload, collection) => {\n  const { account_id, amount } = payload\n  return collection.map(acct => {\n    if (acct.id !== account_id) {\n      return acct\n    } else {\n      return { ...acct, balance: (acct.balance + amount) }\n    }\n  })\n}\n\nconst updateAfterTransferCreate = (payload, collection) => {\n  const { from_transaction, to_transaction } = payload\n  const { amount } = objectifyTransaction(to_transaction)\n  return collection.map(acct => {\n    if (from_transaction.account_id === acct.id) {\n      return { ...acct, balance: (acct.balance - amount) }\n    } else if (to_transaction.account_id === acct.id) {\n      return { ...acct, balance: (acct.balance + amount) }\n    } else {\n      return acct\n    }\n  })\n}\n\nconst updateAfterTransferDelete = (payload, collection) => {\n  const { amount, from_account_id, to_account_id } = payload\n  return collection.map(acct => {\n    if (from_account_id === acct.id) {\n      return { ...acct, balance: (acct.balance + amount) }\n    } else if (to_account_id === acct.id) {\n      return { ...acct, balance: (acct.balance - amount) }\n    } else {\n      return acct\n    }\n  })\n}\n","const initialState = {\n  key: null,\n  keyFormInput: \"\",\n  status: null,\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"api/KEY_EDITED\":\n    return { ...state, keyFormInput: action.payload.key }\n  case \"api/STATUS_UPDATED\":\n    return { ...state, status: action.payload.status }\n  case \"api/KEY_UPDATED\":\n    return { ...state, key: action.payload.key, status: null }\n  default:\n    return state\n  }\n}\n","export default (payload, collection) => {\n  const { balance, spent } = payload\n\n  const remainingBudgeted = collection.reduce((acc, item) => {\n    return acc += item.remaining\n  }, 0)\n  const overUnderBudgetAmount = collection.reduce((acc, item) => {\n    return acc += item.overUnderBudgetAmount\n  }, 0)\n  const total_remaining = balance + remainingBudgeted\n  const amount = total_remaining - overUnderBudgetAmount - spent\n\n  return {\n    collection: [],\n    ...payload,\n    total_remaining: total_remaining,\n    amount: amount,\n    overUnderBudgetAmount: overUnderBudgetAmount,\n  }\n}\n","export default (attributes) => {\n  const {\n    accrual,\n    amount,\n    expense,\n    maturity_month,\n    maturity_year,\n    month,\n    year,\n  } = attributes\n  const spent = attributes.spent || 0\n  const transaction_count = attributes.transaction_count || 0\n  const difference = amount - spent\n  const deletable = transaction_count === 0\n  const remaining = deletable ? amount : 0\n  const overUnderBudget = (expense && difference > 0) || (!expense && difference < 0)\n  const overUnderBudgetAmount = !deletable ? (-1 * difference) : 0\n  const matureAccrual = accrual && maturity_month === month && maturity_year === year\n  const isCleared = !deletable || amount === 0\n\n  return {\n    ...attributes,\n    deletable: deletable,\n    isCleared: isCleared,\n    remaining: remaining,\n    difference: difference,\n    matureAccrual: matureAccrual,\n    overUnderBudget: overUnderBudget,\n    overUnderBudgetAmount: overUnderBudgetAmount,\n  }\n}\n","export default (attributes) => {\n  const {\n    accrual,\n    amount,\n    expense,\n    maturity_month,\n    maturity_year,\n    month,\n    year,\n  } = attributes\n  const spent = attributes.spent || 0\n  const transactions_count = attributes.transactions_count || 0\n  const floatAmount = attributes.floatAmount || parseFloat(attributes.amount / 100.0).toFixed(2)\n  const difference = amount - spent\n  const remaining = expense ? Math.min(difference, 0) : Math.max(difference, 0)\n  const overUnderBudget = (expense && difference > 0) || (!expense && difference < 0)\n  const overUnderBudgetAmount = overUnderBudget ? (-1 * difference) : 0\n  const matureAccrual = accrual && (maturity_month === month && maturity_year === year)\n\n  return {\n    collection: [],\n    events: [],\n    ...attributes,\n    spent: spent,\n    transactions_count: transactions_count,\n    floatAmount: floatAmount,\n    remaining: remaining,\n    difference: difference,\n    overUnderBudget: overUnderBudget,\n    overUnderBudgetAmount: overUnderBudgetAmount,\n    matureAccrual: matureAccrual,\n  }\n}\n","import { updateItemInCollection } from \"./shared\"\nimport objectifyDiscretionary from \"../../models/discretionary\"\nimport objectifyMonthly from \"../../models/monthlyBudgetItem\"\nimport objectifyWeekly from \"../../models/weeklyBudgetItem\"\n\nexport const setUpIndex = (payload, state) => {\n  const { collection, metadata } = payload\n  const items = collection.map(item => {\n    if (item.monthly) {\n      return objectifyMonthly(item)\n    } else {\n      return objectifyWeekly(item)\n    }\n  })\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, items),\n    monthly: {\n      ...state.monthly,\n      collection: items.filter(item => item.monthly),\n    },\n    weekly: {\n      ...state.weekly,\n      collection: items.filter(item => !item.monthly),\n    },\n    itemsFetched: true,\n    metadata: {\n      ...state.metadata,\n      ...metadata,\n    }\n  }\n}\n\nexport const addMonthlyItem = (item, state) => {\n  const { metadata, monthly, weekly } = state\n  const { month, year } = metadata\n  // if the item is not in the current month\n  if (!(item.month === month && item.year === year)) {\n    return state\n  }\n\n  const newCollection = [...monthly.collection, objectifyMonthly(item)]\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...newCollection, ...weekly.collection]),\n    monthly: {\n      ...monthly,\n      collection: newCollection,\n    },\n  }\n}\n\nexport const addWeeklyItem = (item, state) => {\n  const { metadata, monthly, weekly } = state\n  const { month, year } = metadata\n  // if the item is not in the current month\n  if (!(item.month === month && item.year === year)) {\n    return state\n  }\n\n  const newCollection = [...weekly.collection, objectifyWeekly(item)]\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...newCollection, ...monthly.collection]),\n    weekly: {\n      ...weekly,\n      collection: newCollection,\n    },\n  }\n}\n\nexport const removeMonthly = (id, state) => {\n  const { metadata, monthly, setup, weekly } = state\n  const newCollection = state.monthly.collection.filter(item => item.id !== id)\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...weekly.collection, ...newCollection]),\n    monthly: {\n      ...monthly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      baseMonth: {\n        ...setup.baseMonth,\n        isFetched: false\n      },\n    },\n  }\n}\n\nexport const removeWeekly = (id, state) => {\n  const { metadata, monthly, setup, weekly } = state\n  const newCollection = weekly.collection.filter(item => item.id !== id)\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...monthly.collection, ...newCollection]),\n    weekly: {\n      ...weekly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      baseMonth: {\n        ...state.setup.baseMonth,\n        isFetched: false\n      },\n    },\n  }\n}\n\nexport const updateMonthlyItem = (item, state) => {\n  // TODO: check the month/year and call a function to take the item out of the collection\n  // if there is a mismatch. This should not happen given the current set up but still worth\n  // considering\n\n  const { metadata, monthly, setup, weekly } = state\n  const originalItem = state.monthly.collection.find(_item => _item.id === item.id)\n  const updatedItem = objectifyMonthly({ ...originalItem, ...item })\n\n  const newCollection = updateItemInCollection({\n    updatedItem: updatedItem,\n    collection: monthly.collection,\n    save: true\n  })\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...weekly.collection, ...newCollection]),\n    monthly: {\n      ...monthly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      newMonth: {\n        ...setup.newMonth,\n        isFetched: false,\n      },\n      baseMonth: {\n        ...setup.baseMonth,\n        isFetched: false,\n      },\n    }\n  }\n}\n\nexport const updateWeeklyItem = (item, state) => {\n  // TODO: check the month/year and call a function to take the item out of the collection\n  // if there is a mismatch. This should not happen given the current set up but still worth\n  // considering\n\n  const { metadata, monthly, setup, weekly } = state\n  const originalItem = state.weekly.collection.find(_item => _item.id === item.id)\n  const updatedItem = objectifyWeekly({ ...originalItem, ...item }, state.metadata)\n\n  const newCollection = updateItemInCollection({\n    updatedItem: updatedItem,\n    collection: weekly.collection,\n    save: true\n  })\n\n  return {\n    ...state,\n    discretionary: objectifyDiscretionary(metadata, [...monthly.collection, ...newCollection]),\n    weekly: {\n      ...weekly,\n      collection: newCollection,\n    },\n    setup: {\n      ...setup,\n      newMonth: {\n        ...setup.newMonth,\n        isFetched: false,\n      },\n      baseMonth: {\n        ...setup.baseMonth,\n        isFetched: false,\n      },\n    }\n  }\n}\n\nexport const addNewSetupItem = (item, state) => {\n  const { metadata, monthly, setup, weekly } = state\n  const { month, year } = metadata\n  const objectifiedItem = item.monthly ? objectifyMonthly(item) : objectifyWeekly(item)\n  const currentItem = month === item.month && year === item.year\n  const newMonthly = currentItem && item.monthly ? { ...monthly, collection: [...monthly.collection, objectifiedItem] } : monthly\n  const newWeekly = currentItem && item.weekly ? { ...weekly, collection: [...weekly.collection, objectifiedItem] } : weekly\n  const discretionary = objectifyDiscretionary(metadata, [...newWeekly.collection, ...newMonthly.collection])\n\n  return {\n    ...state,\n    discretionary: discretionary,\n    monthly: newMonthly,\n    weekly: newWeekly,\n    setup: {\n      ...setup,\n      newMonth: {\n        ...setup.newMonth,\n        newItem: {\n          amount: \"\",\n          budget_category_id: null,\n          selectedOption: \"\",\n        },\n        collection: [\n          ...setup.newMonth.collection,\n          item,\n        ],\n      },\n    },\n  }\n}\n\nexport const finalizeItemsCollection = (payload) => {\n  return payload.collection.map(item => {\n    if (item.monthly) {\n      return objectifyMonthly({ ...item, status: \"pending\" })\n    } else {\n      return objectifyWeekly({ ...item, status: \"pending\" })\n    }\n  })\n}\n\nexport const nextMonthFetched = (payload, state) => {\n  return {\n    ...state,\n    ...setUpIndex(payload, state),\n    finalize: {\n      ...state.finalize,\n      next: {\n        ...state.finalize.next,\n        ...payload.metadata,\n        collection: finalizeItemsCollection(payload),\n        isFetched: true,\n      },\n    },\n  }\n}\n\nexport const updateFinalizeItem = (payload, state) => {\n  if (payload.monthly) {\n    return updateMonthlyItem(payload, state)\n  } else {\n    return updateWeeklyItem(payload, state)\n  }\n}\n\nexport const updateExtra = (payload, extra) => {\n  const ids = extra.map(item => item.id)\n\n  if (ids.includes(payload.id)) {\n    return extra.map(item => item.id === payload.id ? { ...item, ...payload } : item)\n  } else {\n    return [...extra, payload]\n  }\n}\n\nexport const calculateDiscretionary = (payload) => {\n  const { collection, metadata } = payload\n\n  const remainingFor = (item) => {\n    const { amount, expense, monthly, spent, transaction_count } = item\n    if (monthly) {\n      return transaction_count === 0 ? amount : 0\n    } else {\n      const difference = amount - spent\n      return expense ? Math.min(difference, 0) : Math.max(difference, 0)\n    }\n  }\n\n  return metadata.balance + collection.reduce((acc, item) => acc += remainingFor(item), 0)\n}\n","import * as Helpers from \"./helpers/budgetHelpers\"\nimport * as setupHelpers from \"./helpers/setupHelpers\"\nimport { update, updated, updateProps, updateItemInCollection } from \"./helpers/shared\"\n\nconst initialNewCategory = {\n  name: \"\",\n  default_amount: \"\",\n  slug: \"\",\n  accrual: \"false\",\n  showForm: false,\n  icon_id: null,\n  errors: [],\n}\n\nconst today = new Date()\nconst initialState = {\n  discretionary: {\n    balance: 0,\n    spent: 0,\n    total_remaining: 0,\n    days_remaining: 1,\n    total_days: 1,\n    collection: [],\n  },\n  categories: {\n    collection: [],\n    fetched: false,\n    filters: [\n      { name: \"adjective\", value: \"\" },\n      { name: \"adverb\", value: \"\" },\n      { name: \"search\", value: \"\" },\n    ],\n    showForm: false,\n  },\n  monthly: {\n    collection: [],\n    showForm: false,\n    newItem: {\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    },\n  },\n  weekly: {\n    collection: [],\n    showForm: false,\n    newItem: {\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    },\n  },\n  newCategory: initialNewCategory,\n  itemsFetched: false,\n  metadata: {\n    month: (today.getMonth() + 1),\n    year: (today.getFullYear()),\n    is_closed_out: true,\n    is_set_up: true,\n  },\n  menuOptions: {\n    showAccruals: false,\n    showCleared: false,\n    sortOrder: \"byName\",\n  },\n  finalize: {\n    baseMonth: {\n      month: null,\n      year: null,\n      isFetched: false,\n      collection: [],\n      is_closed_out: false,\n    },\n    next: {\n      month: null,\n      year: null,\n      isFetched: false,\n      collection: [],\n    },\n    extra: [],\n    selectedFromAccountId: null,\n    selectedToAccountId: null,\n  },\n  setup: {\n    baseMonth: {\n      month: 12,\n      year: 2099,\n      isFetched: false,\n      collection: [],\n    },\n    newMonth: {\n      month: 12,\n      year: 2099,\n      isFetched: false,\n      reviewed: false,\n      set_up_completed_at: null,\n      collection: [],\n      newItem: {\n        amount: \"\",\n        budget_category_id: null,\n        selectedOption: \"\",\n      },\n    },\n  },\n  maturityIntervals: [],\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case \"budget/categories/APPLY_ERRORS_ON_EDIT\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.map(category => {\n          if (category.id === action.payload.id) {\n            return { ...category, errors: [...category.errors, ...action.payload.errors] }\n          } else {\n            return category\n          }\n        })\n      },\n    }\n  case \"budget/categories/APPLY_FILTER\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        filters: state.categories.filters.map(filter => filter.name === action.payload.name ? action.payload : filter)\n      }\n    }\n  case \"budget/categories/CREATED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        showForm: false,\n        collection: [\n          ...state.categories.collection,\n          { ...action.payload, isNew: true }\n        ]\n      }\n    }\n  case \"budget/categories/DELETED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.filter(category => category.id !== action.payload)\n      }\n    }\n  case \"budget/categories/EDIT_MATURITY_INTERVAL\":\n    return {\n      ...state,\n      maturityIntervals: updateProps(action.payload, state.maturityIntervals),\n    }\n  case \"budget/categories/ERRORS_ON_NEW\":\n    return {\n      ...state,\n      newCategory: {\n        ...state.newCategory,\n        ...action.payload, // comes in as { errors: [{ name: [\"invalid\"] }] }\n      },\n    }\n  case \"budget/categories/FETCHED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: action.payload,\n        fetched: true\n      }\n    }\n  case \"budget/categories/MATURITY_INTERVAL_CREATED\":\n    return {\n      ...state,\n      itemsFetched: false,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.map(category => {\n          if (category.id !== action.payload.id) {\n            return category\n          } else {\n            return {\n              ...category,\n              showMaturityIntervalForm: false,\n              newMaturityIntervalAttributes: {},\n            }\n          }\n        }),\n      },\n      maturityIntervals: [\n        ...state.maturityIntervals,\n        action.payload.maturityInterval\n      ]\n    }\n  case \"budget/categories/MATURITY_INTERVALS_FETCHED\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: state.categories.collection.map(category =>\n          category.id === action.payload.id ? { ...category, maturityIntervalsFetched: true } : category\n        )\n      },\n      maturityIntervals: [\n        ...state.maturityIntervals,\n        ...action.payload.collection\n      ],\n    }\n  case \"budget/category/REMOVE_MATURITY_INTERVAL\":\n    return {\n      ...state,\n      itemsFetched: false,\n      maturityIntervals: state.maturityIntervals.filter(interval => interval.id !== action.payload.id)\n    }\n  case \"budget/categories/RESET\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: updated(action.payload, state.categories.collection)\n      }\n    }\n  case \"budget/categories/RESET_NEW_FORM\":\n    return {\n      ...state,\n      newCategory: initialNewCategory,\n    }\n  case \"budget/categories/TOGGLE_MATURITY_INTERVAL_EDIT_FORM\":\n    return {\n      ...state,\n      maturityIntervals: state.maturityIntervals.map(mi =>\n        mi.id === action.payload.id ? { ...mi, ...action.payload } : mi\n      )\n    }\n  case \"budget/categories/TOGGLE_NEW_FORM\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        showForm: action.payload.showForm,\n      }\n    }\n  case \"budget/categories/UPDATE\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: update(action.payload, state.categories.collection),\n      }\n    }\n  case \"budget/categories/UPDATE_NEW\":\n    return {\n      ...state,\n      newCategory: {\n        ...state.newCategory,\n        ...action.payload,\n      }\n    }\n  case \"budget/categories/UPDATE_MATURITY_INTERVAL\":\n    return {\n      ...state,\n      maturityIntervals: updated(action.payload, state.maturityIntervals)\n    }\n  case \"budget/categories/UPDATE_PROPS\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection: updateProps(action.payload, state.categories.collection),\n      }\n    }\n  case \"budget/categories/UPDATED\":\n    if (action.payload.monthly) {\n      return {\n        ...state,\n        categories: {\n          ...state.categories,\n          collection: updated(action.payload, state.categories.collection),\n        },\n        monthly: {\n          ...state.monthly,\n          collection: state.monthly.collection.map(item => {\n            return item.budget_category_id === action.payload.id ? { ...item, name: action.payload.name, accrual: action.payload.accrual } : item\n          })\n        }\n      }\n    } else {\n      return {\n        ...state,\n        categories: {\n          ...state.categories,\n          collection: updated(action.payload, state.categories.collection),\n        },\n        weekly: {\n          ...state.weekly,\n          collection: state.weekly.collection.map(item => {\n            return item.budget_category_id === action.payload.id ? { ...item, name: action.payload.name, accrual: action.payload.accrual } : item\n          })\n        }\n      }\n    }\n  case \"budget/finalize/ADD_FINALIZE_ITEM\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        next: {\n          ...state.finalize.next,\n          collection: [...state.finalize.next.collection, action.payload]\n        },\n      },\n    }\n  case \"budget/finalize/BASE_MONTH_FETCH\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          ...action.payload.metadata,\n          collection: Helpers.finalizeItemsCollection(action.payload),\n          isFetched: true,\n        },\n        extra: [\n          ...state.finalize.extra,\n          {\n            id: 0,\n            name: \"Discretionary\",\n            amount: (-1 * Helpers.calculateDiscretionary(action.payload)),\n          }\n        ]\n      },\n    }\n  case \"budget/finalize/EDIT_BASE_AMOUNT\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          collection: state.finalize.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, ...action.payload } : item\n          )\n        },\n      },\n    }\n  case \"budget/finalize/MARK_INTERVAL_CLOSED\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          is_closed_out: true,\n        },\n      }\n    }\n  case \"budget/finalize/MARK_SELECTED\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        next: {\n          ...state.finalize.next,\n          collection: state.finalize.next.collection.map(item =>\n            item.id === action.payload.id ? { ...item, selected: true } : { ...item, selected: false }\n          )\n        },\n      }\n    }\n  case \"budget/finalize/NEXT_MONTH_FETCH\":\n    return Helpers.nextMonthFetched(action.payload, state)\n  case \"budget/finalize/SET_STATUS\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        baseMonth: {\n          ...state.finalize.baseMonth,\n          collection: state.finalize.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, ...action.payload } : item\n          ),\n        },\n      },\n    }\n  case \"budget/finalize/UPDATE_EXTRA\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        extra: Helpers.updateExtra(action.payload, state.finalize.extra)\n      },\n    }\n  case \"budget/finalize/UPDATE_FINALIZE_ITEM\":\n    return Helpers.updateFinalizeItem(action.payload, state)\n  case \"budget/finalize/UPDATE_SELECTED_FROM_ACCOUNT_ID\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        selectedFromAccountId: action.payload.id\n      },\n    }\n  case \"budget/finalize/UPDATE_SELECTED_TO_ACCOUNT_ID\":\n    return {\n      ...state,\n      finalize: {\n        ...state.finalize,\n        selectedToAccountId: action.payload.id\n      },\n    }\n  case \"budget/BASE_MONTH_FETCHED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          ...action.payload.metadata,\n          isFetched: true,\n          collection: action.payload.collection,\n        },\n      }\n    }\n  case \"budget/CHANGE_ITEM_SORT_ORDER\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/NEW_MONTH_FETCHED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          ...action.payload.metadata,\n          isFetched: true,\n          collection: action.payload.collection,\n        },\n      }\n    }\n  case \"budget/ADD_CATEGORY\":\n    return {\n      ...state,\n      categories: {\n        ...state.categories,\n        collection:\n          [\n            ...state.categories.collection,\n            action.payload\n          ]\n      }\n    }\n  case \"budget/ADD_MONTHLY_ITEM\":\n    return Helpers.addMonthlyItem(action.payload, state)\n  case \"budget/ADD_WEEKLY_ITEM\":\n    return Helpers.addWeeklyItem(action.payload, state)\n  case \"budget/EDIT_NEW_MONTHLY_ITEM\":\n    return {\n      ...state,\n      monthly: {\n        ...state.monthly,\n        newItem: { ...state.monthly.newItem, ...action.payload }\n      }\n    }\n  case \"budget/EDIT_NEW_WEEKLY_ITEM\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        newItem: { ...state.weekly.newItem, ...action.payload }\n      }\n    }\n  case \"budget/EDIT_MONTHLY_ITEM\":\n    return {\n      ...state,\n      monthly: {\n        ...state.monthly,\n        collection: updateItemInCollection({\n          updatedItem: action.payload,\n          collection: state.monthly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/EDIT_WEEKLY_ITEM\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        collection: updateItemInCollection({\n          updatedItem: action.payload,\n          collection: state.weekly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/FETCHED_DISCRETIONARY_TRANSACTIONS\":\n    return {\n      ...state,\n      discretionary: {\n        ...state.discretionary,\n        fetchedTransactions: true,\n        collection: action.payload,\n      },\n    }\n  case \"budget/FETCHED_WEEKLY_BUDGET_ITEM_EVENTS\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        collection: updateItemInCollection({\n          updatedItem: { id: action.payload.id, events: action.payload.events },\n          collection: state.weekly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/FETCHED_WEEKLY_TRANSACTIONS\":\n    return {\n      ...state,\n      weekly: {\n        ...state.weekly,\n        collection: updateItemInCollection({\n          updatedItem: { id: action.payload.id, collection: action.payload.collection },\n          collection: state.weekly.collection,\n          save: false\n        })\n      }\n    }\n  case \"budget/ITEMS_FETCHED\":\n    return Helpers.setUpIndex(action.payload, state)\n  case \"budget/REMOVE_WEEKLY_ITEM\":\n    return Helpers.removeWeekly(action.payload, state)\n  case \"budget/REMOVE_MONTHLY_ITEM\":\n    return Helpers.removeMonthly(action.payload, state)\n  case \"budget/TOGGLE_ACCRUAL_ITEMS\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/TOGGLE_CLEARED_ITEMS\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/TOGGLE_DISCRETIONARY_DETAIL\":\n    return { ...state, discretionary: { ...state.discretionary, ...action.payload } }\n  case \"budget/TOGGLE_MENU\":\n    return {\n      ...state,\n      menuOptions: {\n        ...state.menuOptions,\n        ...action.payload,\n      },\n    }\n  case \"budget/TOGGLE_MONTHLY_ITEM_FORM\":\n    return { ...state, monthly: { ...state.monthly, ...action.payload } }\n  case \"budget/TOGGLE_WEEKLY_ITEM_FORM\":\n    return { ...state, weekly: { ...state.weekly, ...action.payload } }\n  case \"budget/UPDATE_MONTHLY_ITEM\":\n    return Helpers.updateMonthlyItem(action.payload, state)\n  case \"budget/UPDATE_WEEKLY_ITEM\":\n    return Helpers.updateWeeklyItem(action.payload, state)\n  case \"budget/setup/ADD_ITEM\":\n    return Helpers.addNewSetupItem(action.payload, state)\n  case \"budget/setup/EDIT_NEW\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          reviewed: false,\n          newItem: {\n            ...state.setup.newMonth.newItem,\n            ...action.payload,\n          }\n        }\n      }\n    }\n  case \"budget/setup/EDIT_ACCRUAL_AMOUNT\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: updateProps(action.payload, state.setup.baseMonth.collection)\n        },\n      }\n    }\n  case \"budget/setup/EDIT_REVIEW_ITEM\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          reviewed: false,\n          collection: setupHelpers.editReviewItem(action.payload, state.setup.newMonth.collection)\n        }\n      }\n    }\n  case \"budget/setup/FINISH_REVIEW\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          reviewed: true,\n        }\n      }\n    }\n  case \"budget/setup/NEXT_STEP\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          isReady: true\n        }\n      }\n    }\n  case \"budget/setup/MARK_FOR_INCLUSION\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, markedForExclusion: action.payload.exclude } : item\n          )\n        },\n      }\n    }\n  case \"budget/setup/MARK_REVIEWED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, reviewed: true } : item\n          )\n        },\n        newMonth: {\n          ...state.setup.newMonth,\n          newItem: {\n            amount: \"\",\n            budget_category_id: null,\n            selectedOption: \"\",\n          }\n        }\n      }\n    }\n  case \"budget/setup/MARK_SUBMITTED\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, submitted: true } : item\n          )\n        },\n      }\n    }\n  case \"budget/setup/REQUEUE\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        baseMonth: {\n          ...state.setup.baseMonth,\n          collection: state.setup.baseMonth.collection.map(item =>\n            item.id === action.payload.id ? { ...item, ...action.payload } : item\n          )\n        },\n        newMonth: {\n          ...state.setup.newMonth,\n          newItem: {\n            amount: \"\",\n            budget_category_id: null,\n            selectedOption: \"\",\n          }\n        }\n      }\n    }\n  case \"budget/setup/UPDATE_EXISTING\":\n    return {\n      ...state,\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          newItem: {\n            amount: \"\",\n            budget_category_id: null,\n            selectedOption: \"\",\n          },\n          collection: state.setup.newMonth.collection.map(item => {\n            return item.id === action.payload.id ? action.payload : item\n          }),\n        },\n      },\n    }\n  case \"budget/setup/UPDATE_METADATA\":\n    return {\n      ...state,\n      itemsFetched: false,\n      metadata: {\n        ...state.metadata,\n        ...action.payload,\n      },\n      setup: {\n        ...state.setup,\n        newMonth: {\n          ...state.setup.newMonth,\n          ...action.payload,\n        },\n      },\n    }\n  case \"transactions/CREATED\":\n    return {\n      ...state,\n      itemsFetched: false,\n    }\n  case \"transactions/DELETED\":\n    return {\n      ...state,\n      itemsFetched: false,\n    }\n  case \"transactions/UPDATED\":\n    return {\n      ...state,\n      itemsFetched: false,\n    }\n  default:\n    return state\n  }\n}\n","import { update, updated, updateProps } from \"./helpers/shared\"\n\nconst initialState = {\n  collection: [],\n  fetched: false,\n  newIcon: {\n    name: \"\",\n    class_name: \"\",\n  }\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"icons/CREATED\":\n    return {\n      ...state,\n      collection: [\n        ...state.collection,\n        action.payload,\n      ],\n      newIcon: initialState.newIcon\n    }\n  case \"icons/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(icon => icon.id !== action.payload)\n    }\n  case \"icons/UPDATE_NEW\":\n    return {\n      ...state,\n      newIcon: {\n        ...state.newIcon,\n        ...action.payload\n      }\n    }\n  case \"icons/UPDATE_PROPS\":\n    return {\n      ...state,\n      collection: updateProps(action.payload, state.collection)\n    }\n  case \"icons/FETCHED\":\n    return {\n      ...state,\n      collection: action.payload,\n      fetched: true,\n    }\n  case \"icons/RESET\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection)\n    }\n  case \"icons/RESET_NEW\":\n    return {\n      ...state,\n      newIcon: initialState.newIcon\n    }\n  case \"icons/UPDATE\":\n    return {\n      ...state,\n      collection: update(action.payload, state.collection)\n    }\n  case \"icons/UPDATED\":\n    return {\n      ...state,\n      collection: updated(action.payload, state.collection)\n    }\n  default:\n    return state\n  }\n}\n","export default (array, findFn, fallbackValue = null) => {\n  const result = array.find(findFn)\n  if (result === undefined) {\n    return fallbackValue\n  } else {\n    return result\n  }\n}\n","import findOrDefault from \"../../functions/FindOrDefault\"\n\nconst apiErrors ={\n  type: \"api\",\n  messages: {},\n  requests: [],\n}\n\nconst initialState = {\n  errors: [\n    {...apiErrors},\n    {\n      type: \"misc\",\n      messages: {},\n      requests: [],\n    },\n  ],\n  events: [],\n  showEvents: true,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case \"messages/ADD_ERROR_MESSAGES\":\n    return {\n      ...state,\n      errors: updateErrors(state, action.payload),\n    }\n  case \"messages/ADD_EVENT\":\n    return {\n      ...state,\n      events: [\n        action.payload,\n        ...state.events,\n      ],\n    }\n  case \"messages/REMOVE_ERROR_MESSAGE\":\n    return {\n      ...state,\n      errors: removeErrors(state, action.payload)\n    }\n  case \"messages/TOGGLE_EVENTS\":\n    return {\n      ...state,\n      showEvents: !state.showEvents,\n    }\n  default:\n    return state\n  }\n}\n\nconst emptyErrorObject = {\n  messages: {},\n  requests: [],\n}\n\nconst updateErrors = (state, payload) => {\n  const { errors } = payload\n  const keysFromState = state.errors.map(err => err.type)\n  const keys = errors.reduce((acc, err) => [...acc, ...Object.keys(err)], [])\n\n  return [...new Set([...keys, ...keysFromState])].map(key => {\n    const error = findOrDefault(state.errors, err => err.type === key, { type: key, ...emptyErrorObject })\n    const payloadError = findOrDefault(errors, err => err.hasOwnProperty(error.type), null)\n\n    if (payloadError === null) {\n      return error\n    } else {\n      const errorTypeMessages = error.messages[payload.status] || []\n      return {\n        ...error,\n        messages: {\n          ...error.messages,\n          [payload.status]: [...new Set([...errorTypeMessages, ...payloadError[error.type]])]\n        },\n        requests: [...error.requests, payload],\n      }\n    }\n  })\n}\n\nconst removeErrors = (state, payload) => {\n  const { errors } = state\n  const { errorMessage, status, type } = payload\n\n  return errors.map(err => {\n    if (err.type === type) {\n      return {\n        ...err,\n        messages: {\n          [status]: err.messages[status].filter(e => e !== errorMessage),\n        },\n      }\n    } else {\n      return err\n    }\n  })\n}\n","const MonthDictionary = (mo) => {\n  switch(parseInt(mo)) {\n  case 1:\n    return { short: \"Jan.\", long: \"January\" }\n  case 2:\n    return { short: \"Feb.\", long: \"February\" }\n  case 3:\n    return { short: \"Mar.\", long: \"March\" }\n  case 4:\n    return { short: \"Apr.\", long: \"April\" }\n  case 5:\n    return { short: \"May\", long: \"May\" }\n  case 6:\n    return { short: \"June\", long: \"June\" }\n  case 7:\n    return { short: \"July\", long: \"July\" }\n  case 8:\n    return { short: \"Aug.\", long: \"August\" }\n  case 9:\n    return { short: \"Sep.\", long: \"September\" }\n  case 10:\n    return { short: \"Oct.\", long: \"October\" }\n  case 11:\n    return { short: \"Nov.\", long: \"November\" }\n  case 12:\n    return { short: \"Dec.\", long: \"December\" }\n  default:\n    return { short: \"\", long: \"\" }\n  }\n}\n\nexport const formatted = ({ month, day, year, format }) => {\n  const monthString = MonthDictionary(month)\n  switch(format) {\n  case \"dateObject\":\n    return new Date(year, (month - 1), day)\n  case \"longMonth\":\n    return monthString.long\n  case \"m/d\":\n    return `${month}/${day}`\n  case \"mm/dd/yyyy\":\n    return [(month < 10 ? \"0\" + month : month), (day < 10 ? \"0\" + day : day), year].join(\"/\")\n  case \"monthYear\":\n    return `${monthString.long} ${year}`\n  case \"numericMonthYear\":\n    return `${month}/${year}`\n  case \"object\":\n    return { month: month, year: year, day: day }\n  case \"shortMonthYear\":\n    return `${monthString.short} ${year}`\n  case \"yyyy-mm-dd\":\n    return [year, (month < 10 ? \"0\" + month : month), (day < 10 ? \"0\" + day : day)].join(\"-\")\n  default:\n    return `${monthString.short} ${day}, ${year}`\n  }\n}\n\nexport const fromDateString = (dateString, opts = { format: \"default\" }) => {\n  const dateElements = dateString.split(\"-\")\n  const month = parseInt(dateElements[1] || 0)\n  const day = parseInt(dateElements[2] || 0)\n  const year = parseInt(dateElements[0] || 1900)\n  return formatted({ month: month, year: year, day: day, format: opts.format })\n}\n\nexport const fromDateTimeObject = (object, opts = { format: \"yyyy-mm-dd\" }) => {\n  const parsed = object.split(\",\")[0].split(\"/\").map(str => parseInt(str))\n  const { month, year, day } = { year: parsed[2], month: parsed[0], day: parsed[1] }\n  return formatted({ month: month, year: year, day: day, format: opts.format })\n}\n\nexport const nextMonth = ({ month, year }) => {\n  if (month === 12) {\n    return { month: 1, year: (year + 1) }\n  } else {\n    return { month: (month + 1), year: year }\n  }\n}\n\nexport const prevMonth = ({ month, year }) => {\n  if (month === 1) {\n    return { month: 12, year: (year - 1) }\n  } else {\n    return { month: (month - 1), year: year }\n  }\n}\n\nexport const isInRange = (dateString, dateRange) => {\n  if (dateString === null) {\n    return false\n  }\n  return onOrAfter(dateString, dateRange[0]) && onOrBefore(dateString, dateRange[1])\n}\n\nconst onOrAfter = (dateString, targetString) => {\n  if (dateString === null) { return false }\n  const object = fromDateString(dateString, { format: \"object\" })\n  const target = fromDateString(targetString, { format: \"object\" })\n  if (object.year > target.year) {\n    return true\n  } else if (object.year < target.year) {\n    return false\n  } else { // in the same year\n    if (object.month > target.month) {\n      return true\n    } else if (object.month < target.month) {\n      return false\n    } else { // in same month/year\n      return object.day >= target.day\n    }\n  }\n}\n\nconst onOrBefore = (dateString, targetString) => {\n  if (dateString === null) { return false }\n  const object = fromDateString(dateString, { format: \"object\" })\n  const target = fromDateString(targetString, { format: \"object\" })\n  if (object.year < target.year) {\n    return true\n  } else if (object.year > target.year) {\n    return false\n  } else { // in the same year\n    if (object.month < target.month) {\n      return true\n    } else if (object.month > target.month) {\n      return false\n    } else { // in same month/year\n      return object.day <= target.day\n    }\n  }\n}\n\nexport const before = (dateString, targetString) => {\n  if (dateString === null) { return false }\n  const object = fromDateString(dateString, { format: \"object\" })\n  const target = fromDateString(targetString, { format: \"object\" })\n  if (object.year < target.year) {\n    return true\n  } else if (object.year > target.year) {\n    return false\n  } else { // in the same year\n    if (object.month < target.month) {\n      return true\n    } else if (object.month > target.month) {\n      return false\n    } else { // in same month/year\n      return object.day < target.day\n    }\n  }\n}\n\nconst simpleObject = (dateObject) => (\n  formatted({\n    year: dateObject.getFullYear(),\n    month: (dateObject.getMonth() + 1),\n    day: dateObject.getDate(),\n    format: \"object\"\n  })\n)\n\nexport const today = (format = \"yyyy-mm-dd\") => {\n  const date = simpleObject(new Date())\n  return formatted({ ...date, format: format })\n}\n\nexport const isToday = (date) => {\n  return JSON.stringify(today(\"object\")) === JSON.stringify(simpleObject(date))\n}\n\nexport default formatted\n","import { before, isInRange } from \"../../functions/DateFormatter\"\nimport findOrDefault from \"../../functions/FindOrDefault\"\nimport objectifyTransaction from \"../../models/transaction\"\n\nexport const createTransaction = (payload, state) => {\n  const { clearance_date } = payload\n  const { include_pending } = state.metadata.query_options\n  const { prior_balance, date_range } = state.metadata\n  const inRange = isInRange(clearance_date, date_range)\n  const newTxn = objectifyTransaction(payload)\n  const collection = ((include_pending && clearance_date === null) || inRange) ? [...state.collection, newTxn] : state.collection\n  const newPrior = before(clearance_date, date_range[0]) ? (prior_balance + newTxn.amount) : prior_balance\n  return {\n    ...state,\n    metadata: {\n      ...state.metadata,\n      prior_balance: newPrior,\n    },\n    collection: collection,\n    budgetItems: {\n      ...state.budgetItems,\n      fetched: false\n    },\n  }\n}\n\nexport const editDetailProps = (txn, newProps) => {\n  const isBudgetInclusion = !txn.budget_exclusion\n\n  const isTarget = (detail) => newProps.detailId === detail.id || newProps.detailId === detail._id\n\n  return {\n    ...txn,\n    details: txn.details.map(detail => {\n      if (isTarget(detail) && isBudgetInclusion) {\n        return {\n          ...detail,\n          updatedProps: {\n            ...detail.updatedProps,\n            ...newProps,\n          }\n        }\n      } else if (isBudgetInclusion) {\n        return detail\n      } else {\n        return {\n          ...detail,\n          updatedProps: {\n            ...detail.updatedProps,\n            ...newProps,\n            budget_item_id: null,\n          }\n        }\n      }\n    })\n  }\n}\n\nexport const editNew = (transaction, newProps) => {\n  const editedNew = { ...transaction, ...newProps }\n  const { budget_exclusion } = editedNew\n\n  if (!budget_exclusion) {\n    return editedNew\n  } else {\n    return {\n      ...editedNew,\n      details: editedNew.details.map(detail => ({ ...detail, budget_item_id: null }))\n    }\n  }\n}\n\nexport const editProps = (transaction, newProps) => {\n  if (!newProps.budget_exclusion) {\n    return {\n      ...transaction,\n      updatedProps: { ...transaction.updatedProps, ...newProps }\n    }\n  } else {\n    return {\n      ...transaction,\n      updatedProps: { ...transaction.updatedProps, ...newProps },\n      details: transaction.details.map(detail => ({ ...detail, budget_item_id: null }))\n    }\n  }\n}\n\nexport const removeDetail = ({ amount, clearance_date, detailId, transactionId, state }) => {\n  const { prior_balance, date_range } = state.metadata\n  const updated = transaction => {\n    const updatedTransaction = {\n      ...transaction,\n      details: transaction.details.filter(detail => detail.id !== detailId)\n    }\n    return objectifyTransaction(updatedTransaction)\n  }\n  const newPrior = before(clearance_date, date_range[0]) ? (prior_balance + amount) : prior_balance\n\n  return {\n    ...state,\n    metadata: {\n      ...state.metadata,\n      prior_balance: newPrior,\n    },\n    collection: state.collection.map(txn => txn.id === transactionId ? updated(txn) : txn),\n  }\n}\n\nexport const toggleEditForm = (id, state) => {\n  const selectedTxn = findOrDefault(state.collection, (txn => txn.id === id), { showForm: true })\n\n  const showForm = !selectedTxn.showForm\n\n  const showFormAttribute = txn => {\n    if (txn.id === id) {\n      return showForm\n    } else if (showForm) {\n      return false\n    } else {\n      return txn.showForm\n    }\n  }\n\n  return {\n    ...state,\n    new: { ...state.new, showForm: (showForm ? false : state.new.showForm) },\n    collection: state.collection.map(txn => (\n      {...txn, showForm: showFormAttribute(txn)}\n    )),\n  }\n\n}\n\nexport const transferCreated = (payload, state) => {\n  const selectedAccountId = state.metadata.query_options.account_id\n  const toTransaction = payload.to_transaction\n  const fromTransaction = payload.from_transaction\n  const toAccountId = toTransaction.account_id\n  const fromAccountId = fromTransaction.account_id\n\n  if (selectedAccountId === undefined || selectedAccountId === null) {\n    return state\n  } else if (toAccountId === parseInt(selectedAccountId)) {\n    return createTransaction(toTransaction, state)\n  } else if (fromAccountId === parseInt(selectedAccountId)) {\n    return createTransaction(fromTransaction, state)\n  } else {\n    return state\n  }\n}\n\nexport const transferDeleted = (payload, state) => {\n  const transferId = payload.id\n\n  return {\n    ...state,\n    collection: state.collection.filter(txn => txn.transfer_id !== transferId)\n  }\n}\n\nexport const updateNewDetail = (payload, state) => {\n  const { budget_exclusion, details } = state.new\n  const { index, attributes } = payload\n  const itemIdFor = (detail) => budget_exclusion ? null : detail.budget_item_id\n  const updatedDetails = details.map((detail, n) => {\n    if (n === index) {\n      return { ...detail, ...attributes, budget_item_id: itemIdFor({ ...detail, ...attributes }) }\n    } else {\n      return { ...detail, budget_item_id: itemIdFor(detail) }\n    }\n  })\n\n  return {\n    ...state,\n    new: {\n      ...state.new,\n      details: updatedDetails,\n    }\n  }\n}\n\nconst updatedCollection = (payload, state) => {\n  const { clearance_date } = payload\n  const { include_pending } = state.metadata.query_options\n  const { date_range } = state.metadata\n  const inRange = isInRange(clearance_date, date_range)\n\n  if ((include_pending && clearance_date === null) || inRange) {\n    return state.collection.map(txn => {\n      if (txn.id !== payload.id) {\n        return txn\n      } else {\n        return { ...txn, ...payload }\n      }\n    })\n  } else {\n    return state.collection.filter(txn => txn.id !== payload.id)\n  }\n}\n\nexport const updatedTransaction = (payload, state) => {\n  const { clearance_date } = payload\n  const { prior_balance, date_range } = state.metadata\n  const newTxn = objectifyTransaction(payload)\n  const collection = updatedCollection(newTxn, state)\n  const newPrior = before(clearance_date, date_range[0]) ? (prior_balance + newTxn.amount) : prior_balance\n  return {\n    ...state,\n    metadata: {\n      ...state.metadata,\n      prior_balance: newPrior,\n    },\n    collection: collection,\n    budgetItems: {\n      ...state.budgetItems,\n      fetched: false\n    },\n  }\n}\n","import objectifyMonthly from \"../models/monthlyBudgetItem\"\nimport objectifyTransaction, { defaultFormOptions } from \"../models/transaction\"\nimport objectifyWeekly from \"../models/weeklyBudgetItem\"\nimport * as helpers from \"./helpers/transactionHelpers\"\n\nconst today = new Date()\n\nconst emptyDetail = {\n  amount: \"\",\n  budget_item_id: null,\n  disabled: false,\n}\n\nconst initialState = {\n  metadata: {\n    date_range: [\"\", \"\"],\n    prior_balance: 0,\n    query_options: {\n      month: (today.getMonth() + 1),\n      year: (today.getFullYear()),\n    },\n  },\n  slug: null,\n  collection: [],\n  budgetItems: {\n    collection: [],\n    fetched: false,\n  },\n  new: {\n    id: null,\n    check_number: \"\",\n    clearance_date: \"\",\n    description: \"\",\n    notes: null,\n    showForm: true,\n    budget_exclusion: false,\n    receipt: null,\n    formOptions: defaultFormOptions,\n    details: [emptyDetail],\n  },\n}\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"budget/ADD_MONTHLY_ITEM\":\n    if (parseInt(state.metadata.query_options.month) === action.payload.month &&\n        parseInt(state.metadata.query_options.year) === action.payload.year) {\n      return {\n        ...state,\n        budgetItems: {\n          ...state.budgetItems,\n          collection: [\n            ...state.budgetItems.collection,\n            objectifyMonthly(action.payload)\n          ]\n        }\n      }\n    } else {\n      return state\n    }\n  case \"budget/ADD_WEEKLY_ITEM\":\n    if (parseInt(state.metadata.query_options.month) === action.payload.month &&\n        parseInt(state.metadata.query_options.year) === action.payload.year) {\n      return {\n        ...state,\n        budgetItems: {\n          ...state.budgetItems,\n          collection: [\n            ...state.budgetItems.collection,\n            objectifyWeekly(action.payload)\n          ]\n        }\n      }\n    } else {\n      return state\n    }\n  case \"budget/UPDATE_MONTHLY_ITEM\":\n    return {\n      ...state,\n      budgetItems: {\n        ...state.budgetItems,\n        fetched: false\n      }\n    }\n  case \"budget/UPDATE_WEEKLY_ITEM\":\n    return {\n      ...state,\n      budgetItems: {\n        ...state.budgetItems,\n        fetched: false\n      }\n    }\n  case \"transactions/ADD_DETAIL_TO_ENTRY\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => {\n        return txn.id !== action.payload.id ? txn : { ...txn, details: [...txn.details, { ...emptyDetail, _id: action.payload.detailId }] }\n      })\n    }\n  case \"transactions/ADD_DETAIL_TO_NEW\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        details: [\n          ...state.new.details,\n          emptyDetail,\n        ]\n      }\n    }\n  case \"budget/categories/MATURITY_INTERVAL_CREATED\":\n    return {\n      ...state,\n      budgetItems: {\n        ...state.budgetItems,\n        fetched: false\n      }\n    }\n  case \"transactions/CREATED\":\n    return helpers.createTransaction(action.payload, state)\n  case \"transactions/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(txn => txn.id !== action.payload.id)\n    }\n  case \"transactions/EDIT\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        txn.id !== action.payload.id ? txn : { ...txn, ...action.payload }\n      ))\n    }\n  case \"transactions/EDIT_FORM_OPTIONS\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        txn.id !== action.payload.id ? txn : { ...txn, formOptions: {...txn.formOptions, ...action.payload } }\n      ))\n    }\n  case \"transactions/EDIT_NEW_FORM_OPTIONS\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        formOptions: {\n          ...state.new.formOptions,\n          ...action.payload,\n        },\n      },\n    }\n  case \"transactions/EDIT_PROPS\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        action.payload.id === txn.id ? helpers.editProps(txn, action.payload) : txn\n      ))\n    }\n  case \"transactions/EDIT_DETAIL_PROPS\":\n    return {\n      ...state,\n      collection: state.collection.map(txn => (\n        txn.id === action.payload.txnId ? helpers.editDetailProps(txn, action.payload) : txn\n      ))\n    }\n  case \"transactions/FETCHED\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        budget_exclusion: false,\n      },\n      metadata: action.payload.metadata,\n      collection: action.payload.transactions.map(txn => objectifyTransaction(txn)),\n      slug: action.payload.slug,\n    }\n  case \"transactions/FETCHED_BUDGET_ITEMS\":\n    return {\n      ...state,\n      budgetItems: {\n        collection: action.payload.collection.map(item => {\n          return item.monthly ? objectifyMonthly(item) : objectifyWeekly(item, { days_remaning: 1, total_days: 30 })\n        }),\n        fetched: true,\n        month: action.payload.metadata.month,\n        year: action.payload.metadata.year,\n      },\n    }\n  case \"transactions/REMOVE_DETAIL\":\n    return helpers.removeDetail({...action.payload, state: state })\n  case \"transactions/REMOVE_NEW_DETAIL\":\n    return {\n      ...state,\n      new: {\n        ...state.new,\n        details: state.new.details.filter((detail, index) => index !== action.payload.index)\n      },\n    }\n  case \"transactions/RESET_NEW\":\n    return {\n      ...state,\n      new: { ...initialState.new, ...action.payload },\n    }\n  case \"transactions/TOGGLE_EDIT_FORM\":\n    return helpers.toggleEditForm(action.payload, state)\n  case \"transactions/TOGGLE_NEW_FORM\":\n    return {\n      ...state,\n      new: { ...state.new, showForm: !state.new.showForm },\n      collection: state.collection.map(txn => (\n        {...txn, showForm: (!state.new.showForm ? false : txn.showForm)}\n      )),\n    }\n  case \"transactions/UPDATE_NEW\":\n    return {\n      ...state,\n      new: helpers.editNew(state.new, action.payload)\n    }\n  case \"transactions/UPDATE_NEW_DETAIL\":\n    return helpers.updateNewDetail(action.payload, state)\n  case \"transactions/UPDATED\":\n    return helpers.updatedTransaction(action.payload, state)\n  case \"transfers/CREATED\":\n    return helpers.transferCreated(action.payload, state)\n  case \"transfers/DELETED\":\n    return helpers.transferDeleted(action.payload, state)\n  default:\n    return state\n  }\n}\n","import objectifyTransaction from \"../models/transaction\"\n\nconst initialNew = {\n  to_account_id: null,\n  from_account_id: null,\n  amount: \"\",\n}\n\nconst initialState = {\n  metadata: {\n    limit: 10,\n    offset: 0,\n    currentPage: 1,\n    viewing: [1, 10],\n    total: 999,\n  },\n  collection: [],\n  fetchedTransfers: false,\n  newTransfer: initialNew,\n}\n\nconst objectifyTransfer = (transfer) => (\n  {\n    ...transfer,\n    to_transaction: objectifyTransaction(transfer.to_transaction),\n    from_transaction: objectifyTransaction(transfer.from_transaction),\n  }\n)\n\nexport default (state = initialState, action) => {\n  switch(action.type) {\n  case \"transfers/CREATED\":\n    return {\n      ...state,\n      collection: [...state.collection, objectifyTransfer(action.payload)],\n      metadata: {\n        ...state.metadata,\n        total: (state.metadata.total + 1),\n        viewing: [state.metadata.viewing[0], (state.metadata.viewing[1] + 1)]\n      },\n      newTransfer: initialNew,\n    }\n  case \"transfers/DELETED\":\n    return {\n      ...state,\n      collection: state.collection.filter(transfer => transfer.id !== action.payload.id),\n      metadata: {\n        ...state.metadata,\n        total: (state.metadata.total - 1),\n        viewing: [state.metadata.viewing[0], (state.metadata.viewing[1] - 1)]\n      },\n    }\n  case \"transfers/FETCHED\":\n    return {\n      ...state,\n      collection: action.payload.transfers.map(transfer => (\n        objectifyTransfer(transfer)\n      )),\n      fetchedTransfers: true,\n      metadata: {\n        ...state.metadata,\n        ...action.payload.metadata,\n      }\n    }\n  case \"transfers/UPDATE_NEW\":\n    return {\n      ...state,\n      newTransfer: {\n        ...state.newTransfer,\n        ...action.payload\n      }\n    }\n  case \"transfers/UPDATE_PAGE\":\n    return {\n      ...state,\n      fetchedTransfers: false,\n      metadata: {\n        ...state.metadata,\n        currentPage: action.payload.currentPage,\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { createStore, combineReducers } from \"redux\"\n\nimport accountsReducer from \"./reducers/accounts\"\nimport apiReducer from \"./components/Api/reducer\"\nimport budgetReducer from \"./reducers/budget\"\nimport iconsReducer from \"./reducers/icons\"\nimport messageReducer from \"./components/Messages/reducer\"\nimport transactionsReducer from \"./reducers/transactions\"\nimport transfersReducer from \"./reducers/transfers\"\n\nconst store = createStore(\n  combineReducers({\n    accounts: accountsReducer,\n    api: apiReducer,\n    budget: budgetReducer,\n    icons: iconsReducer,\n    messages: messageReducer,\n    transactions: transactionsReducer,\n    transfers: transfersReducer,\n  }),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n)\n\nexport const { dispatch, getState } = store\n\nexport default store\n","export const editReviewItem = (updatedItem, collection) => {\n  return collection.map(item =>\n    item.id !== updatedItem.id ? item : { ...item, ...updatedItem }\n  )\n}\n","export const created = (newAccount) => {\n  return { type: \"accounts/CREATED\", payload: newAccount }\n}\n\nexport const deleted = (payload) => {\n  return { type: \"accounts/DELETED\", payload: payload }\n}\n\nexport const fetched = (accounts) => {\n  return { type: \"accounts/FETCHED\", payload: accounts }\n}\n\nexport const resetAccount = (payload) => {\n  return { type: \"accounts/RESET\", payload: payload }\n}\n\nexport const resetForm = () => {\n  return { type: \"accounts/RESET_FORM\", payload: null }\n}\n\nexport const toggleShowNewForm = ({ showForm }) => {\n  return { type: \"accounts/TOGGLE_SHOW_NEW_FORM\", payload: showForm }\n}\n\nexport const update = (payload) => {\n  return { type: \"accounts/UPDATE\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"accounts/UPDATED\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"accounts/UPDATE_NEW\", payload: payload }\n}\n\nexport const updateProps = (payload) => {\n  return { type: \"accounts/UPDATE_PROPS\", payload: payload }\n}\n","const IP_ADDRESS = \"http://localhost\"\nconst PORT = \"8128\"\nconst API_URL = `${IP_ADDRESS}:${PORT}`\nexport default API_URL\n","import API_URL from \"../constants/Api\"\n\nimport { getState } from \"../store\"\n\nconst ApiUrlBuilder = (options = {}) => {\n  const { route } = options\n  const state = getState()\n  const query = { ...options.query, key: state.api.key }\n  const path = pathTo(route, options)\n  const queryParams = Object\n    .entries(query)\n    .map(arr => arr.join(\"=\"))\n    .join(\"&\")\n  const queryString = queryParams === \"\" ? \"\" : `?${queryParams}`\n\n  return `${API_URL}/${path}${queryString}`\n}\n\nconst pathTo = (route, options) => {\n  switch(route) {\n  case \"accounts-index\":\n    return \"api/accounts\"\n  case \"account-show\":\n    return `api/accounts/${options.id}`\n  case \"budget-categories-index\":\n    return \"api/budget/categories\"\n  case \"budget-category-show\":\n    return `api/budget/categories/${options.id}`\n  case \"budget-category-items-index\":\n    return `api/budget/categories/${options.id}/items`\n  case \"budget-category-maturity-intervals-index\":\n    return `api/budget/categories/${options.budgetCategoryId}/maturity_intervals`\n  case \"budget-category-maturity-interval-show\":\n    return `api/budget/categories/${options.budgetCategoryId}/maturity_intervals/${options.id}`\n  case \"budget-items-index\":\n    return \"api/budget/items\"\n  case \"budget-items-events-index\":\n    return \"api/budget/items/events\"\n  case \"budget-item-show\":\n    return `api/budget/categories/${options.budgetCategoryId}/items/${options.id}`\n  case \"budget-item-events-index\":\n    return `api/budget/categories/${options.budgetCategoryId}/items/${options.id}/events`\n  case \"budget-item-transactions-index\":\n    return `api/budget/categories/${options.budgetCategoryId}/items/${options.id}/transactions`\n  case \"discretionary-transactions-index\":\n    return \"api/budget/discretionary/transactions\"\n  case \"icons-index\":\n    return \"api/icons\"\n  case \"icon-show\":\n    return `api/icons/${options.id}`\n  case \"interval-show\":\n    return `api/intervals/${options.month}/${options.year}`\n  case \"transactions-index\":\n    return `api/accounts/${options.accountId}/transactions`\n  case \"transaction-show\":\n    return `api/accounts/${options.accountId}/transactions/${options.id}`\n  case \"transfers-index\":\n    return \"api/transfers\"\n  case \"transfer-show\":\n    return `api/transfers/${options.id}`\n  default:\n    return \"api\"\n  }\n}\n\nexport default ApiUrlBuilder\n","export const addErrorMessages = error => ({ type: \"messages/ADD_ERROR_MESSAGES\", payload: error })\n\nexport const addEvent = event => ({ type: \"messages/ADD_EVENT\", payload: event })\n\nexport const removeErrorMessage = errorMessage => ({ type: \"messages/REMOVE_ERROR_MESSAGE\", payload: errorMessage })\n\nexport const toggleEvents = () => ({ type: \"messages/TOGGLE_EVENTS\", payload: null })\n","export const apiKeyEdited = apiKey => (\n  { type: \"api/KEY_EDITED\", payload: { key: apiKey } }\n)\n\nexport const apiKeyUpdated = apiKey => (\n  { type: \"api/KEY_UPDATED\", payload: { key: apiKey } }\n)\n\nexport const apiStatusUpdated = ({ status }) => (\n  { type: \"api/STATUS_UPDATED\", payload: { status: status } }\n)\n","import { addErrorMessages, addEvent } from \"../components/Messages/actions\"\nimport { apiStatusUpdated } from \"../components/Api/actions\"\n\nimport { dispatch } from \"../store\"\n\nconst defaultOnFailure = (data, { body, status, url }) => {\n  const action = addErrorMessages({\n    requestBody: body,\n    errors: data.errors,\n    status: status,\n    url: url,\n  })\n  dispatch(action)\n}\n\nexport const get = (url, onSuccess, onFailure) => {\n  const context = { verb: \"GET\", url: url, onSuccess: onSuccess, onFailure: onFailure, body: {} }\n  fetch(url)\n    .then(response => responseHandler(response, context))\n}\n\nexport const deleteRequest = (url, event, onSuccess) => {\n  const context = { verb: \"DELETE\", url: url, onSuccess: onSuccess, onFailure: defaultOnFailure, body: {} }\n  fetch(url, { method: \"delete\" })\n    .then(response => responseHandler(response, context, event))\n}\n\nexport const post = (url, body, context) => {\n  call(url, \"POST\", body, { event: () => \"\", ...context})\n}\n\nexport const put = (url, body, context) => {\n  call(url, \"PUT\", body, context)\n}\n\nconst call = (url, verb, body, { onSuccess, onFailure, event }) => {\n  const context = {\n    body: body,\n    onSuccess: onSuccess,\n    onFailure: (onFailure || defaultOnFailure),\n    url: url,\n    verb: verb,\n  }\n\n  fetch(url, {\n    method: verb,\n    body: body,\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then(response => responseHandler(response, context, event))\n}\n\nconst responseHandler = (response, context, event) => {\n  const { body, onSuccess, onFailure, url } = context\n\n  if (response.status === 401 || response.status === 404) {\n    response.json()\n      .then(data => {\n        dispatch(apiStatusUpdated({ status: response.status }))\n        defaultOnFailure(data, { body: body, status: response.status, url: url })\n      })\n  } else if (!response.ok) {\n    response.json()\n      .then(data => {\n        dispatch(apiStatusUpdated({ status: response.status }))\n        onFailure(data, { body: body, status: response.status, url: url })\n      })\n  } else if (response.status === 204) {\n    response.text()\n      .then(() => {\n        onSuccess()\n        dispatch(addEvent(event()))\n      })\n  } else {\n    response.json()\n      .then(data => {\n        onSuccess(data)\n        if (context.verb !== \"GET\") {\n          dispatch(addEvent(event(data)))\n        }\n        dispatch(apiStatusUpdated({ status: response.status }))\n      })\n  }\n}\n","export const overrides = {\n  discretionary: {\n  }\n}\n","import { terms as termsContent } from \"./en/terms\"\nimport { terms as termsOverrides } from \"./overrides/terms\"\n\nexport const terms = {\n  ...termsContent,\n  ...termsOverrides,\n}\n","export const terms = {\n  accounts: \"Accounts\",\n  apiKey: \"api key\",\n  appName: \"Checkbook & Budget\",\n  budget: \"Budget\",\n}\n","export const terms = {\n}\n","import { account as accountContent } from \"./en/account\"\nimport {\n  discretionary as discretionaryContent,\n  eventLabels as eventLabelsContent,\n  finalize as finalizeContent,\n  icon as iconContent,\n  item as itemContent,\n  category as budgetCategoryContent,\n  maturityInterval as maturityIntervalContent,\n  menu as menuContent,\n  setup as setupContent,\n  shared as sharedContent,\n} from \"./en/budget\"\nimport { errors as errorsContent } from \"./en/errors\"\nimport { overrides } from \"./overrides/copy\"\nimport { terms as termsContent } from \"./terms\"\nimport { transfer as transferContent } from \"./en/transfer\"\nimport { transaction as transactionContent } from \"./en/transaction\"\n\nexport const account = {\n  ...accountContent,\n  ...overrides.account,\n}\n\nexport const budget = {\n  category: {\n    ...budgetCategoryContent,\n    ...overrides.budgetCategory,\n  },\n  discretionary: {\n    ...discretionaryContent,\n    ...overrides.discretionary,\n  },\n  eventLabels: {\n    ...eventLabelsContent,\n    ...overrides.eventLabels,\n  },\n  finalize: {\n    ...finalizeContent,\n    ...overrides.finalize,\n  },\n  icon: {\n    ...iconContent,\n    ...overrides.icon,\n  },\n  item: {\n    ...itemContent,\n    ...overrides.item,\n  },\n  maturityInterval: {\n    ...maturityIntervalContent,\n    ...overrides.maturityInterval,\n  },\n  menu: {\n    ...menuContent,\n    ...overrides.menu,\n  },\n  setup: {\n    ...setupContent,\n    ...overrides.setup,\n  },\n  shared: {\n    ...sharedContent,\n    ...overrides.shared,\n  }\n}\n\nexport const errors = {\n  ...errorsContent,\n  ...overrides.errors,\n}\n\nexport const icon = {\n  icons: \"icons\"\n}\n\nexport const transfer = {\n  ...transferContent,\n  ...overrides.transfer,\n}\n\nexport const transaction = {\n  ...transactionContent,\n  ...overrides.transaction,\n}\n\nexport const terms = termsContent\n","export const account = {\n  account: \"account\",\n  balance: \"Balance\",\n  cancelButtonText: \"cancel\",\n  cashFlow: \"cash flow\",\n  createButtonText: \"create account\",\n  deleteButtonText: \"delete\",\n  deleteConfirmationMessage: (name) => `Do you really want to delete ${name} account?`,\n  manageLinkText: \"manage accounts\",\n  name: \"Name\",\n  nonCashFlow: \"non cash flow\",\n  priority: \"Priority\",\n  resetButtonText: \"reset\",\n  slugLabel: \"short name (slug)\",\n  transferLinkText: \"inter-account transfers\",\n  updateButtonText: \"update account\",\n}\n","export const category = {\n  accrual: \"accrual\",\n  accruals: \"accruals\",\n  accruing: \"accruing\",\n  addNew: \"add new\",\n  all: \"all\",\n  cancelButtonText: \"Cancel\",\n  categories: \"categories\",\n  closeButtonText: \"Close\",\n  createButtonText: \"create\",\n  defaultAmount: \"default amount\",\n  deleteConfirmMessage: (name) => `Are you sure you want to delete ${name}?`,\n  details: \"details\",\n  editSlashDelete: \"edit/delete\",\n  expense: \"expense\",\n  expenses: \"expenses\",\n  filters: \"filters\",\n  frequency: \"frequency\",\n  icon: \"icon\",\n  monthly: \"monthly\",\n  name: \"name\",\n  resetButtonText: \"reset\",\n  revenue: \"revenue\",\n  revenues: \"revenues\",\n  searchLabelText: \"category name\",\n  searchPlaceholder: \"search\",\n  slug: \"slug\",\n  title: \"budget categories\",\n  type: \"type\",\n  updateButtonText: \"update\",\n  weekly: \"day-to-day\",\n}\n\nexport const discretionary = {\n  aheadOfBudget: \"Ahead of Budget\",\n  overBudget: \"Over Budget\",\n  title: \"discretionary\",\n}\n\nexport const eventLabels = {\n  item_create: \"Item Create\",\n  item_adjust: \"Item Adjust\",\n  item_delete: \"Item Delete\",\n  legacy_item_create: \"Legacy Item Create\",\n  pre_setup_item_create: \"Pre-setup Item Create\",\n  rollover_item_adjust: \"Rollover Item Adjust\",\n  rollover_item_create: \"Rollover Item Create\",\n  setup_item_adjust: \"Setup Item Adjust\",\n  setup_item_create: \"Setup Item Create\",\n}\n\nexport const finalize = {\n  appliedToExtra: \"To Be Applied to Extra\",\n  applyToExtra: \"Apply All to Extra\",\n  budgetedFor: (date) => `Budgeted for ${date}`,\n  carryOver: \"carry over\",\n  carryOverFrom: (dateString) => `Amount to carry over from ${dateString}`,\n  createItem: \"create item\",\n  depositExtra: \"deposit extra\",\n  depositMessage: (dateString) => `Extra from ${dateString}`,\n  disregard: \"disregard\",\n  exceedsOriginalAmount: \"Cannot be greater than original amount\",\n  extra: \"extra\",\n  negativeRevenueErrorMessage: \"Cannot be less than zero for an expense\",\n  positiveExpenseErrorMessage: \"Cannot be greater than zero for an expense\",\n  remainingIn: (date) => `Remaining in ${date}`,\n  revealNextItems: (itemCount) => `Apply to item${itemCount === 1 ? \"\" : \"s\"}`,\n  rollOver: \"roll over\",\n  selectFromAccount: \"Select Account to Withdraw From\",\n  selectToAccount: \"Select Account to Receive Payment\",\n  submitAccrualButtonText: \"update accruals\",\n  summary: \"summary\",\n  title: \"finalize\",\n  updatedAmountFor: (dateString) => `Updated Amount For ${dateString}`,\n}\n\nexport const icon = {\n  cancelButtonText: \"cancel\",\n  className: \"class name\",\n  createButtonText: \"create\",\n  deleteConfirmationMessage: (name) => `Are you sure you want to delete ${name}?`,\n  name: \"name\",\n  preview: \"preview\",\n  resetButtonText: \"reset\",\n  updateButtonText: \"update\",\n}\n\nexport const item = {\n  account: \"account\",\n  amount: \"amount\",\n  budgeted: \"budgeted\",\n  cleared: \"cleared\",\n  createButtonText: \"create\",\n  date: \"date\",\n  deleteConfirmationMessage: (name, date) => `Are you sure you want to delete ${name} for ${date}?`,\n  description: \"description\",\n  items: \"items\",\n  perDay: \"per day\",\n  perWeek: \"per week\",\n  spent: \"spent\",\n}\n\nexport const maturityInterval = {\n  deleteConfirmMessage: \"Are you sure you want to delete this maturity interval?\",\n  options: [\n    { label: \"January\", value: 1 },\n    { label: \"February\", value: 2 },\n    { label: \"March\", value: 3 },\n    { label: \"April\", value: 4 },\n    { label: \"May\", value: 5 },\n    { label: \"June\", value: 6 },\n    { label: \"July\", value: 7 },\n    { label: \"August\", value: 8 },\n    { label: \"September\", value: 9 },\n    { label: \"October\", value: 10 },\n    { label: \"November\", value: 11 },\n    { label: \"December\", value: 12 },\n  ],\n  title: \"maturity intervals\",\n  year: \"year\",\n}\n\nexport const menu = {\n  hide: \"hide\",\n  finalizeLinkText:  (monthString) => `Finalize ${monthString}`,\n  order: \"order\",\n  setUpLinkText: (dateString) => `Set up ${dateString}`,\n  show: \"show\",\n  title: \"budget admin\",\n}\n\nexport const setup = {\n  additional: \"additional\",\n  accrualButtonText: \"include selected\",\n  accruingExpenses: \"accruing expenses\",\n  alreadyIncluded: (amount, name, newMonth) => `You already included ${amount} for ${name} in ${newMonth}'s budget.`,\n  amountToInclude: \"Amount to include\",\n  howMuchToInclude: (newMonthString) => `How much to include in ${newMonthString}?`,\n  howMuchAdditional: \"How much additional to include?\",\n  ignore: \"don't include\",\n  include: \"include\",\n  nOfTotal: (number, count) => `${number} of ${count}`,\n  markCompleteText: \"mark setup complete\",\n  requeue: \"requeue\",\n}\n\nexport const shared = {\n  deposited: \"deposited\",\n  difference: \"difference\",\n  in: \"in\",\n  minus: \"-\",\n  plus: \"+\",\n  remaining: \"remaining\",\n  spent: \"spent\",\n  total: \"total\",\n}\n","export const errors = {\n  error: \"error\",\n  errors: \"errors\",\n}\n","export const transfer = {\n  deleteConfirmationMessage: \"Are you sure you want to delete this transfer?\",\n  ellipsis: \" ... \",\n  first: \"first\",\n  from: \"from\",\n  last: \"last\",\n  next: \"next\",\n  previous: \"previous\",\n  iOfN: (range, total) => `Viewing ${range[0]} - ${range[1]} of ${total}`,\n  title: \"recent transfers\",\n  to: \"to\",\n}\n","export const transaction = {\n  account: \"account\",\n  addDetail: \"add detail\",\n  addNewButtonText: \"Add New Transaction\",\n  amount: \"amount\",\n  budgetExclusion: \"budget exclusion\",\n  check: \"check\",\n  checkNumberPlaceholder: \"check #\",\n  clearanceDate: \"clearance date\",\n  dateRange: (start, end) => `${start} to ${end}`,\n  date: \"date\",\n  deleteConfirmationMessage: \"Are you sure you want to delete this transaction?\",\n  deleteDetailConfirmationMessage: \"Are you sure you want to delete this transaction detail?\",\n  description: \"description\",\n  notes: \"notes\",\n  pending: \"pending\",\n  title: \"transactions\",\n  todayButtonText: \"today\",\n  updateButtonText: \"update transaction\",\n}\n","const upperCase = [\n  \"api\",\n]\n\nexport const titleize = (string) => {\n  if (upperCase.includes(string)) {\n    return capLocked(string)\n  } else {\n    const words = string.split(/(\\s|-|\\/)/)\n    return words.map(word =>\n      word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\n    ).join(\"\")\n  }\n}\n\nconst capLocked = string => string.toUpperCase()\n","import React from \"react\"\n\nimport { account as accountCopy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default () => (\n  <div className=\"transfers-link\">\n    <h3>\n      <Link to=\"/accounts/transfers\">\n        {titleize(accountCopy.transferLinkText)}\n        {\" \"}\n        <i className=\"fas fa-exchange-alt\" />\n      </Link>\n    </h3>\n  </div>\n)\n","import React from \"react\"\n\nimport { account as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default () => (\n  <div className=\"transactions\">\n    <h3>\n      <Link to=\"/accounts/index\">\n        {titleize(copy.manageLinkText)}\n      </Link>\n    </h3>\n  </div>\n)\n","export const addDetailToEntry = (payload) => (\n  {\n    type: \"transactions/ADD_DETAIL_TO_ENTRY\",\n    payload: payload,\n  }\n)\n\nexport const addDetailToNew = () => {\n  return { type: \"transactions/ADD_DETAIL_TO_NEW\", payload: null }\n}\nexport const created = (payload) => {\n  return { type: \"transactions/CREATED\", payload: payload }\n}\n\nexport const deleteTransaction = (payload) => {\n  return { type: \"transactions/DELETED\", payload: payload }\n}\n\nexport const edit = (payload) => {\n  return { type: \"transactions/EDIT\", payload: payload }\n}\n\nexport const editDetailProps = (payload) => {\n  return { type: \"transactions/EDIT_DETAIL_PROPS\", payload: payload }\n}\n\nexport const editFormOptions = (payload) => (\n  { type: \"transactions/EDIT_FORM_OPTIONS\", payload: payload }\n)\n\nexport const editNewFormOptions = (payload) => (\n  { type: \"transactions/EDIT_NEW_FORM_OPTIONS\", payload: payload }\n)\n\nexport const editProps = (payload) => {\n  return { type: \"transactions/EDIT_PROPS\", payload: payload }\n}\n\nexport const fetchedTransactions = (response) => {\n  return { type: \"transactions/FETCHED\", payload: response }\n}\n\nexport const fetchedBudgetItems = (response) => {\n  return { type: \"transactions/FETCHED_BUDGET_ITEMS\", payload: response }\n}\n\nexport const resetNew = (payload) => {\n  return { type: \"transactions/RESET_NEW\", payload: payload }\n}\n\nexport const removeDetail = (payload) => (\n  { type: \"transactions/REMOVE_DETAIL\", payload: payload }\n)\n\nexport const removeNewDetail = (payload) => (\n  { type: \"transactions/REMOVE_NEW_DETAIL\", payload: payload }\n)\n\nexport const toggleEditForm = ({ id }) => (\n  { type: \"transactions/TOGGLE_EDIT_FORM\", payload: id }\n)\n\nexport const toggleNewForm = () => (\n  { type: \"transactions/TOGGLE_NEW_FORM\", payload: null }\n)\n\nexport const updateNew = (payload) => {\n  return { type: \"transactions/UPDATE_NEW\", payload: payload }\n}\n\nexport const updateNewDetail = (payload) => {\n  return { type: \"transactions/UPDATE_NEW_DETAIL\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"transactions/UPDATED\", payload: payload }\n}\n","import React from \"react\"\n\nconst Icon = (props) => {\n  if (props.icon_class_name === null) {\n    return (<span></span>)\n  } else {\n    return (\n      <span>\n        <i className={props.className}></i>\n      </span>\n    )\n  }\n}\n\nexport default Icon\n","const MoneyFormatter = (number, opts = { absolute: false, toFloat: false }) => {\n  if (number === null) {\n    return \"\"\n  } else if (opts.toFloat) {\n    const num = opts.absolute ? Math.abs(number) : number\n    return parseFloat(num / 100.0).toFixed(2)\n  } else {\n    const num = opts.absolute ? Math.abs(number) : number\n    return \"$\" + (num / 100.0).toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n  }\n}\n\nexport const decimalToInt = (amount) => {\n  return Math.round(parseFloat(amount) * 100)\n}\n\nexport default MoneyFormatter\n","import MoneyFormatter from \"./MoneyFormatter\"\n\nconst EventMessageBuilder = (options = {}) => eventMapper(options.eventType, options)\n\nconst eventMapper = (eventType, options) => {\n  switch(eventType) {\n  case \"account-create\":\n    return accountCreate\n  case \"account-delete\":\n    return accountDelete(options)\n  case \"account-update\":\n    return accountUpdate(options)\n  case \"budget-category-create\":\n    return budgetCategoryCreate\n  case \"budget-category-delete\":\n    return budgetCategoryDelete(options)\n  case \"budget-category-maturity-interval-create\":\n    return budgetCategoryMaturityIntervalCreate\n  case \"budget-category-maturity-interval-delete\":\n    return budgetCategoryMaturityIntervalDelete(options)\n  case \"budget-category-update\":\n    return budgetCategoryUpdate(options)\n  case \"budget-item-create\":\n    return budgetItemCreate\n  case \"budget-item-delete\":\n    return budgetItemDelete(options)\n  case \"budget-item-update\":\n    return budgetItemUpdate(options)\n  case \"icon-create\":\n    return iconCreate\n  case \"icon-delete\":\n    return iconDelete(options)\n  case \"icon-update\":\n    return iconUpdate(options)\n  case \"interval-closed\":\n    return intervalClosed(options)\n  case \"interval-mark-complete\":\n    return intervalMarkComplete(options)\n  case \"maturity-interval-update\":\n    return maturityIntervalUpdate(options)\n  case \"transaction-detail-delete\":\n    return transactionDetailDelete(options)\n  case \"transaction-entry-create\":\n    return transactionEntryCreate(options)\n  case \"transaction-entry-delete\":\n    return transactionEntryDelete(options)\n  case \"transaction-entry-update\":\n    return transactionEntryUpdate(options)\n  case \"transfer-create\":\n    return transferCreate(options)\n  case \"transfer-delete\":\n    return transferDelete(options)\n  default:\n    throw new Error(`unknown/unmapped event type ${eventType}`)\n  }\n}\n\nconst accountCreate = ({ id, name, cash_flow, priority }) =>\n  `account created (id: ${id}) \"${name}\" cash flow is ${cash_flow}, priority: ${priority}`\n\nconst accountDelete = ({ id, name }) => () => `account (id: ${id}) \"${name}\" deleted`\n\nconst accountUpdate = ({ id, name, changedProps }) =>\n  () => `account (id: ${id}, name: \"${name}\") updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst budgetCategoryCreate = ({ id, accrual, default_amount, expense, name }) => {\n  let message = `budget category (id: ${id}) \"${name} created `\n  message += `with default amount ${default_amount} ${expense ? \"expense\" : \"revenue\"} ${accrual ? \"and is an accural\" : \"\"}`\n  return message\n}\n\nconst budgetCategoryDelete = ({ id, name }) => () => `budget category (id: ${id}, name: \"${name}\") deleted`\n\nconst budgetCategoryUpdate = ({ id, name, changedProps }) =>\n  () => `budget category (id: ${id}, name: \"${name}\") updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst budgetCategoryMaturityIntervalCreate = ({ id, budget_category_id, month, year }) =>\n  `maturity interval (id: ${id}) for budget category id: ${budget_category_id} ${month}/${year} created`\n\nconst budgetCategoryMaturityIntervalDelete = ({ categoryId, month, year }) =>\n  () => `maturity interval for budget category id: ${categoryId} ${month}/${year} deleted`\n\nconst budgetItemCreate = ({ item }) => {\n  const { id, amount, name, month, year } = item\n  return `budget item (id: ${id})  created for ${name} (${month}/${year}), amount: ${MoneyFormatter(amount)}`\n}\n\nconst budgetItemDelete = ({ id, category, month, year }) =>\n  () => `budget item (id: ${id}) for ${category} (${month}/${year}) was deleted`\n\nconst budgetItemUpdate = ({ id, category, month, year, originalAmount, newAmount }) =>\n  () => `budget item (id: ${id}) for ${category} (${month}/${year}) was adjusted from ${MoneyFormatter(originalAmount * 100)} to ${MoneyFormatter(newAmount * 100)}`\n\nconst iconCreate = ({ id, name, class_name }) => `icon created (id: ${id}) name: ${name}, class-name: ${class_name} created`\n\nconst iconDelete = () => ({ id, name }) => `icon (id: ${id}, name: \"${name}\") deleted`\n\nconst iconUpdate = ({ id, changedProps }) => () => `icon (id: ${id}) updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst intervalClosed = ({ closeOutCompletedAt, month, year })  =>\n  () => `interval: ${month}/${year} marked closed at ${closeOutCompletedAt}`\n\nconst intervalMarkComplete = ({ month, set_up_completed_at, year }) =>\n  () => `interval: ${month}/${year} set up marked complete at ${set_up_completed_at}`\n\nconst maturityIntervalUpdate = ({ id, changedProps, name }) =>\n  () => `maturity interval (id: ${id}, category: \"${name}\") updated: ${changedStrings(changedProps).join(\", and \")}`\n\nconst transactionDetailDelete = ({ id, amount, budgetCategory, budgetItemId, entryId }) =>\n  () => `transaction detail (id: ${id}) for entry (id: ${entryId}) removed. Amount was: ${amount}, belonging to budget item ${budgetItemId} (${budgetCategory})`\n\nconst detailTemplate = ({ id, amount, budget_category }) => `(${id}): budget category: ${budget_category}, amount: ${MoneyFormatter(amount)}`\n\nconst transactionEntryDelete = ({ id, details }) => () => `transaction entry (id: ${id}) deleted. Details: ${details.map(detailTemplate).join(\"; \")}`\n\nconst transactionEntryCreate = ({ accountName }) =>\n  ({ id, description, details }) =>\n    `transaction entry (id: ${id}) created for ${accountName} ${description || \"\"}. Details: ${details.map(detailTemplate).join(\"; \")}`\n\nconst transactionEntryUpdate = ({ id, changedProps, details }) => (\n  () => {\n    let message = `transaction entry (id: ${id}) was updated: ${changedStrings(changedProps).join(\", and \")}`\n    message += details.reduce((array, detail) => {\n      if (Object.keys(detail.changedProps).length === 0) {\n        return array\n      } else {\n        return [...array, ` detail (id: ${detail.id}) updated: ${changedStrings(detail.changedProps)}.`]\n      }\n    }, []).join(\" And\")\n    return message\n  }\n)\n\nconst transferCreate = ({ fromAccount, toAccount, amount }) =>\n  ({ id }) => `transfer (id: ${id}) created from: ${fromAccount} to: ${toAccount} amount: ${MoneyFormatter(amount)}`\n\nconst transferDelete = ({ id, amount, fromAccountId, toAccountId }) =>\n  () => `transfer (id: ${id}) deleted. From account: ${fromAccountId}, to account: ${toAccountId}, amount: ${amount}`\n\nconst changedStrings = changedProps => (\n  Object.keys(changedProps).map(key =>\n    `${key.toUpperCase()} was changed from ${changedProps[key].originalValue} to ${changedProps[key].updatedValue}`\n  )\n)\n\nexport const changedProps = (props, updatedProps) => (\n  Object.keys(updatedProps).reduce((object, key) => {\n    if (props[key] === updatedProps[key]) {\n      return object\n    } else if (key === \"amount\") {\n      const tuple = { originalValue: MoneyFormatter(props[key]), updatedValue: MoneyFormatter(updatedProps[key]) }\n      return { ...object, [key]: tuple }\n    } else {\n      const tuple = { originalValue: props[key], updatedValue: updatedProps[key] }\n      return { ...object, [key]: tuple }\n    }\n  }, {})\n)\n\nexport default EventMessageBuilder\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default ({ budget_exclusion, formOptions, onChange, selectedAccount, toggleFormOption }) => {\n  const update = () => {\n    onChange({ budget_exclusion: !budget_exclusion })\n  }\n\n  if (selectedAccount.cash_flow === true || !formOptions.showBudgetExclusion) {\n    return null\n  } else {\n    return (\n      <div className=\"option-input\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showBudgetExclusion\" className=\"fas fa-exclamation\" />\n        <div className=\"form-budget-exclusion\">\n          <div className=\"label\">\n            {titleize(copy.budgetExclusion)}\n          </div>\n          <div className=\"input\">\n            <input\n              type=\"checkbox\"\n              value={budget_exclusion || false}\n              onChange={update}\n              checked={budget_exclusion ? \"checked\" : \"\"}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ formOptions, check_number, onChange, toggleFormOption }) => {\n  const update = (e) => {\n    onChange({ check_number: e.target.value })\n  }\n\n  if (formOptions.showCheck) {\n    return(\n      <div className=\"option-input check-number\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showCheck\" className=\"fas fa-money-check\" />&nbsp;\n        <input\n          type=\"text\"\n          name=\"check_number\"\n          value={check_number}\n          onChange={update}\n          placeholder={copy.checkNumberPlaceholder}\n        />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport \"react-datepicker/dist/react-datepicker.css\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport DatePicker from \"react-datepicker\"\n\nimport { formatted, fromDateString, fromDateTimeObject } from \"../../../functions/DateFormatter\"\n\nconst ClearanceDate = ({ clearanceDate, month, onChange, year }) => {\n  const update = (e) => {\n    const val = e === null ? \"\" : fromDateTimeObject(e.toLocaleString())\n    onChange({ clearance_date: val })\n  }\n\n  const selected = () => {\n    if (clearanceDate) {\n      return fromDateString(clearanceDate, { format: \"dateObject\" })\n    } else {\n      return \"\"\n    }\n  }\n\n  const openToDate = () => {\n    if (clearanceDate) {\n      return selected()\n    } else {\n      const today = new Date()\n      if ((today.getMonth() + 1) === month && today.getFullYear() === year) {\n        return formatted({ month: month, day: today.getDate(), year: year, format: \"dateObject\" })\n      } else {\n        if (year > today.getFullYear() || (year === today.getFullYear() && month > (today.getMonth() + 1))) { // future\n          return formatted({ month: month, day: 1, year: year, format: \"dateObject\" })\n        } else {\n          return formatted({ month: (month + 1), day: 0, year: year, format: \"dateObject\" })\n        }\n      }\n    }\n  }\n\n  const options = {\n    openToDate: openToDate(),\n    selected: selected(),\n  }\n\n  return (\n    <div className=\"clearance-date\">\n      <DatePicker\n        onChange={update}\n        {...options}\n        placeholderText={copy.clearanceDate}\n        todayButton={titleize(copy.todayButtonText)}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { month, year } = state.transactions.metadata.query_options\n\n  return {\n    ...ownProps,\n    month: parseInt(month),\n    year: parseInt(year),\n  }\n}\n\nexport default connect(mapStateToProps)(ClearanceDate)\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default ({ description, handleKeyDown, onChange }) => {\n  const update = (e) => {\n    onChange({ [e.target.name]: e.target.value })\n  }\n\n  return (\n    <div className=\"description\">\n      <input\n        type=\"text\"\n        name=\"description\"\n        placeholder={copy.description}\n        onChange={update}\n        onKeyDown={handleKeyDown}\n        value={description || \"\"}\n      />\n    </div>\n  )\n}\n","const equationRegexp = /\\s*(-?\\d*\\.?\\d?\\d)\\s*([-+/*])\\s*(\\d*(\\.\\d+)?)\\s*/\n\nconst evaluateInput = inputAmount => {\n  const match = inputAmount.match(equationRegexp)\n\n  if (match === null) {\n    return inputAmount\n  } else {\n    const operator = match[2]\n    const num1 = parseFloat(match[1])\n    const num2 = parseFloat(match[3])\n    return operate(operator, num1, num2).toFixed(2)\n  }\n}\n\nconst operate = (operator, num1, num2) => {\n  switch(operator) {\n  case \"+\":\n    return num1 + num2\n  case \"-\":\n    return num1 - num2\n  case \"*\":\n    return num1 * num2\n  case \"/\":\n    return num1 / num2\n  default:\n    throw new Error(\"unknown operator\")\n  }\n}\n\nexport default evaluateInput\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\n\nexport default ({ index, detail, onDetailChange, onKeyDown }) => {\n  const onChange = (e) => {\n    onDetailChange(_id, { amount: e.target.value })\n  }\n\n  const onCalculate = () => {\n    onDetailChange(_id, { amount: EvaluateInput(amount) })\n  }\n\n  const {\n    id,\n    amount,\n    disabled,\n  } = detail\n\n  const _id = id || index\n\n  return (\n    <div className=\"detail-amount\">\n      <input\n        type=\"text\"\n        name={`detail[${_id}][amount]`}\n        disabled={disabled}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        placeholder={copy.amount}\n        value={amount}\n      />\n      <div className=\"calculator-button\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-calculator\"\n          onClick={onCalculate}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport Select from \"react-select\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default (props) => {\n  const {\n    index,\n    detail,\n    budget_exclusion,\n    onDetailChange,\n    options,\n  } = props\n\n  const {\n    id,\n    amount,\n    budget_category,\n    budget_item_id,\n    disabled,\n  } = detail\n\n  const _id = id || index\n\n  const onChange = (e) => {\n    if (amount === \"\" && e.monthly) {\n      onDetailChange(_id, { amount: e.amount, budget_item_id: e.value })\n    } else {\n      onDetailChange(_id, { budget_item_id: e.value })\n    }\n  }\n  const value = options.find(option => option.value === budget_item_id)\n  const fallbackValue = { label: budget_category, value: budget_item_id }\n  const selectValue = () => {\n    if (budget_exclusion) {\n      return { label: copy.budgetExclusion, value: \"\" }\n    } else {\n      return value || fallbackValue\n    }\n  }\n\n  return (\n    <div className={`detail-budget-item-select ${disabled ? \"disabled\" : \"\"}`}>\n      <Select\n        isDisabled={disabled || budget_exclusion}\n        options={options}\n        value={selectValue()}\n        onChange={onChange}\n        className=\"budget-item-select-container\"\n        classNamePrefix=\"budget-item-select\"\n      />\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport DetailAmount from \"./DetailAmount\"\nimport DetailBudgetItemSelect from \"./DetailBudgetItemSelect\"\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => {\n  const {\n    addDetail,\n    budget_exclusion,\n    details,\n    detailCount,\n    handleKeyDown,\n    onDetailChange,\n    options,\n    removeDetail,\n  } = props\n\n  const total = details.reduce((acc, detail) => acc + (parseFloat(detail.amount || 0)), 0)\n  const nullFn = () => null\n  const initialDetail = { id: 0, amount: MoneyFormatter(total * 100), disabled: true, handleKeyDown: nullFn, onDetailChange: nullFn, budgetItemId: null }\n\n  const detailCollection = (detailCount === 1) ? details : [initialDetail, ...details]\n  const indexFor = index => (detailCount === 1) ? 0 : index - 1\n  const isLastDetail = index => detailCount === 1 || index === detailCount\n\n  return (\n    detailCollection.map((detail, index) => {\n      return (\n        <div className=\"transaction-row\" key={index}>\n          <DetailAmount\n            index={indexFor(index)}\n            detail={detail}\n            onDetailChange={onDetailChange}\n            onKeyDown={handleKeyDown}\n          />\n          <div className=\"budget-item-select\">\n            <DetailBudgetItemSelect\n              index={indexFor(index)}\n              budget_exclusion={budget_exclusion}\n              detail={detail}\n              onDetailChange={onDetailChange}\n              options={options}\n            />\n          </div>\n          <AddDetail\n            {...detail}\n            addDetail={addDetail}\n            index={index}\n            isLastDetail={isLastDetail}\n            removeDetail={removeDetail}\n          />\n        </div>\n      )\n    })\n  )\n}\n\nconst AddDetail = ({ id, addDetail, detail, index, removeDetail }) => {\n  const _id = id || index - 1\n  const onRemove = () => removeDetail(_id, detail)\n\n  if (index === 0) {\n    return (\n      <Link to=\"#\" onClick={addDetail} tabIndex=\"-1\" className=\"fas fa-plus-circle\" />\n    )\n  } else {\n    return (\n      <Link to=\"#\" onClick={onRemove} tabIndex=\"-1\" className=\"fas fa-times-circle\" />\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default ({ formOptions, notes, handleKeyDown, onChange, toggleFormOption }) => {\n  const update = (e) => {\n    onChange({ notes: e.target.value })\n  }\n\n  if (formOptions.showNotes) {\n    return (\n      <div className=\"option-input\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showNotes\" className=\"fas fa-sticky-note\" />\n        <textarea\n          placeholder={copy.notes}\n          name=\"notes\"\n          value={notes || \"\"}\n          onChange={update}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => (\n  <div className=\"option-icons\">\n    <NoteIcon {...props} />\n    <CheckIcon {...props} />\n    <BudgetExclusionIcon {...props } />\n    <ReceiptIcon { ...props } />\n  </div>\n)\n\nconst BudgetExclusionIcon = ({ budgetExclusion, formOptions, selectedAccount, toggleFormOption }) => (\n  <OptionIcon\n    highlighted={budgetExclusion}\n    iconClassName=\"fas fa-exclamation\"\n    name=\"showBudgetExclusion\"\n    onClick={toggleFormOption}\n    showOption={!(formOptions.showBudgetExclusion || selectedAccount.cash_flow)}\n    toggleFormOption={toggleFormOption}\n  />\n)\n\nconst CheckIcon = ({ checkNumber, formOptions, toggleFormOption }) => (\n  <OptionIcon\n    highlighted={!(checkNumber === null || checkNumber === \"\")}\n    iconClassName=\"fas fa-money-check\"\n    name=\"showCheck\"\n    onClick={toggleFormOption}\n    showOption={!formOptions.showCheck}\n    toggleFormOption={toggleFormOption}\n  />\n)\n\nconst NoteIcon = ({ formOptions, notes, toggleFormOption }) => (\n  <OptionIcon\n    highlighted={!(notes === null || notes === \"\")}\n    iconClassName=\"fas fa-sticky-note\"\n    name=\"showNotes\"\n    onClick={toggleFormOption}\n    showOption={!formOptions.showNotes}\n    toggleFormOption={toggleFormOption}\n  />\n)\n\n\nconst ReceiptIcon = ({ formOptions, toggleFormOption })=> {\n  if (formOptions.showReceipt) {\n    return null\n  } else {\n    return (\n      <div className=\"option-icon\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showReceipt\" className=\"fas fa-paperclip\" />\n      </div>\n    )\n  }\n}\n\nconst OptionIcon = ({ highlighted, iconClassName, name, showOption, toggleFormOption }) => {\n  if (!showOption) {\n    return null\n  } else if (highlighted) {\n    return (\n      <div className=\"option-icon\">\n        <span className=\"highlighted\">\n          <Link to=\"#\" onClick={toggleFormOption} name={name} className={iconClassName} />\n        </span>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"option-icon\">\n        <Link to=\"#\" onClick={toggleFormOption} name={name} className={iconClassName} />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ formOptions, onChange, toggleFormOption }) => {\n  const handleImageChange = event => {\n    const file = event.target.files[0]\n    onChange({ receipt: file })\n  }\n\n  if (formOptions.showReceipt) {\n    return (\n      <div className=\"option-input receipt\">\n        <Link to=\"#\" onClick={toggleFormOption} name=\"showReceipt\" className=\"fas fa-paperclip\" />\n        <input type=\"file\" name=\"receipt\" onChange={handleImageChange} />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\n","import React from \"react\"\n\nexport default ({ buttonText, onSubmit }) => (\n  <div className=\"transaction-submit\">\n    <button type=\"submit\" onClick={onSubmit}>\n      {buttonText}\n    </button>\n  </div>\n)\n","import React from \"react\"\n\nimport BudgetExclusion from \"./BudgetExclusion\"\nimport CheckNumber from \"./CheckNumber\"\nimport ClearanceDate from \"./ClearanceDate\"\nimport Descriptions from \"./Descriptions\"\nimport Details from \"./Details\"\nimport { Link } from \"react-router-dom\"\nimport Notes from \"./Notes\"\nimport OptionIcons from \"./OptionIcons\"\nimport Receipt from \"./Receipt\"\nimport SubmitButton from \"./Submit\"\n\n\nexport default (props) => {\n  const {\n    addDetail,\n    budgetOptions,\n    buttonText,\n    handleKeyDown,\n    onChange,\n    onDetailChange,\n    onSubmit,\n    removeDetail,\n    resetForm,\n    selectedAccount,\n    toggleFormOption,\n    transaction\n  } = props\n\n  const {\n    budget_exclusion,\n    check_number,\n    clearance_date,\n    description,\n    details,\n    notes,\n  } = transaction\n\n  return (\n    <div className=\"transaction-form transaction-wrapper\">\n      <div className=\"transaction\">\n        <div className=\"transaction-row left-content\">\n          <div className=\"close-icon\">\n            <Link\n              to=\"#\"\n              onClick={resetForm}\n              className=\"fas fa-times\"\n            />\n          </div>\n          <ClearanceDate\n            clearanceDate={clearance_date}\n            onChange={onChange}\n            handleKeyDown={handleKeyDown}\n          />\n        </div>\n        <div className=\"transaction-row middle-content\">\n          <Descriptions\n            description={description}\n            handleKeyDown={handleKeyDown}\n            onChange={onChange}\n            details={details}\n          />\n        </div>\n        <div className=\"detail-wrapper\">\n          <Details\n            addDetail={addDetail}\n            budget_exclusion={budget_exclusion}\n            details={details}\n            detailCount={details.length}\n            handleKeyDown={handleKeyDown}\n            onDetailChange={onDetailChange}\n            options={budgetOptions}\n            removeDetail={removeDetail}\n          />\n        </div>\n        <div className=\"transaction-row options\">\n          <OptionIcons\n            budgetExclusion={budget_exclusion}\n            checkNumber={check_number}\n            formOptions={transaction.formOptions}\n            notes={notes}\n            selectedAccount={selectedAccount}\n            toggleFormOption={toggleFormOption}\n          />\n          <div className=\"input-options\">\n            <Notes\n              formOptions={transaction.formOptions}\n              handleKeyDown={handleKeyDown}\n              onChange={onChange}\n              notes={notes}\n              toggleFormOption={toggleFormOption}\n            />\n            <CheckNumber\n              formOptions={transaction.formOptions}\n              onChange={onChange}\n              check_number={check_number || \"\"}\n              toggleFormOption={toggleFormOption}\n            />\n            <BudgetExclusion\n              budget_exclusion={budget_exclusion}\n              formOptions={transaction.formOptions}\n              onChange={onChange}\n              selectedAccount={selectedAccount}\n              toggleFormOption={toggleFormOption}\n            />\n            <Receipt\n              formOptions={transaction.formOptions}\n              onChange={onChange}\n              toggleFormOption={toggleFormOption}\n            />\n          </div>\n        </div>\n        <SubmitButton\n          buttonText={buttonText}\n          onSubmit={onSubmit}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\nimport objectify from \"../../models/transaction\"\nimport { titleize } from \"../../locales/functions\"\n\nimport {\n  addDetailToNew,\n  created,\n  editNewFormOptions,\n  resetNew,\n  removeNewDetail,\n  toggleNewForm,\n  updateNew,\n  updateNewDetail,\n} from \"../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport FindOrDefault from \"../../functions/FindOrDefault\"\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst New = (props) => {\n  const { budgetOptions, dispatch, selectedAccount, showBudgetExclusion, showCheck, showNotes } = props\n  const formOptions = { showBudgetExclusion: showBudgetExclusion, showCheck: showCheck, showNotes: showNotes }\n  const transaction = objectify(props.transaction, formOptions)\n  const { details } = transaction\n\n  const addDetail = (e) => {\n    e.preventDefault()\n    const action = addDetailToNew()\n    dispatch(action)\n  }\n\n  const removeDetail = (index) => {\n    const action = removeNewDetail({ index: index })\n    dispatch(action)\n  }\n\n  const handleKeyDown = () => null\n\n  const resetForm = () => {\n    const action = resetNew()\n    dispatch(action)\n    closeForm()\n  }\n\n  const toggleFormOption = e => {\n    const { name } = e.target\n    const action = editNewFormOptions({ [name]: !transaction.formOptions[name] })\n    dispatch(action)\n  }\n\n  const closeForm = () => dispatch(toggleNewForm())\n\n  const onChange = (payload) => {\n    const action = updateNew(payload)\n    dispatch(action)\n  }\n\n  const onDetailChange = (index, attributes) => {\n    const action = updateNewDetail({ index: index, attributes: attributes })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const details_attributes = details.map(detail => {\n      let adjusted = Math.round((parseFloat(detail.amount) || 0) * 100)\n      return { ...detail, amount: adjusted }\n    })\n    const description = transaction.description === \"\" ? null : transaction.description\n    const url = ApiUrlBuilder({ route: \"transactions-index\", accountId: selectedAccount.id })\n    const body = JSON.stringify({\n      ...transaction,\n      description: description,\n      details_attributes: details_attributes,\n    })\n    const event = EventMessageBuilder({\n      eventType: \"transaction-entry-create\",\n      accountName: selectedAccount.name,\n    })\n    const onSuccess = (data) => {\n      dispatch(created(data))\n      dispatch(resetNew({ showForm: true }))\n    }\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  return (\n    <Form\n      transaction={transaction}\n      addDetail={addDetail}\n      budgetOptions={budgetOptions}\n      buttonText={props.buttonText}\n      handleKeyDown={handleKeyDown}\n      onChange={onChange}\n      onDetailChange={onDetailChange}\n      onSubmit={onSubmit}\n      removeDetail={removeDetail}\n      resetForm={resetForm}\n      selectedAccount={selectedAccount}\n      toggleFormOption={toggleFormOption}\n    />\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const transaction = state.transactions.new\n  const selectedAccountId = parseInt(state.transactions.metadata.query_options.account_id)\n  const selectedAccount = FindOrDefault(state.accounts.collection, (account => account.id === selectedAccountId), { cash_flow: true })\n  const items = state.transactions.budgetItems.collection\n  const collection = items.filter(item => !item.monthly || item.deletable)\n  const labelFor = (item) => `${item.name} (${MoneyFormatter(item.remaining, { absolute: true })})`\n  const optionFor = (item) => ({\n    value: item.id,\n    label: labelFor(item),\n    monthly: item.monthly,\n    amount: parseFloat(item.amount / 100.0).toFixed(2),\n  })\n  const sortFn = (a, b) => a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  const filterFn = (item) => !item.accrual || item.matureAccrual\n  const itemOptions = collection\n    .filter(filterFn)\n    .map(optionFor)\n    .sort(sortFn)\n  const discretionary = { label: titleize(copy.discretionary.title), value: null }\n  const budgetOptions = [discretionary, ...itemOptions]\n  const { showCheck, showNotes } = transaction.formOptions\n\n  return {\n    buttonText: \"Create Transaction\",\n    budgetOptions: budgetOptions,\n    selectedAccount: selectedAccount,\n    showCheck: showCheck,\n    showBudgetExclusion: !selectedAccount.cashFlow,\n    showNotes: showNotes,\n    transaction: transaction,\n  }\n}\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transaction as copy } from \"../../locales/copy\"\nimport { toggleNewForm } from \"../../actions/transactions\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\nimport New from \"./New\"\n\nconst AddTransaction = ({ dispatch, showForm }) => {\n  const expandForm = (e) => {\n    e.preventDefault()\n    const action = toggleNewForm()\n    dispatch(action)\n  }\n\n  if (showForm) {\n    return (\n      <New />\n    )\n  } else {\n    return (\n      <div className=\"transaction-wrapper\">\n        <div className=\"transaction\">\n          <div className=\"left-icon\">\n          </div>\n          <Link to=\"#\" onClick={expandForm}>\n            <Icon className=\"fas fa-plus\" />\n            {\" \"}\n            <strong>{copy.addNewButtonText}</strong>\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { showForm } = state.transactions.new\n  return { showForm: showForm }\n}\n\nexport default connect(mapStateToProps)(AddTransaction)\n","import React from \"react\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ amount, details, showDetail }) => {\n  if (showDetail && details.length > 1) {\n    return (\n      <div className=\"amounts\">\n        <div className=\"amount-detail\">\n          {MoneyFormatter(amount)}\n        </div>\n        {details.map(detail => (\n          <Detail key={detail.id} amount={detail.amount} />\n        ))}\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"amounts\">\n        <div className=\"amount-detail\">\n          {MoneyFormatter(amount)}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst Detail = ({ amount }) => (\n  <div className=\"amount-detail detail-show\">\n    {MoneyFormatter(amount)}\n  </div>\n)\n","import React from \"react\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ balance }) => (\n  <div className=\"balance\">\n    {MoneyFormatter(balance)}\n  </div>\n)\n","import React from \"react\"\n\nimport Icon from \"../../Icons/Icon\"\n\nexport const BudgetCategoryIcons = ({ description, details }) => {\n  const budgetItems = details.filter(detail => detail.budget_item_id !== null)\n  const emptyDescription = (description === null || description === \"\")\n  const showDetail = details.length > 1 || (budgetItems.length === 1 && !emptyDescription)\n\n  if (showDetail) {\n    return (\n      <div className=\"info-item\">\n        {budgetItems.map((item, index) => (\n          <span key={index}>\n            {index > 0 && <SpaceSpan />}\n            <Icon className={item.icon_class_name} />\n            {\" \"}\n          </span>\n        ))}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport const CheckIcon = ({ checkNumber }) => {\n  const emptyCheckNumber = checkNumber === \"\" || checkNumber === null\n\n  if (emptyCheckNumber) {\n    return null\n  } else {\n    return(\n      <div className=\"info-item\">\n        <Icon className=\"fas fa-money-check\" />\n      </div>\n    )\n  }\n}\n\nexport const NotesIcon = ({ notes }) => {\n  const emptyNote = notes === \"\" || notes === null\n\n  if (emptyNote) {\n    return null\n  } else {\n    return(\n      <div className=\"info-item\">\n        <Icon className=\"fas fa-sticky-note\" />\n      </div>\n    )\n  }\n}\n\nconst SpaceSpan = () => <span className=\"spacer\"></span>\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Icon from \"../../Icons/Icon\"\n\nexport default ({ checkNumber }) => {\n  if (checkNumber) {\n    return (\n      <div className=\"check-number\">\n        <Icon className=\"fas fa-money-check\" /> {titleize(copy.check)}: {checkNumber}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport Icon from \"../../Icons/Icon\"\n\nexport default ({ notes }) => {\n  if (notes) {\n    return(\n      <div className=\"notes\">\n        <div className=\"notes-icon\">\n          <Icon className=\"fas fa-sticky-note\" />\n        </div>\n        <div className=\"notes-content\">\n          {notes.split(\"<br>\").map((note, index) => (\n            <Note key={index} note={note} />\n          ))}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Note = ({ note }) => (\n  <div className=\"note-line\">\n    {note}\n  </div>\n)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { BudgetCategoryIcons, CheckIcon, NotesIcon } from \"./Icons\"\nimport CheckNumber from \"./CheckNumber\"\nimport Notes from \"./Notes\"\n\nexport default (props) => {\n  const {\n    id,\n    balance,\n    budgetExclusion,\n    check_number,\n    description,\n    details,\n    notes,\n    showDetail,\n  } = props\n\n  if (id === 0) {\n    return null\n  } else {\n    return (\n      <div className=\"transaction-row txn-second-row\">\n        <TransactionInfo\n          budgetExclusion={budgetExclusion}\n          check_number={check_number}\n          description={description}\n          details={details}\n          notes={notes}\n          showDetail={showDetail}\n        />\n        <TransactionBalance\n          balance={balance}\n        />\n      </div>\n    )\n  }\n}\n\nconst TransactionInfo = (props) => {\n  const {\n    budgetExclusion,\n    check_number,\n    description,\n    details,\n    notes,\n    showDetail,\n  } = props\n\n  if (showDetail) {\n    return (\n      <div className=\"txn-info-stack\">\n        <Notes notes={notes} />\n        <CheckNumber checkNumber={check_number} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"txn-info\">\n        <BudgetCategoryIcons description={description} details={details} />\n        <BudgetExclusion exclusion={budgetExclusion} />\n        <NotesIcon notes={notes} />\n        <CheckIcon checkNumber={check_number} />\n      </div>\n    )\n  }\n}\n\nconst BudgetExclusion = ({ exclusion }) => {\n  if (!exclusion) {\n    return null\n  } else {\n    return (\n      <div className=\"info-item budget-exclusion\">\n        budget exclusion\n      </div>\n    )\n  }\n}\n\nconst TransactionBalance = ({ balance }) => (\n  <div className=\"txn-balance\">\n    {MoneyFormatter(balance)}\n  </div>\n)\n","import React from \"react\"\nimport Icon from \"../../Icons/Icon\"\n\nexport default (props) => {\n  const {\n    description,\n    details,\n    showDetail,\n  } = props\n\n  const budgetItems = details.filter(detail => detail.budget_item_id !== null)\n  const emptyDescription = (description === \"\" || description === null)\n\n  if (budgetItems.length > 0 && !emptyDescription && !showDetail) {\n    return (\n      <div className=\"budget-categories\">\n        {budgetItems.map((item, index) =>\n          <span key={index}>\n            {index > 0 && \"; \"}\n            <Icon className={item.icon_class_name} />\n            {\" \"}\n            {item.budget_category}\n          </span>\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nexport default ({ budgetExclusion }) => {\n  if (budgetExclusion) {\n    return (\n      <div className=\"exclusion\">\n        {copy.budgetExclusion}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport * as DateFormatter from \"../../../functions/DateFormatter\"\n\nexport default ({ clearanceDate }) => {\n  const longDate = clearanceDate === null ? copy.pending : DateFormatter.fromDateString(clearanceDate)\n  const shortDate = clearanceDate === null ? copy.pending : DateFormatter.fromDateString(clearanceDate, { format: \"m/d\" })\n\n  return (\n    <div className=\"clearance-date\">\n      <ShortDateSpan clearanceDate={clearanceDate} shortDate={shortDate} />\n      <span className=\"long-date\">\n        {longDate}\n      </span>\n    </div>\n  )\n}\n\nconst ShortDateSpan = ({ clearanceDate, shortDate }) => (\n  <span className={`short-date ${clearanceDate === null ? copy.pending : \"\"}`}>\n    {shortDate}\n  </span>\n)\n","import React from \"react\"\n\nimport Icon from \"../../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => {\n  const {\n    collapseDetail,\n    description,\n    details,\n    expandDetail,\n    showDetail,\n  } = props\n\n  const onClick = showDetail ? collapseDetail : expandDetail\n  const budgetDetails = details.filter(detail => detail.budget_item_id !== null)\n\n  return (\n    <div className=\"description\">\n      <div className=\"plain-text\">\n        <Description budgetDetails={budgetDetails} description={description} onClick={onClick} />\n      </div>\n      <div className=\"link\">\n        <Link to=\"#\" onClick={onClick}>\n          <Description budgetDetails={budgetDetails} description={description} />\n        </Link>\n      </div>\n      <BudgetItemDetails description={description} details={details} showDetail={showDetail} />\n    </div>\n  )\n}\n\nconst Description = ({ budgetDetails, description }) => {\n  const emptyDescription = description === null || description === \"\"\n\n  if (emptyDescription) {\n    return (\n      <DetailsMap budgetDetails={budgetDetails} />\n    )\n  } else {\n    return (\n      <span>{description}</span>\n    )\n  }\n}\n\nconst DetailsMap = ({ budgetDetails }) => (\n  <span>\n    {budgetDetails.map((detail, index) => (\n      <span className=\"budget-item\" key={detail.id}>\n        {index > 0 && \"; \"}\n        {detail.budget_category} <Icon className={detail.icon_class_name} />\n        {\" \"}\n      </span>\n    ))}\n  </span>\n)\n\nconst BudgetItemDetails = ({ description, details, showDetail }) => {\n  const displayableDetails = details.length > 1 || description !== null\n\n  if (showDetail && displayableDetails) {\n    return (\n      <div className=\"description-details\">\n        {details.map(detail => (\n          <div className=\"description-detail\" key={detail.id}>\n            {detail.budget_category} <Icon className={detail.icon_class_name} />\n          </div>\n        ))}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as budgetCopy, transaction as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport {\n  addDetailToEntry,\n  editDetailProps,\n  editFormOptions,\n  editProps,\n  removeDetail,\n  toggleEditForm,\n  updated,\n} from \"../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\nimport { put } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = (props) => {\n  const { budgetOptions, dispatch, transaction } = props\n  const { id, account_id, clearance_date, details } = transaction\n\n  const handleKeyDown = (e) => {\n    if (e.which !== 13) {\n      return\n    }\n    onSubmit()\n  }\n\n  const resetForm = (e) => {\n    e.preventDefault()\n    const action = toggleEditForm({ id: id })\n    dispatch(action)\n  }\n\n  const detailDelete = (detailId, detail) => {\n    const confirmation = window.confirm(copy.deleteDetailConfirmationMessage)\n    const { amount, budget_item_id, budget_category } = detail\n\n    if (confirmation) {\n      const action = removeDetail({\n        account_id: account_id,\n        amount: (Math.round(amount * -100)),\n        clearance_date: clearance_date,\n        detailId: detailId,\n        transactionId: id,\n      })\n      const url = ApiUrlBuilder({ route: \"transaction-show\", id: id, accountId: account_id })\n      const body = JSON.stringify({\n        details_attributes: [{ id: detailId, _destroy: true }]\n      })\n      const onSuccess = () => dispatch(action)\n      const event = EventMessageBuilder({\n        eventType: \"transaction-detail-delete\",\n        id: detailId,\n        entryId: id,\n        amount: amount,\n        budgetItemId: budget_item_id,\n        budgetCategory: budget_category\n      })\n      put(url, body, { event: event, onSuccess: onSuccess })\n    }\n  }\n\n  const onChange = (payload) => {\n    const action = editProps({ id: id, ...payload })\n    dispatch(action)\n  }\n\n  const onDetailChange = (detailId, payload) => {\n    const action = editDetailProps({ txnId: id, detailId: detailId, ...payload })\n    dispatch(action)\n  }\n\n  const addDetail = () => {\n    const action = addDetailToEntry({ id: id, detailId: details.length })\n    dispatch(action)\n  }\n\n  const toggleFormOption = (e) => {\n    const optionName = e.target.name\n    const action = editFormOptions({ id: id, [optionName]: !transaction.formOptions[optionName] })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const description = transaction.description === \"\" ? null : transaction.description\n    const url = ApiUrlBuilder({ route: \"transaction-show\", id: id, accountId: account_id })\n    const body = JSON.stringify({\n      ...transaction,\n      description: description,\n      details_attributes: details.map(detail => (\n        {\n          ...detail,\n          ...detail.updatedProps,\n          amount: Math.round(parseFloat(detail.updatedProps.amount) * 100),\n        }\n      ))\n    })\n    const onSuccess = (data) => dispatch(updated({\n      ...data,\n      showForm: false,\n      originalAmount: transaction.originalAmount\n    }))\n    const event = EventMessageBuilder({\n      eventType: \"transaction-entry-update\",\n      id: id,\n      changedProps: transaction.changedProps,\n      details: details.map(detail => (\n        {\n          id: detail.id,\n          changedProps: changedProps(\n            {\n              ...detail,\n              ...detail.originalProps,\n            },\n            {\n              ...detail.updatedProps,\n              amount: Math.round(parseFloat(detail.updatedProps.amount) * 100),\n            }\n          ),\n        }\n      ))\n    })\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  if (transaction.showForm) {\n    return (\n      <Form\n        addDetail={addDetail}\n        budgetOptions={budgetOptions}\n        buttonText={titleize(copy.updateButtonText)}\n        handleKeyDown={handleKeyDown}\n        onChange={onChange}\n        onDetailChange={onDetailChange}\n        onSubmit={onSubmit}\n        removeDetail={detailDelete}\n        resetForm={resetForm}\n        toggleFormOption={toggleFormOption}\n        {...props}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const updatedProps = {\n    amount: parseFloat(ownProps.amount / 100.0).toFixed(2),\n    ...ownProps.updatedProps,\n  }\n\n  const details = ownProps.details.map(detail => {\n    return {\n      ...detail,\n      originalProps: detail,\n      amount: parseFloat(detail.amount / 100.0).toFixed(2),\n      ...detail.updatedProps,\n      updatedProps: {\n        amount: parseFloat(detail.amount / 100.0).toFixed(2),\n        ...detail.updatedProps,\n      }\n    }\n  })\n\n  const items = state.transactions.budgetItems.collection\n  const collection = items.filter(item => !item.monthly || item.deletable || item.id === ownProps.budget_item_id)\n  const labelFor = (item) => `${item.name} (${MoneyFormatter(item.remaining, { absolute: true })})`\n  const optionFor = (item) => ({ value: item.id, label: labelFor(item) })\n  const sortFn = (a, b) => a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  const filterFn = (item) => !item.accrual || item.matureAccrual\n  const itemOptions = collection\n    .filter(filterFn)\n    .map(optionFor)\n    .sort(sortFn)\n  const discretionary = { label: titleize(budgetCopy.discretionary.title), value: null }\n  const budgetOptions = [discretionary, ...itemOptions]\n\n  return {\n    transaction: {\n      ...ownProps,\n      ...updatedProps,\n      changedProps: changedProps(ownProps, { ...updatedProps, amount: Math.round(parseFloat(updatedProps.amount) * 100) }),\n      details: details,\n      originalAmount: ownProps.amount,\n    },\n    budgetOptions: budgetOptions,\n    selectedAccount: state.accounts.collection.find(acct => acct.id === ownProps.account_id),\n  }\n}\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { Link } from \"react-router-dom\"\n\nconst EditLink = ({ onClick }) => (\n  <div className=\"transaction-edit-button\">\n    <Link\n      className=\"far fa-edit\"\n      to=\"#\"\n      onClick={onClick}\n    />\n  </div>\n)\n\nconst mapStateToProps = (_state, ownProps) => ownProps\nexport default connect(mapStateToProps)(EditLink)\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ onClick }) => (\n  <div className=\"transaction-delete-button\">\n    <Link\n      className=\"fas fa-trash-alt\"\n      to=\"#\"\n      onClick={onClick}\n    />\n  </div>\n)\n","import React from \"react\"\n\nimport EditLink from \"./EditLink\"\nimport DeleteButton from \"./DeleteButton\"\n\nexport default ({ revealForm, transactionDelete }) => (\n  <div className=\"end-links\">\n    <EditLink onClick={revealForm} />\n    <DeleteButton onClick={transactionDelete} />\n  </div>\n)\n\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ collapseDetail, details, expandDetail, showDetail }) => {\n  if (details.length < 2) {\n    return null\n  } else if (showDetail) {\n    return (\n      <Link className='fas fa-caret-down' to='#' onClick={collapseDetail} />\n    )\n  } else {\n    return (\n      <Link className='fas fa-caret-right' to='#' onClick={expandDetail} />\n    )\n  }\n}\n","import React from \"react\"\n\nimport DeleteButton from \"./DeleteButton\"\nimport EditLink from \"./EditLink\"\n\nexport default ({ id, revealForm, showDetail, transactionDelete }) => {\n  if (id === 0 || !showDetail) {\n    return null\n  } else {\n    return (\n      <div className=\"transaction-row txn-links\">\n        <EditLink onClick={revealForm} />\n        <DeleteButton onClick={transactionDelete} />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { edit, deleteTransaction, toggleEditForm } from \"../../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport Amount from \"./Amount\"\nimport Balance from \"./Balance\"\nimport BottomRow from \"./BottomRow\"\nimport BudgetCategories from \"./BudgetCategories\"\nimport BudgetExclusion from \"./BudgetExclusion\"\nimport CheckNumber from \"./CheckNumber\"\nimport ClearanceDate from \"./ClearanceDate\"\nimport Description from \"./Description\"\nimport Edit from \"../Edit\"\nimport EndLinks from \"./EndLinks\"\nimport Notes from \"./Notes\"\nimport LeftIcon from \"./LeftIcon\"\nimport TxnLinks from \"./TxnLinks\"\n\nconst Show = (props) => {\n  const {\n    id,\n    account_id,\n    amount,\n    balance,\n    budget_exclusion,\n    check_number,\n    clearance_date,\n    deletable,\n    description,\n    details,\n    notes,\n    showDetail,\n    showForm,\n  } = props\n\n  const expandDetail = (e) => {\n    e.preventDefault()\n    const action = edit({ id: id, showDetail: true })\n    props.dispatch(action)\n  }\n\n  const collapseDetail = (e) => {\n    e.preventDefault()\n    const action = edit({ id: id, showDetail: false })\n    props.dispatch(action)\n  }\n\n  const revealForm = (e) => {\n    e.preventDefault()\n    const action = toggleEditForm({ id: id })\n    props.dispatch(action)\n  }\n\n  const transactionDelete = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(copy.deleteConfirmationMessage)\n    if (!confirmation) {\n      return\n    } else {\n      const url = ApiUrlBuilder({ route: \"transaction-show\", id: id, accountId: account_id })\n      const action = deleteTransaction({ id: id, amount: (-1 * amount), account_id: account_id })\n      const event = EventMessageBuilder({\n        eventType: \"transaction-entry-delete\",\n        id: id,\n        details: details\n      })\n      deleteRequest(url, event, () => props.dispatch(action))\n    }\n  }\n\n  if (showForm) {\n    return (\n      <Edit { ...props } />\n    )\n  } else {\n    return (\n      <div className=\"transaction-wrapper\">\n        <div className=\"transaction\">\n          <div className=\"transaction-row\">\n            <div className=\"left-content\">\n              <div className=\"left-caret\">\n                <LeftIcon\n                  collapseDetail={collapseDetail}\n                  details={details}\n                  expandDetail={expandDetail}\n                  showDetail={showDetail}\n                />\n              </div>\n              <ClearanceDate clearanceDate={clearance_date} />\n              <Description\n                collapseDetail={collapseDetail}\n                description={description}\n                details={details}\n                expandDetail={expandDetail}\n                showDetail={showDetail}\n              />\n            </div>\n            <div className=\"middle-content\">\n              <Amount amount={amount} details={details} showDetail={showDetail} />\n              <Balance balance={balance} />\n              <BudgetCategories\n                description={description}\n                details={details}\n                showDetail={showDetail}\n              />\n              <BudgetExclusion budgetExclusion={budget_exclusion} />\n              <Notes notes={notes} />\n              <CheckNumber checkNumber={check_number} />\n            </div>\n          </div>\n          <EndLinks revealForm={revealForm} transactionDelete={transactionDelete} />\n          <BottomRow\n            id={id}\n            balance={balance}\n            budgetExclusion={budget_exclusion}\n            check_number={check_number}\n            description={description}\n            details={details}\n            notes={notes}\n            showDetail={showDetail}\n          />\n          <TxnLinks\n            id={id}\n            deletable={deletable}\n            revealForm={revealForm}\n            showDetail={showDetail}\n            transactionDelete={transactionDelete}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport const mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Show)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transaction as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport formatted, * as DateFormatter from \"../../functions/DateFormatter\"\n\nimport AddTransaction from \"./AddTransaction\"\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\nimport Transaction from \"./Show/Show\"\n\nconst Transactions = (props) => {\n  const {\n    collection,\n    endDate,\n    initialTransaction,\n    nextMonth,\n    prevMonth,\n    slug,\n    startDate,\n  } = props\n\n  const nextMonthUrl = `/accounts/${slug}/${nextMonth.month}/${nextMonth.year}`\n  const prevMonthUrl = `/accounts/${slug}/${prevMonth.month}/${prevMonth.year}`\n\n  return (\n    <div className=\"transactions\">\n      <h2>{titleize(copy.title)}</h2>\n      <div className=\"transaction-metadata\">\n        <div className=\"date-range\">\n          {copy.dateRange(startDate, endDate)}\n        </div>\n        <div className=\"page-links\">\n          <Link to={prevMonthUrl}>\n            <Icon className=\"fas fa-angle-double-left\" />\n            {formatted({ ...prevMonth, format: \"numericMonthYear\" })}\n          </Link>\n          <Link to={nextMonthUrl}>\n            {formatted({ ...nextMonth, format: \"numericMonthYear\" })}\n            <Icon className=\"fas fa-angle-double-right\" />\n          </Link>\n        </div>\n      </div>\n      <hr/>\n      <Transaction key=\"0\" {...initialTransaction} />\n      {collection.map(transaction =>\n        <Transaction\n          key={transaction.id}\n          {...transaction}\n          deletable={true}\n        />\n      )}\n      <AddTransaction />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { collection, metadata } = state.transactions\n  const startDate = DateFormatter.fromDateString(metadata.date_range[0])\n  const endDate =  DateFormatter.fromDateString(metadata.date_range[1])\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n\n  const orderedTransactions = collection.sort(function(a, b) {\n    if (a.clearance_date === b.clearance_date) {\n      return 0\n    } else if (a.clearance_date === null) {\n      return b.clearance_date > today ? -1 : 1\n    } else if (b.clearance_date === null) {\n      return a.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.clearance_date > b.clearance_date) ? 1 : -1\n    }\n  })\n\n  const collectionWithBalance = () => {\n    let balance = metadata.prior_balance\n    return orderedTransactions.map(transaction => {\n      balance += transaction.amount\n      return { balance: balance, ...transaction }\n    })\n  }\n\n  const initialTransaction = {\n    id: 0,\n    amount: metadata.prior_balance,\n    balance: metadata.prior_balance,\n    check_number: null,\n    clearance_date: metadata.date_range[0],\n    description: \"Balance\",\n    details: [],\n    notes: null,\n  }\n\n  const { month, year } = ownProps\n  const nextMonth = DateFormatter.nextMonth({ month: month, year: year })\n  const prevMonth = DateFormatter.prevMonth({ month: month, year: year })\n\n  return {\n    ...state.transactions,\n    startDate: startDate,\n    endDate: endDate,\n    initialTransaction: initialTransaction,\n    collection: collectionWithBalance(),\n    prevMonth: prevMonth,\n    nextMonth: nextMonth,\n    ...ownProps,\n  }\n}\n\nexport default connect(mapStateToProps)(Transactions)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetchedBudgetItems, fetchedTransactions } from \"../../actions/transactions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport Transactions from \"./Transactions\"\n\nconst Wrapper = (props) => {\n  const {\n    accountId,\n    isApiUnauthorized,\n    dispatch,\n    fetched,\n    month,\n    slug,\n    urlAccountId,\n    urlMonth,\n    urlYear,\n    year,\n  } = props\n\n  if (!Number.isInteger(urlAccountId)) {\n    return null\n  }\n\n  const fetchTransactions = () => {\n    const url = ApiUrlBuilder({\n      route: \"transactions-index\",\n      accountId: urlAccountId,\n      query: { month: urlMonth, year: urlYear },\n    })\n    const onSuccess = data => dispatch(fetchedTransactions({...data, slug: slug }))\n    get(url, onSuccess)\n  }\n\n  const fetchBudgetItems = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-index\", query: { month: urlMonth, year: urlYear } })\n    const onSuccess = data => dispatch(fetchedBudgetItems(data))\n    get(url, onSuccess)\n  }\n\n  const isNewMonthYear = !(urlMonth === month && urlYear === year)\n  const isTransctionCacheStale = (isNewMonthYear ||  urlAccountId !== accountId)\n  const isBudgetCacheStale = (!fetched || isNewMonthYear)\n\n  if (isApiUnauthorized) {\n    return null\n  } else if (isTransctionCacheStale || isBudgetCacheStale) {\n    if (isTransctionCacheStale) {\n      fetchTransactions()\n    }\n    if (isBudgetCacheStale) {\n      fetchBudgetItems()\n    }\n  }\n\n  return (\n    <Transactions {...props} />\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { query_options } = state.transactions.metadata\n  const { fetched } = state.transactions.budgetItems\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    accountId: parseInt(query_options.account_id),\n    isApiUnauthorized: isApiUnauthorized,\n    fetched: fetched,\n    month: parseInt(query_options.month),\n    slug: ownProps.slug,\n    urlAccountId: ownProps.accountId,\n    urlMonth: ownProps.month,\n    urlYear: ownProps.year,\n    year: parseInt(query_options.year),\n  }\n}\n\nexport default connect(mapStateToProps)(Wrapper)\n","import React from \"react\"\nimport TransfersLink from \"./TransfersLink\"\nimport ManageButton from \"./ManageButton\"\nimport TransactionsWrapper from \"../Transactions/Wrapper\"\n\nexport default ({ month, year, selectedAccount, selectedAccountId, slug }) => {\n  if (selectedAccountId === 0) {\n    return (\n      <AdminLinks />\n    )\n  } else {\n    return(\n      <div>\n        <TransactionsWrapper\n          accountId={selectedAccountId}\n          month={month}\n          selectedAccount={selectedAccount}\n          slug={slug}\n          year={year}\n        />\n        <hr />\n        <AdminLinks />\n      </div>\n    )\n  }\n}\n\nconst AdminLinks = () => (\n  <div>\n    <TransfersLink />\n    <ManageButton />\n  </div>\n)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ id, name, balance, selectedAccountId, slug }) => (\n  <Link to={`/accounts/${slug}`}>\n    <div className={`account ${selectedAccountId === id ? \"active\" : \"\" }`}>\n      <div className=\"account-name\">\n        <h3>{name}</h3>\n      </div>\n      <div className=\"balance\">\n        <div>{MoneyFormatter(balance)}</div>\n      </div>\n    </div>\n  </Link>\n)\n","import React from \"react\"\nimport Tab from \"./Tab\"\n\nexport default ({ collection, selectedAccountId }) => (\n  <div>\n    {collection.map(account =>\n      <Tab\n        key={account.id}\n        {...account}\n        selectedAccountId={selectedAccountId}\n      />\n    )}\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { fetched } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\nimport FindOrDefault from \"../../functions/FindOrDefault\"\n\nimport Details from \"./Details\"\nimport { Redirect } from \"react-router-dom\"\nimport Tabs from \"./Tabs\"\n\nconst Wrapper = (props) => {\n  const {\n    accountsFetched,\n    isApiUnauthorized,\n    collection,\n    dateParams,\n    dispatch,\n    month,\n    selectedAccount,\n    selectedAccountId,\n    slug,\n    year,\n  } = props\n\n  if (!isApiUnauthorized && !accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n\n  if ((dateParams.month && dateParams.year) || selectedAccountId === 0) {\n    return (\n      <div className=\"accounts\">\n        <Tabs\n          collection={collection}\n          selectedAccountId={selectedAccountId}\n        />\n        <Details\n          month={month}\n          selectedAccountId={selectedAccountId}\n          selectedAccount={selectedAccount}\n          slug={slug}\n          year={year}\n        />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/accounts/${slug}/${month}/${year}`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const nullAccount = {\n    id: 0,\n    cash_flow: true,\n    name: \"\",\n    priority: \"\",\n    slug: null,\n  }\n\n  const slug = ownProps.match.params.slug || state.transactions.slug\n  const selectedAccount = FindOrDefault(state.accounts.collection, acct => acct.slug === slug, nullAccount)\n  const selectedAccountId = selectedAccount.id\n  const month = parseInt(ownProps.match.params.month) || state.transactions.metadata.query_options.month\n  const year = parseInt(ownProps.match.params.year) || state.transactions.metadata.query_options.year\n  const accountsFetched = state.accounts.accountsFetched\n  const collection = state.accounts.collection.sort((a, b) => a.priority - b.priority)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    accountsFetched: accountsFetched,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: collection,\n    month: month,\n    dateParams: {\n      month: ownProps.match.params.month,\n      year: ownProps.match.params.year,\n    },\n    selectedAccountId: selectedAccountId,\n    selectedAccount: selectedAccount,\n    slug: slug,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Wrapper)\n","import React from \"react\"\n\nimport { account as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Icon from \"../../Icons/Icon\"\n\nconst {\n  cancelButtonText,\n  cashFlow,\n  createButtonText,\n  name,\n  priority,\n  updateButtonText,\n} = copy\n\nexport default (props) => (\n  <div className=\"account-edit\">\n    <div>\n      <h3>\n        {props.title}\n      </h3>\n      <hr />\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {name}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input type=\"text\" name=\"name\" value={props.name} onChange={props.updateAccountProps} />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {titleize(copy.slugLabel)}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input type=\"text\" name=\"slug\" value={props.slug} onChange={props.updateAccountProps} />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {priority}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input type=\"number\" name=\"priority\" value={props.priority} onChange={props.updateAccountProps} />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"label\">\n          <label>\n            {titleize(cashFlow)}\n          </label>\n        </div>\n        <div className=\"input\">\n          <input\n            type=\"checkbox\"\n            name=\"cash_flow\"\n            checked={props.cash_flow}\n            onChange={props.updateCashFlow}\n          />\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <button type=\"submit\" className=\"submit\" onClick={props.submitForm}>\n          {titleize(props.id ? updateButtonText : createButtonText)} <Icon className=\"far fa-save\" />\n        </button>\n        <button type=\"cancel\" className=\"cancel\" onClick={props.closeForm}>\n          {titleize(cancelButtonText)} <Icon className=\"fas fa-times\" />\n        </button>\n      </div>\n    </div>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { created, resetForm, toggleShowNewForm, updateNew } from \"./actions\"\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Icon from \"../Icons/Icon\"\nimport Form from \"./Form/Form\"\nimport { Link } from \"react-router-dom\"\n\nconst New = (props) => {\n  const {\n    cash_flow,\n    dispatch,\n    name,\n    priority,\n    showNewForm,\n    slug,\n  } = props\n\n  const showForm = (e) => {\n    e.preventDefault()\n    dispatch(resetForm())\n    const action = toggleShowNewForm({ showForm: true })\n    dispatch(action)\n  }\n\n  const closeForm = (e) => {\n    e.preventDefault()\n    const action = toggleShowNewForm({ showForm: false })\n    dispatch(action)\n  }\n\n  const updateCashFlow = () => {\n    const action = updateNew({ cash_flow: !cash_flow })\n    dispatch(action)\n  }\n\n  const updateAccountProps = (e) => {\n    const action = updateNew({ [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const submitForm = () => {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const body = JSON.stringify({ name: name, priority: priority, cash_flow: cash_flow, slug: slug })\n    const event = EventMessageBuilder({ eventType: \"account-create\" })\n    const onSuccess = (data) => {\n      dispatch(created(data))\n      dispatch(resetForm())\n    }\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  if (showNewForm) {\n    return (\n      <Form\n        {...props}\n        closeForm={closeForm}\n        submitForm={submitForm}\n        title=\"Add New\"\n        updateAccountProps={updateAccountProps}\n        updateCashFlow={updateCashFlow}\n      />\n    )\n  } else {\n    return(\n      <div className=\"account-edit\">\n        <div>\n          <h3>\n            <Link to=\"#\" onClick={showForm}>\n              <Icon className=\"fas fa-plus\" /> Add new\n            </Link>\n          </h3>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state.accounts.newAccount,\n    showNewForm: state.accounts.showNewForm\n  }\n}\n\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { resetAccount, update, updated, updateProps } from \"./actions\"\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../functions/EventMessageBuilder\"\nimport { put } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = (props) => {\n  const {\n    id,\n    dispatch,\n    name,\n    updatedProps,\n  } = props\n\n  const formProps = { ...props, ...updatedProps }\n\n  const closeForm = () => {\n    const action = resetAccount({ id: id, showForm: false })\n    dispatch(action)\n  }\n\n  const resetForm = () => {\n    const action = resetAccount({ id: id })\n    dispatch(action)\n  }\n\n  const updateAccountProps = (e) => {\n    e.preventDefault()\n    const action = updateProps({ id: id, [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const updateCashFlow = () => {\n    const action = updateProps({ id: id, cash_flow: !formProps.cash_flow })\n    dispatch(action)\n  }\n\n  const submitForm = () => {\n    const event = EventMessageBuilder({\n      eventType: \"account-update\",\n      id: id,\n      name: {...props, ...updatedProps}.name,\n      changedProps: changedProps(props, updatedProps),\n    })\n    const url = ApiUrlBuilder({ route: \"account-show\", id: id })\n    const body = JSON.stringify(updatedProps)\n    const onSuccess = data => {\n      dispatch(updated(data))\n      dispatch(update({ id: id, showForm: false }))\n    }\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <Form\n      {...formProps}\n      closeForm={closeForm}\n      title={name}\n      updateAccountProps={updateAccountProps}\n      updateCashFlow={updateCashFlow}\n      resetForm={resetForm}\n      submitForm={submitForm}\n    />\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { account as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\nimport { deleted, update } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\n\nimport Edit from \"./Edit\"\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst AccountShow = (props) => {\n  const {\n    id,\n    cash_flow,\n    dispatch,\n    name,\n    priority,\n    showForm,\n    slug,\n  } = props\n\n  const {\n    cashFlow,\n    deleteButtonText,\n    deleteConfirmationMessage,\n    nonCashFlow,\n  } = copy\n\n  const revealForm = () => {\n    const action = update({ id: id, showForm: true })\n    dispatch(action)\n  }\n\n  const destroy = () => {\n    const confirmation = window.confirm(deleteConfirmationMessage(name))\n    if (!confirmation) { return }\n    const url = ApiUrlBuilder({ route: \"account-show\", id: id })\n    const event = EventMessageBuilder({\n      eventType: \"account-delete\",\n      id: id,\n      name: name\n    })\n    deleteRequest(url, event, () => dispatch(deleted({ id: id })))\n  }\n\n  if (showForm) {\n    return (\n      <Edit\n        {...props}\n      />\n    )\n  } else {\n    return (\n      <div className=\"account-edit\">\n        <div>\n          <h3>\n            {name}\n            {\" \"}\n            <Link\n              to=\"#\"\n              className=\"far fa-edit\"\n              onClick={revealForm}\n            />\n          </h3>\n          <div className=\"slug\">\n            {titleize(copy.slugLabel)}: {slug}\n          </div>\n          <div className=\"cash-flow\">\n            {titleize(cash_flow ? cashFlow : nonCashFlow)}\n          </div>\n          <div className=\"priority\">\n            {copy.priority}: {priority}\n          </div>\n          <div>\n            <button type=\"delete\" onClick={destroy} className=\"delete-account\">\n              {titleize(deleteButtonText)}\n              {\" \"}\n              <Icon className=\"fas fa-trash\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\nexport default connect(mapStateToProps)(AccountShow)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetched } from \"./actions\"\nimport { get } from \"../../functions/ApiClient\"\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\n\nimport New from \"./New\"\nimport Show from \"./Show\"\n\nconst Index = ({ isApiUnauthorized, apiKey, collection, dispatch, accountsFetched }) => {\n  if (isApiUnauthorized) {\n    return null\n  }\n\n  if (!accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"accounts\">\n      <div className=\"account-show\">\n        {collection.map(account =>\n          <Show\n            key={account.id}\n            {...account}\n          />\n        )}\n        <New />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { collection, accountsFetched } = state.accounts\n  const accounts = collection.sort((a, b) => a.priority - b.priority)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    accountsFetched: accountsFetched,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: accounts,\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","export const addFinalizeItem = (payload) => (\n  { type: \"budget/finalize/ADD_FINALIZE_ITEM\", payload: payload }\n)\n\nexport const baseMonthFetch = (payload) => (\n  { type: \"budget/finalize/BASE_MONTH_FETCH\", payload: payload }\n)\n\nexport const editBaseAmount = (payload) => (\n  { type: \"budget/finalize/EDIT_BASE_AMOUNT\", payload: payload }\n)\n\nexport const markIntervalClosed = (\n  { type: \"budget/finalize/MARK_INTERVAL_CLOSED\", payload: null }\n)\n\nexport const markSelected = (payload) => (\n  { type: \"budget/finalize/MARK_SELECTED\", payload: payload }\n)\n\nexport const nextMonthFetch = (payload) => (\n  { type: \"budget/finalize/NEXT_MONTH_FETCH\", payload: payload }\n)\n\nexport const setStatus = (payload) => (\n  { type: \"budget/finalize/SET_STATUS\", payload: payload }\n)\n\nexport const updateExtra = (payload) => (\n  { type: \"budget/finalize/UPDATE_EXTRA\", payload: payload }\n)\n\nexport const updateFinalizeItem = (payload) => (\n  { type: \"budget/finalize/UPDATE_FINALIZE_ITEM\", payload: payload }\n)\n\nexport const updateSelectedFromAccountId = (payload) => (\n  { type: \"budget/finalize/UPDATE_SELECTED_FROM_ACCOUNT_ID\", payload: payload }\n)\n\nexport const updateSelectedToAccountId = (payload) => (\n  { type: \"budget/finalize/UPDATE_SELECTED_TO_ACCOUNT_ID\", payload: payload }\n)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { formatted } from \"../../../functions/DateFormatter\"\n\nexport default ({ month, year }) => (\n  <div className=\"finalize-title\">\n    <h2>\n      {titleize(copy.finalize.title)} {formatted({ month: month, year: year, day: 1, format: \"monthYear\" })}</h2>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { isToday } from \"../../../functions/DateFormatter\"\nimport { get } from \"../../../functions/ApiClient\"\nimport { baseMonthFetch, nextMonthFetch } from \"../actions/finalize\"\n\nimport Header from \"./Header\"\nimport { Redirect } from \"react-router\"\n\nconst Index = (props) => {\n  const {\n    isApiUnauthorized,\n    baseMonthFetched,\n    baseMonthFinalized,\n    dispatch,\n    isEndOfMonth,\n    month,\n    nextMonth,\n    nextMonthFetched,\n    nextYear,\n    year,\n  } = props\n\n  if (!isEndOfMonth) {\n    return (\n      <Redirect to={`/budget/${month}/${year}`} />\n    )\n  }\n\n  if (!isApiUnauthorized && !baseMonthFetched) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: month, year: year },\n    })\n    const onSuccess = data => dispatch(baseMonthFetch(data))\n    get(url, onSuccess)\n  }\n\n  if (!isApiUnauthorized && baseMonthFetched && !nextMonthFetched) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: nextMonth, year: nextYear },\n    })\n    const onSuccess = data => dispatch(nextMonthFetch(data))\n    get(url, onSuccess)\n  }\n\n  if (!baseMonthFetched || !nextMonthFetched) {\n    return (\n      <Header\n        month={month}\n        year={year}\n      />\n    )\n  } else if (baseMonthFinalized) {\n    return (\n      <Redirect to={`/budget/${nextMonth}/${nextYear}`} />\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/accruals`} />\n    )\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { finalize } = state.budget\n  const baseMonthFetched = finalize.baseMonth.isFetched\n  const nextMonthFetched = finalize.next.isFetched\n  const baseMonthFinalized = finalize.baseMonth.is_closed_out\n  const { month, year } = finalize.baseMonth\n  const nextMonth = (finalize.next.month || (baseMonth === 12 ? 1 : (baseMonth + 1)))\n  const nextYear = (finalize.next.year || (baseMonth === 12 ? (baseYear + 1) : baseYear))\n  const isEndOfMonth = isToday(new Date((year || baseYear), (month || baseMonth), 0))\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    baseMonthFetched: baseMonthFetched,\n    baseMonthFinalized: baseMonthFinalized,\n    isEndOfMonth: isEndOfMonth,\n    month: (month || baseMonth),\n    nextMonth: nextMonth,\n    nextMonthFetched: nextMonthFetched,\n    nextYear: nextYear,\n    year: (year || baseYear),\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","export const addCategory = (newCategory) => {\n  return { type: \"budget/ADD_CATEGORY\", payload: newCategory }\n}\n\nexport const addMonthlyItem = (payload) => {\n  return { type: \"budget/ADD_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const addWeeklyItem = (payload) => {\n  return { type: \"budget/ADD_WEEKLY_ITEM\", payload: payload }\n}\n\nexport const baseMonthFetched = (payload) => {\n  return { type: \"budget/BASE_MONTH_FETCHED\", payload: payload }\n}\n\nexport const changeItemSortOrder = (payload) => {\n  return { type: \"budget/CHANGE_ITEM_SORT_ORDER\", payload: payload }\n}\n\nexport const editMonthlyItem = (payload) => {\n  return { type: \"budget/EDIT_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const editNewMonthlyItem = (payload) => {\n  return { type: \"budget/EDIT_NEW_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const editNewWeeklyItem = (payload) => {\n  return { type: \"budget/EDIT_NEW_WEEKLY_ITEM\", payload: payload }\n}\n\nexport const editWeeklyItem = (payload) => {\n  return { type: \"budget/EDIT_WEEKLY_ITEM\", payload: payload }\n}\n\nexport const fetchedWeeklyBudgetItemEvents = payload => (\n  { type: \"budget/FETCHED_WEEKLY_BUDGET_ITEM_EVENTS\", payload: payload }\n)\n\nexport const fetchedDiscretionaryTransactions = (payload) => {\n  return { type: \"budget/FETCHED_DISCRETIONARY_TRANSACTIONS\", payload: payload }\n}\n\nexport const fetchedWeeklyTransactions = (payload) => {\n  return { type: \"budget/FETCHED_WEEKLY_TRANSACTIONS\", payload: payload }\n}\n\nexport const itemsFetched = (response) => {\n  return { type: \"budget/ITEMS_FETCHED\", payload: response }\n}\n\nexport const newMonthFetched = (payload) => {\n  return { type: \"budget/NEW_MONTH_FETCHED\", payload: payload }\n}\n\nexport const removeMonthlyItem = ({ id }) => {\n  return { type: \"budget/REMOVE_MONTHLY_ITEM\", payload: id }\n}\n\nexport const removeWeeklyItem = ({ id }) => {\n  return { type: \"budget/REMOVE_WEEKLY_ITEM\", payload: id }\n}\n\nexport const toggleAccrualItems = (payload) => {\n  return { type: \"budget/TOGGLE_CLEARED_ITEMS\", payload: payload }\n}\n\nexport const toggleClearedItems = (payload) => {\n  return { type: \"budget/TOGGLE_CLEARED_ITEMS\", payload: payload }\n}\n\nexport const toggleDiscretionaryDetail = (payload) => {\n  return { type: \"budget/TOGGLE_DISCRETIONARY_DETAIL\", payload: payload }\n}\n\nexport const toggleMenu = (payload) => {\n  return { type: \"budget/TOGGLE_MENU\", payload: payload }\n}\n\nexport const toggleMonthlyItemForm = (payload) => {\n  return { type: \"budget/TOGGLE_MONTHLY_ITEM_FORM\", payload: payload }\n}\n\nexport const toggleWeeklyItemForm = (payload) => {\n  return { type: \"budget/TOGGLE_WEEKLY_ITEM_FORM\", payload: payload }\n}\n\nexport const updateMonthlyItem = (payload) => {\n  return { type: \"budget/UPDATE_MONTHLY_ITEM\", payload: payload }\n}\n\nexport const updateWeeklyItem = (payload) => {\n  return { type: \"budget/UPDATE_WEEKLY_ITEM\", payload: payload }\n}\n","import React from \"react\"\n\nexport default ({ errors }) => {\n  if (errors.length === 0) {\n    return null\n  } else {\n    return (\n      <ul className=\"input-errors\">\n        {errors.map((error, i) =>\n          <Error\n            key={i}\n            error={error}\n          />\n        )}\n      </ul>\n    )\n  }\n}\n\nconst Error = ({ error }) => (\n  <li className=\"input-error\">\n    {error}\n  </li>\n)\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { addFinalizeItem, editBaseAmount, setStatus, updateExtra } from \"../actions/finalize\"\nimport { addMonthlyItem, addWeeklyItem } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport Icon from \"../../Icons/Icon\"\n\nexport default (wrapper) => {\n  const { baseItem, dispatch } = wrapper\n  const { floatRemaining, remaining } = baseItem\n  const amount = floatRemaining === undefined ? (remaining / 100.0).toFixed(2) : floatRemaining\n\n  const handleChange = (e) => {\n    e.preventDefault()\n    const action = editBaseAmount({\n      ...baseItem,\n      floatRemaining: e.target.value\n    })\n    dispatch(action)\n    _updateExtra(parseFloat(e.target.value * 100))\n  }\n\n  const _updateExtra = (amount) => {\n    const applied = remaining - amount > -100 ? 0 : remaining - amount\n    const action = updateExtra({\n      id: baseItem.id,\n      name: baseItem.name,\n      amount: applied\n    })\n    dispatch(action)\n  }\n\n  const errors = () => {\n    if (Math.abs(parseInt(amount * 100)) > (Math.abs(remaining) + 100)) {\n      return [\"Cannot be greater than original amount\"]\n    } else {\n      return []\n    }\n  }\n\n  return (\n    <div className=\"finalize-accrual\">\n      <div className=\"item-name\">\n        {wrapper.baseItem.name}\n      </div>\n      <div className=\"item-input\">\n        <input\n          className={errors().length > 0 ? \"errors\" : \"\"}\n          disabled={wrapper.baseItem.status !== \"pending\"}\n          name=\"carryover\"\n          onChange={handleChange}\n          type=\"text\"\n          value={amount}\n        />\n        <Errors errors={errors()} />\n      </div>\n      <NextMonthItem\n        {...wrapper.nextItem}\n        baseItem={wrapper.baseItem}\n        dispatch={wrapper.dispatch}\n        nextMonth={wrapper.nextMonth}\n        nextYear={wrapper.nextYear}\n      />\n      <Total\n        nextMonth={wrapper.nextItem}\n        remaining={parseInt(amount * 100)}\n      />\n      <Indicator status={wrapper.baseItem.status} />\n    </div>\n  )\n}\n\nconst NextMonthItem = (props) => {\n  const {\n    id,\n    amount,\n    baseItem,\n    dispatch,\n    nextMonth,\n    nextYear,\n  } = props\n\n  if (id) {\n    return (\n      <div className=\"next-month-amount\">\n        {MoneyFormatter(amount, { absolute: false })}\n      </div>\n    )\n  } else if (baseItem.status !== \"reviewed\") {\n    return (\n      <MissingItem\n        {...baseItem}\n        dispatch={dispatch}\n        nextMonth={nextMonth}\n        nextYear={nextYear}\n      />\n    )\n  } else {\n    return (\n      <div className=\"next-month-amount\">\n      </div>\n    )\n  }\n}\n\nconst Total = ({ nextMonth, remaining }) => {\n  const total = nextMonth ? (remaining + nextMonth.amount) : 0\n  return (\n    <div className=\"next-month-amount\">\n      {MoneyFormatter(total, { absolute: false })}\n    </div>\n  )\n}\n\nconst MissingItem = (props) => {\n  const {\n    id,\n    budget_category_id,\n    dispatch,\n    monthly,\n    name,\n    nextMonth,\n    nextYear,\n    remaining,\n  } = props\n\n  const ignoreItem = () => {\n    const action = updateExtra({\n      id: id,\n      name: name,\n      amount: remaining,\n    })\n    dispatch(action)\n    dispatch(setStatus({ id: id, status: \"reviewed\" }))\n  }\n\n  const createItem = () => {\n    const url = ApiUrlBuilder({\n      route: \"budget-category-items-index\",\n      id: budget_category_id,\n    })\n    const body = JSON.stringify({\n      amount: 0,\n      month: nextMonth,\n      year: nextYear,\n    })\n    const onSuccess = (data) => {\n      if (monthly) {\n        dispatch(addMonthlyItem(data))\n      } else {\n        dispatch(addWeeklyItem(data))\n      }\n      dispatch(addFinalizeItem(data))\n    }\n    const event = EventMessageBuilder({ eventType: \"budget-item-create\" })\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  return (\n    <div className=\"next-month-amount\">\n      <button\n        className=\"ignore\"\n        onClick={ignoreItem}\n      >\n        {titleize(copy.finalize.disregard)}\n        {\" \"}\n        <span className=\"fas fa-times\"></span>\n      </button>\n      <button\n        className=\"create-item\"\n        onClick={createItem}\n      >\n        {titleize(copy.finalize.createItem)}\n        {\" \"}\n        <span className=\"fas fa-check\"></span>\n      </button>\n    </div>\n  )\n}\n\nconst Indicator = ({ status }) => {\n  const klass = () => {\n    switch(status) {\n    case \"pending\":\n      return \"far fa-check-circle\"\n    case \"submitted\":\n      return \"fas fa-compact-disc fa-spin\"\n    case \"reviewed\":\n      return \"fas fa-check-circle green\"\n    default:\n      return \"far fa-check-circle\"\n    }\n  }\n\n  return (\n    <div className=\"indicator\">\n      <Icon className={klass()} />\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ extra }) => {\n  const collection = extra\n    .filter(item => item.amount !== 0)\n    .sort((a, b) => a.name < b.name ? -1 : 1)\n\n  const total = collection.reduce((acc, item) => { return acc + item.amount }, 0)\n  return (\n    <div className=\"finalize-summary\">\n      <h2>{titleize(copy.finalize.summary)}</h2>\n      <div className=\"extra\">\n        <span>{titleize(copy.finalize.extra)}: </span>\n        <span>{MoneyFormatter((total * -1), { absolute: false })} </span>\n      </div>\n      {collection.map((item, i) =>\n        <ExtraItem\n          key={i}\n          {...item}\n        />\n      )}\n    </div>\n  )\n}\n\nconst ExtraItem = ({ name, amount }) => (\n  <div className=\"extra\">\n    <span>{name}</span>\n    <span>{MoneyFormatter((amount * -1), { absolute: false })}</span>\n  </div>\n)\n","export default (ms) => new Promise(resolve => setTimeout(resolve, ms))\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  setStatus,\n  updateFinalizeItem,\n} from \"../actions/finalize\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport delay from \"../../../functions/Delay\"\nimport { post } from \"../../../functions/ApiClient\"\n\nexport default ({ collection, dispatch }) => {\n  const submit = ({ id, amount, budget_category_id, name, originalAmount, month, year }) => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: id,\n      category: name,\n      month: month,\n      year: year,\n      originalAmount: (originalAmount / 100.0),\n      newAmount: (amount / 100.0),\n    })\n    const body = JSON.stringify(\n      {\n        events: [\n          {\n            event_type: \"rollover_item_adjust\",\n            budget_item_id: id,\n            amount: amount,\n          }\n        ]\n      }\n    )\n    post(url, body, { event: event, onSuccess: data => dispatch(updateFinalizeItem(data)) })\n  }\n\n  const amountFor = (item) => {\n    if (item.baseItem.floatRemaining || item.baseItem.floatRemaining === \"\") {\n      return item.nextItem.amount + ((parseFloat(item.baseItem.floatRemaining) * 100) || 0)\n    } else {\n      return item.nextItem.amount + item.baseItem.remaining\n    }\n  }\n\n  const handleSubmit = async () => {\n    for (let item of collection) {\n      const { id } = item.baseItem\n      if (item.nextItem) {\n        dispatch(setStatus({ id: id, status: \"submitted\" }))\n        submit({\n          id: item.nextItem.id,\n          amount: amountFor(item),\n          budget_category_id: item.baseItem.budget_category_id,\n          name: item.baseItem.name,\n          originalAmount: item.nextItem.amount,\n          month: item.nextItem.month,\n          year: item.nextItem.year,\n        })\n      }\n      await delay(500)\n      dispatch(setStatus({ id: id, status: \"reviewed\" }))\n    }\n  }\n\n  return (\n    <button\n      onClick={handleSubmit}\n    >\n      {titleize(copy.finalize.submitAccrualButtonText)}\n    </button>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport DateFormatter from \"../../../functions/DateFormatter\"\n\nimport Header from \"./Header\"\nimport { Redirect } from \"react-router\"\nimport Show from \"./AccrualShow\"\nimport Summary from \"./Summary\"\nimport UpdateButton from \"./UpdateAccruals\"\n\nconst Accruals = (props) => {\n  const {\n    collection,\n    dispatch,\n    extra,\n    isFetched,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  const format = \"numericMonthYear\"\n  const reviewCount = collection.filter(item => item.baseItem.status !== \"reviewed\")\n\n  if (!isFetched) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/start`} />\n    )\n  } else if (reviewCount.length > 0) {\n    return (\n      <div>\n        <Header\n          month={month}\n          year={year}\n        />\n        <div className=\"finalize-wrapper\">\n          <div className=\"finalize-workspace\">\n            <h4>{titleize(copy.category.accruals)}</h4>\n            <div className=\"finalize-accrual\">\n              <div className=\"item-name\">\n                {titleize(copy.category.name)}\n              </div>\n              <div className=\"item-input\">\n                {copy.finalize.remainingIn(\n                  DateFormatter({\n                    month: month,\n                    year: year,\n                    format: format,\n                  })\n                )}\n              </div>\n              <div className=\"next-month-amount\">\n                {copy.finalize.budgetedFor(\n                  DateFormatter({\n                    month: nextMonth,\n                    year: nextYear,\n                    format: format,\n                  })\n                )}\n              </div>\n              <div className=\"next-month-amount\">\n                {titleize(copy.shared.total)}\n              </div>\n              <div className=\"indicator\"></div>\n            </div>\n            {collection.map(wrapper =>\n              <Show\n                key={wrapper.baseItem.id}\n                {...wrapper}\n                dispatch={dispatch}\n                nextMonth={nextMonth}\n                nextYear={nextYear}\n              />\n            )}\n            <div className=\"next-month-accrual-submit\">\n              <UpdateButton\n                collection={collection}\n                dispatch={dispatch}\n              />\n            </div>\n          </div>\n          <Summary\n            extra={extra}\n          />\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/items`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { finalize } = state.budget\n  const { isFetched, month, year } = finalize.baseMonth\n  const { extra, next } = finalize\n  const nextMonthCollection = next.collection\n  const collection = state.budget.finalize.baseMonth.collection\n    .filter(item => item.accrual && item.remaining < 0)\n    .sort((a, b) => a.name <= b.name ? -1 : 1)\n    .map(item => {\n      return {\n        baseItem: item,\n        nextItem: nextMonthCollection.find(i => i.budget_category_id === item.budget_category_id),\n      }\n    })\n\n  return {\n    collection: collection,\n    isFetched: isFetched,\n    extra: extra,\n    month: (month || baseMonth),\n    nextMonth: next.month,\n    nextYear: next.year,\n    year: (year || baseYear),\n  }\n}\n\nexport default connect(mapStateToProps)(Accruals)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { created } from \"../../../actions/transactions\"\nimport { markIntervalClosed } from \"../actions/finalize\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport DateFormatter from \"../../../functions/DateFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post, put } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\n\nexport default (props) => {\n  const {\n    dispatch,\n    month,\n    note,\n    selectedFromAccountId,\n    selectedToAccountId,\n    totalExtra,\n    year,\n  } = props\n\n  if (selectedFromAccountId === null || selectedToAccountId === null) {\n    return null\n  }\n\n  const dateString = DateFormatter({ month: month, year: year, format: \"numericMonthYear\" })\n\n  const createFromTransaction = () => {\n    const url = ApiUrlBuilder({ route: \"transactions-index\", accountId: selectedFromAccountId })\n    const body = JSON.stringify({\n      details_attributes: [{\n        amount: totalExtra,\n      }],\n      description: copy.finalize.depositMessage(dateString),\n      notes: note,\n    })\n    const onSuccess = data => {\n      dispatch(created(data))\n    }\n    const event = EventMessageBuilder({ eventType: \"transaction-entry-create\" })\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const createToTransaction = (callback) => {\n    const url = ApiUrlBuilder({ route: \"transactions-index\", accountId: selectedToAccountId })\n    const body = JSON.stringify({\n      details_attributes: [{\n        amount: (-1 * totalExtra),\n      }],\n      description: copy.finalize.depositMessage(dateString),\n      budget_exclusion: true,\n    })\n    const onSuccess = data => {\n      dispatch(created(data))\n      callback()\n    }\n    const event = EventMessageBuilder({ eventType: \"transaction-entry-create\" })\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  const updateInterval = () => {\n    const url = ApiUrlBuilder({ route: \"interval-show\", month: month, year: year })\n    const body = { close_out_completed_at: new Date() }\n    const event = EventMessageBuilder({\n      eventType: \"interval-closed\",\n      closeOutCompletedAt: body.close_out_completed_at,\n      month: month,\n      year: year,\n    })\n    put(url, JSON.stringify(body), { onSuccess: () => dispatch(markIntervalClosed), event: event })\n  }\n\n  const handleSubmit = () => {\n    createFromTransaction()\n    createToTransaction(updateInterval)\n  }\n\n  return (\n    <button\n      type=\"submit\"\n      onClick={handleSubmit}\n      className=\"deposit-extra\"\n    >\n      {titleize(copy.finalize.depositExtra)}\n      {\" \"}\n      <Icon className=\"fas fa-donate\" />\n    </button>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { fetched as acctFetched } from \"../../Accounts/actions\"\nimport { markIntervalClosed, updateSelectedFromAccountId, updateSelectedToAccountId } from \"../actions/finalize\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get, put } from \"../../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport Submit from \"./Submit\"\nimport Summary from \"./Summary\"\nimport Header from \"./Header\"\nimport { Redirect } from \"react-router-dom\"\nimport Select from \"react-select\"\n\nconst Finish = (props) => {\n  const {\n    accountsFetched,\n    isApiUnauthorized,\n    baseMonthFetched,\n    baseMonthFinalized,\n    dispatch,\n    extra,\n    fromOptions,\n    fromValue,\n    month,\n    nextMonth,\n    nextYear,\n    note,\n    selectedFromAccountId,\n    selectedToAccountId,\n    toOptions,\n    totalExtra,\n    toValue,\n    year,\n  } = props\n\n  if (!baseMonthFetched) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/start`} />\n    )\n  } else if (baseMonthFinalized) {\n    return (\n      <Redirect to={`/budget/${nextMonth}/${nextYear}`} />\n    )\n  } else if (totalExtra >= 0) {\n    const url = ApiUrlBuilder({ route: \"interval-show\", month: month, year: year })\n    const body = { close_out_completed_at: new Date() }\n    const event = EventMessageBuilder({\n      eventType: \"interval-mark-complete\",\n      month: month,\n      year: year,\n      closeOutCompletedAt: body.close_out_completed_at,\n    })\n    const onSuccess = () => dispatch(markIntervalClosed)\n    put(url, JSON.stringify(body), { event: event, onSuccess: onSuccess  })\n    return null\n  } else if (!isApiUnauthorized && !accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(acctFetched(data))\n    get(url, onSuccess)\n    return null\n  } else {\n    return (\n      <div>\n        <Header\n          month={month}\n          year={year}\n        />\n        <div className=\"finalize-wrapper\">\n          <div className=\"finalize-workspace\">\n            <h4>{titleize(copy.finalize.depositExtra)}</h4>\n            <div className=\"finalize-extra\">\n              <div className=\"title\">\n                {titleize(`${copy.shared.total} ${copy.finalize.extra} ${MoneyFormatter(totalExtra, { absolute: true })}`)}\n              </div>\n              <AccountSelect\n                actionFn={updateSelectedFromAccountId}\n                dispatch={dispatch}\n                options={fromOptions}\n                title={copy.finalize.selectFromAccount}\n                value={fromValue}\n              />\n              <AccountSelect\n                actionFn={updateSelectedToAccountId}\n                dispatch={dispatch}\n                options={toOptions}\n                title={copy.finalize.selectToAccount}\n                value={toValue}\n              />\n              <div className=\"extra-submit\">\n                <Submit\n                  dispatch={dispatch}\n                  month={month}\n                  note={note}\n                  selectedFromAccountId={selectedFromAccountId}\n                  selectedToAccountId={selectedToAccountId}\n                  totalExtra={totalExtra}\n                  year={year}\n                />\n              </div>\n            </div>\n          </div>\n          <Summary extra={extra} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst AccountSelect = ({ actionFn, dispatch, options, value, title }) => {\n  const handleChange = (e) => {\n    const action = actionFn({ id: e.value })\n    dispatch(action)\n  }\n\n  return (\n    <div className=\"account-select\">\n      {title}\n      <Select\n        isSearchable={false}\n        onChange={handleChange}\n        options={options}\n        value={value}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { accounts, budget } = state\n  const { finalize } = budget\n  const baseMonthFetched = finalize.baseMonth.isFetched\n  const { month, year } = finalize.baseMonth\n  const nextMonth = (finalize.next.month || (baseMonth === 12 ? 1 : (baseMonth + 1)))\n  const nextYear = (finalize.next.year || (baseMonth === 12 ? (baseYear + 1) : baseYear))\n  const { extra, selectedFromAccountId, selectedToAccountId } = finalize\n  const totalExtra = extra.reduce((sum, item) => sum + item.amount, 0)\n  const fromOptions = accounts\n    .collection\n    .filter(a => a.cash_flow)\n    .map(account => ({ label: account.name, value: account.id }))\n  const fromValue = fromOptions.find(option => option.value === selectedFromAccountId)\n  const toOptions = accounts\n    .collection\n    .filter(a => !a.cash_flow)\n    .map(account => ({ label: account.name, value: account.id }))\n  const toValue = toOptions.find(option => option.value === selectedToAccountId)\n  const note = extra\n    .filter(item => item.amount !== 0)\n    .map(item => `${item.name} (${MoneyFormatter(item.amount, { absoulte: false })})`)\n    .join(\"; \")\n\n  return {\n    accountsFetched: accounts.accountsFetched,\n    baseMonthFetched: baseMonthFetched,\n    baseMonthFinalized: finalize.baseMonth.is_closed_out,\n    extra: extra,\n    fromOptions: fromOptions,\n    fromValue: fromValue,\n    month: (month || baseMonth),\n    nextMonth: nextMonth,\n    nextYear: nextYear,\n    note: note,\n    selectedFromAccountId: selectedFromAccountId,\n    selectedToAccountId: selectedToAccountId,\n    toOptions: toOptions,\n    totalExtra: totalExtra,\n    toValue: toValue,\n    year: (year || baseYear),\n  }\n}\n\nexport default connect(mapStateToProps)(Finish)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../../functions/MoneyFormatter\"\n\nexport default ({ amount, errors, remaining }) => {\n  const total = -1 * (remaining - (amount * 100))\n\n  if (errors.length > 0 || total === 0) {\n    return null\n  }\n\n  return (\n    <div className=\"total\">\n      <div>\n        <em>{titleize(copy.finalize.appliedToExtra)}:</em>\n      </div>\n      <div>\n        <em>({MoneyFormatter(total, { absolute: false })})</em>\n      </div>\n    </div>\n  )\n}\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\n\nimport {\n  setStatus,\n  updateExtra,\n} from \"../../actions/finalize\"\n\nimport Icon from \"../../../Icons/Icon\"\n\nexport default ({ amount, baseItem, dispatch }) => {\n  const {\n    id,\n    name,\n    remaining\n  } = baseItem\n\n  if (Math.round(amount * 100) !== remaining) {\n    return null\n  }\n\n  const handleSubmit = () => {\n    dispatch(updateExtra({\n      id: id,\n      name: name,\n      amount: remaining,\n    }))\n    dispatch(setStatus({\n      id: id,\n      status: \"reviewed\"\n    }))\n  }\n\n  return (\n    <button\n      className=\"apply-to-extra\"\n      onClick={handleSubmit}\n    >\n      {copy.finalize.applyToExtra}\n      {\" \"}\n      <Icon className=\"fas fa-donate\" />\n    </button>\n  )\n}\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\n\nimport MoneyFormatter from \"../../../../functions/MoneyFormatter\"\n\nexport default (props) => {\n  const {\n    monthly,\n    nextItem,\n    nextMonthString,\n  } = props\n\n  if (!nextItem && monthly) {\n    return null\n  }\n\n  const amount = nextItem ? nextItem.amount : 0\n\n  return (\n    <div className=\"budgeted\">\n      <div>\n        {copy.finalize.budgetedFor(nextMonthString)}:\n      </div>\n      <div className=\"amount\">\n        {MoneyFormatter(amount, { absolute: false })}\n      </div>\n    </div>\n  )\n}\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\n\nimport {\n  addFinalizeItem,\n  setStatus,\n  updateFinalizeItem,\n} from \"../../actions/finalize\"\nimport { addMonthlyItem, addWeeklyItem } from \"../../../../actions/budget\"\nimport { decimalToInt } from \"../../../../functions/MoneyFormatter\"\n\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../../functions/ApiClient\"\n\nimport Icon from \"../../../Icons/Icon\"\n\nexport default (props) => {\n  const {\n    amount,\n    baseItemId,\n    budgetCategoryId,\n    dispatch,\n    errors,\n    monthly,\n    nextItem,\n    nextMonth,\n    nextYear,\n    remaining,\n  } = props\n\n  if (errors.length > 0) {\n    return null\n  }\n\n  const nextAmount = nextItem ? nextItem.amount : 0\n  const total = nextAmount + (amount * 100)\n\n  const markReviewed = () => {\n    const action = setStatus({\n      id: baseItemId,\n      status: \"reviewed\"\n    })\n    dispatch(action)\n  }\n\n  const handleSubmit = () => {\n    if (nextItem) {\n      updateItem()\n    } else if ((amount * 100 === remaining)) {\n      markReviewed()\n    } else {\n      createItem()\n    }\n  }\n\n  const updateItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify(\n      {\n        events: [\n          {\n            event_type: \"rollover_item_adjust\",\n            budget_item_id: nextItem.id,\n            amount: decimalToInt(amount),\n          }\n        ]\n      }\n    )\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: nextItem.id,\n      category: nextItem.name,\n      month: nextItem.month,\n      year: nextItem.year,\n      originalAmount: nextItem.originalAmount,\n      newAmount: amount,\n    })\n    const onSuccess = (data) => {\n      dispatch(updateFinalizeItem(data))\n      markReviewed()\n    }\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  const createItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          event_type: \"rollover_item_create\",\n          amount: total,\n          budget_category_id: budgetCategoryId,\n          month: nextMonth,\n          year: nextYear,\n        }\n      ]\n    })\n    const onSuccess = (data) => {\n      if (monthly) {\n        dispatch(addMonthlyItem(data[0].item))\n      } else {\n        dispatch(addWeeklyItem(data[0].item))\n      }\n      dispatch(addFinalizeItem(data[0].item))\n      markReviewed()\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <button\n      className=\"carry-over-submit\"\n      onClick={handleSubmit}\n      type=\"submit\"\n    >\n      {titleize(copy.finalize.rollOver)}\n      {\" \"}\n      <Icon className=\"fas fa-check\" />\n    </button>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\n\nimport MoneyFormatter from \"../../../../functions/MoneyFormatter\"\n\nexport default ({ amount, errors, nextItem, nextMonthString }) => {\n  if (errors.length > 0) {\n    return null\n  }\n\n  const nextAmount = nextItem ? nextItem.amount : 0\n  const total = nextAmount + ((amount || 0) * 100)\n  return (\n    <div className=\"total\">\n      <div>\n        {copy.finalize.updatedAmountFor(nextMonthString)}:\n      </div>\n      <div>\n        {MoneyFormatter(total, { absolute: false })}\n      </div>\n    </div>\n  )\n}\n\n\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport {\n  editBaseAmount,\n  markSelected,\n  setStatus,\n  updateExtra,\n} from \"../actions/finalize\"\n\nimport DateFormatter from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport AmountForExtra from \"./Items/AmountForExtra\"\nimport ApplyToExtra from \"./Items/ApplyToExtra\"\nimport Errors from \"../../Errors/Errors\"\nimport NextMonthItem from \"./Items/NextMonthItem\"\nimport Submit from \"./Items/Submit\"\nimport Total from \"./Items/Total\"\n\nexport default (props) => {\n  const {\n    dispatch,\n    item,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  const { baseItem, nextItems } = item\n  const {\n    id,\n    expense,\n    floatRemaining,\n    monthly,\n    name,\n    remaining,\n    status,\n   } = baseItem\n\n  const format = \"numericMonthYear\"\n  const baseMonthString = DateFormatter({\n    month: month,\n    year: year,\n    format: format,\n  })\n  const nextMonthString = DateFormatter({\n    month: nextMonth,\n    year: nextYear,\n    format: format,\n  })\n\n  const amount = floatRemaining === undefined ? (remaining / 100.0).toFixed(2) : (floatRemaining || 0)\n\n  const errors = () => {\n    const errorMessages = []\n    if (Math.abs(parseInt(amount * 100)) > (Math.abs(remaining) + 1)) {\n      errorMessages.push(copy.finalize.exceedsOriginalAmount)\n    }\n    if (expense && amount > 0) {\n      errorMessages.push(copy.finalize.positiveExpenseErrorMessage)\n    }\n    if (!expense && amount < 0) {\n      errorMessages.push(copy.finalize.negativeRevenueErrorMessage)\n    }\n    return errorMessages\n  }\n\n  const handleChange = (e) => {\n    const action = editBaseAmount({\n      ...baseItem,\n      floatRemaining: (e.target.value || 0)\n    })\n    dispatch(action)\n    _updateExtra(parseFloat(e.target.value * 100))\n  }\n\n  const _updateExtra = (amount) => {\n    const action = updateExtra({\n      id: id,\n      name: name,\n      amount: (baseItem.amount - amount)\n    })\n    dispatch(action)\n  }\n\n  const nextItem = nextItems.find(i => i.selected)\n\n  return (\n    <div className=\"finalize-workspace\">\n      <h4>{titleize(copy.finalize.carryOver)}</h4>\n      <div className=\"finalize-carry-over\">\n        <div className=\"item-name\">\n          {name}\n        </div>\n        <div className=\"remaining\">\n          <div>\n            {copy.finalize.carryOverFrom(baseMonthString)}:\n          </div>\n          <div>\n            <input\n              className={errors().length > 0 ? \"errors\" : \"\"}\n              name=\"remaining\"\n              onChange={handleChange}\n              type=\"text\"\n              value={amount || \"\"}\n            />\n            <Errors errors={errors()} />\n          </div>\n        </div>\n        <NextMonthItem\n          monthly={true}\n          nextItem={nextItem}\n          nextMonthString={nextMonthString}\n        />\n        <NextMonthTotal\n          amount={amount}\n          errors={errors()}\n          nextItem={nextItem}\n          nextMonthString={nextMonthString}\n        />\n        <AmountForExtra\n          amount={amount}\n          errors={errors()}\n          remaining={remaining}\n        />\n        <div className=\"submit-row\">\n          <ApplyToExtra\n            amount={amount}\n            baseItem={baseItem}\n            dispatch={dispatch}\n          />\n          <Submit\n            amount={amount}\n            budgetCategoryId={baseItem.budget_category_id}\n            baseItemId={id}\n            dispatch={dispatch}\n            errors={errors()}\n            monthly={monthly}\n            nextItem={nextItem}\n            nextMonth={nextMonth}\n            nextYear={nextYear}\n          />\n        </div>\n        <NextMonthItemSelect\n          baseItemId={id}\n          dispatch={dispatch}\n          nextItems={nextItems}\n          showNextItems={status === \"showNextItems\"}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst NextMonthTotal = ({ amount, errors, nextItem, nextMonthString }) => {\n  if (!nextItem || errors.length > 0) {\n    return null\n  }\n\n  return (\n    <Total\n      amount={amount}\n      errors={errors}\n      nextItem={nextItem}\n      nextMonthString={nextMonthString}\n    />\n  )\n}\n\nconst NextMonthItemSelect = ({ baseItemId, dispatch, nextItems, showNextItems }) => {\n  const count = nextItems.length\n  if (count === 0) {\n    return null\n  }\n\n  const selectedItem = nextItems.find(item => item.selected)\n\n  const revealNextItems = () => {\n    const action = setStatus({\n      id: baseItemId,\n      status: \"showNextItems\"\n    })\n    dispatch(action)\n  }\n\n  const hideNextItems = () => {\n    dispatch(setStatus({\n      id: baseItemId,\n      status: \"pending\"\n    }))\n    dispatch(markSelected({ id: null }))\n  }\n\n  if (!showNextItems) {\n    return (\n      <div className=\"existing-items\">\n        <div className=\"item\">\n          <button\n            to=\"#\"\n            onClick={revealNextItems}\n          >\n            {titleize(copy.finalize.revealNextItems(count))}\n          </button>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"existing-items\">\n        {nextItems.map(item => (\n          <NextItemRadio\n            key={item.id}\n            {...item}\n            dispatch={dispatch}\n            label={MoneyFormatter(item.amount, { absolute: false })}\n            selectedItem={selectedItem}\n          />\n        ))}\n        <div className=\"item\">\n          <button\n            to=\"#\"\n            onClick={hideNextItems}\n          >\n            {titleize(copy.finalize.createItem)}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst NextItemRadio = ({ id, dispatch, label, selectedItem }) => {\n  const handleChange = () => {\n    const action = markSelected({ id: id })\n    dispatch(action)\n  }\n\n  const selected = selectedItem && (selectedItem.id === id)\n\n  return (\n    <div className=\"item\">\n      <span>{label}</span>\n      <span>\n        <input\n          checked={selected ? \"checked\" : \"\"}\n          name=\"next-item\"\n          onChange={handleChange}\n          value={id}\n          type=\"radio\"\n        />\n      </span>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport {\n  editBaseAmount,\n  updateExtra,\n} from \"../actions/finalize\"\n\nimport DateFormatter from \"../../../functions/DateFormatter\"\n\nimport AmountForExtra from \"./Items/AmountForExtra\"\nimport ApplyToExtra from \"./Items/ApplyToExtra\"\nimport Errors from \"../../Errors/Errors\"\nimport NextMonthItem from \"./Items/NextMonthItem\"\nimport Submit from \"./Items/Submit\"\nimport Total from \"./Items/Total\"\n\nexport default (props) => {\n  const {\n    dispatch,\n    item,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  const { baseItem } = item\n  const { id, expense, floatRemaining, monthly, name, remaining } = baseItem\n  const format = \"numericMonthYear\"\n  const baseMonthString = DateFormatter({\n    month: month,\n    year: year,\n    format: format,\n  })\n  const nextMonthString = DateFormatter({\n    month: nextMonth,\n    year: nextYear,\n    format: format,\n  })\n\n  const handleChange = (e) => {\n    const action = editBaseAmount({\n      ...baseItem,\n      floatRemaining: (e.target.value || 0)\n    })\n    dispatch(action)\n    _updateExtra(parseFloat(e.target.value * 100))\n  }\n\n  const _updateExtra = (amount) => {\n    const action = updateExtra({\n      id: id,\n      name: name,\n      amount: (baseItem.remaining - amount)\n    })\n    dispatch(action)\n  }\n\n  const amount = floatRemaining === undefined ? (remaining / 100.0).toFixed(2) : (floatRemaining || 0)\n\n  const errors = () => {\n    const errorMessages = []\n    if (Math.abs(parseInt(amount * 100)) > (Math.abs(remaining) + 1)) {\n      errorMessages.push(copy.finalize.exceedsOriginalAmount)\n    }\n    if (expense && amount > 0) {\n      errorMessages.push(copy.finalize.positiveExpenseErrorMessage)\n    }\n    if (!expense && amount < 0) {\n      errorMessages.push(copy.finalize.negativeRevenueErrorMessage)\n    }\n    return errorMessages\n  }\n\n  return (\n    <div className=\"finalize-workspace\">\n      <h4>{titleize(copy.finalize.carryOver)}</h4>\n      <div className=\"finalize-carry-over\">\n        <div className=\"item-name\">\n          {name}\n        </div>\n        <div className=\"remaining\">\n          <div>\n            {copy.finalize.carryOverFrom(baseMonthString)}:\n          </div>\n          <div>\n            <input\n              className={errors().length > 0 ? \"errors\" : \"\"}\n              name=\"remaining\"\n              onChange={handleChange}\n              type=\"text\"\n              value={amount || \"\"}\n            />\n            <Errors errors={errors()} />\n          </div>\n        </div>\n        <NextMonthItem\n          nextItem={item.nextItems[0]}\n          nextMonthString={nextMonthString}\n        />\n        <Total\n          amount={amount}\n          errors={errors()}\n          nextItem={item.nextItems[0]}\n          nextMonthString={nextMonthString}\n        />\n        <AmountForExtra\n          amount={amount}\n          errors={errors()}\n          remaining={remaining}\n        />\n        <div className=\"submit-row\">\n          <ApplyToExtra\n            amount={amount}\n            baseItem={baseItem}\n            dispatch={dispatch}\n          />\n          <Submit\n            amount={amount}\n            budgetCategoryId={baseItem.budget_category_id}\n            baseItemId={id}\n            dispatch={dispatch}\n            errors={errors()}\n            monthly={monthly}\n            nextItem={item.nextItems[0]}\n            nextMonth={nextMonth}\n            nextYear={nextYear}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Header from \"./Header\"\nimport MonthlyItem from \"./MonthlyItem\"\nimport { Redirect } from \"react-router\"\nimport Summary from \"./Summary\"\nimport WeeklyItem from \"./WeeklyItem\"\n\nconst Items = (props) => {\n  const {\n    dispatch,\n    extra,\n    isFetched,\n    item,\n    month,\n    nextMonth,\n    nextYear,\n    year,\n  } = props\n\n  if (!isFetched) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/start`} />\n    )\n  } else if (!item) {\n    return (\n      <Redirect to={`/budget/finalize/${month}/${year}/finish`} />\n    )\n  } else {\n    return (\n      <div>\n        <Header\n          month={month}\n          year={year}\n        />\n        <div className=\"finalize-wrapper\">\n          <Item\n            item={item}\n            dispatch={dispatch}\n            month={month}\n            nextMonth={nextMonth}\n            nextYear={nextYear}\n            year={year}\n          />\n          <Summary\n            extra={extra}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst Item = (props) => {\n  if (props.item.baseItem.monthly) {\n    return (\n      <MonthlyItem\n        {...props}\n      />\n    )\n  } else {\n    return (\n      <WeeklyItem\n        {...props}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const baseMonth = parseInt(ownProps.match.params.month)\n  const baseYear = parseInt(ownProps.match.params.year)\n  const { finalize } = state.budget\n  const { isFetched, month, year } = finalize.baseMonth\n  const { extra, next } = finalize\n  const nextMonthCollection = next.collection\n  const filterFn = (item) =>  (item.expense && item.remaining < 0) || (!item.expense && item.remaining > 0)\n  const collection = state.budget.finalize.baseMonth.collection\n    .filter(item => !item.accrual && item.status !== \"reviewed\")\n    .filter(filterFn)\n    .sort((a, b) => Math.abs(a.remaining) - Math.abs(b.remaining))\n    .map(item => {\n      return {\n        baseItem: item,\n        nextItems: nextMonthCollection.filter(i => i.budget_category_id === item.budget_category_id),\n      }\n    })\n  const item = collection[0]\n\n  return {\n    isFetched: isFetched,\n    item: item,\n    extra: extra,\n    month: (month || baseMonth),\n    nextMonth: next.month,\n    nextYear: next.year,\n    year: (year || baseYear)\n  }\n}\n\nexport default connect(mapStateToProps)(Items)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { Redirect } from \"react-router\"\n\nconst Tab = ({ month, year }) => (\n  <Redirect to={`/budget/${month}/${year}`} />\n)\n\nconst mapStateToProps = (state) => (\n  {\n    month: state.budget.metadata.month,\n    year: state.budget.metadata.year,\n  }\n)\n\nexport default connect(mapStateToProps)(Tab)\n","export const accrualMaturityIntervalsFetched = (payload) => {\n  return { type: \"budget/categories/MATURITY_INTERVALS_FETCHED\", payload: payload }\n}\n\nexport const applyErrorsOnEdit = (payload) => (\n  { type: \"budget/categories/APPLY_ERRORS_ON_EDIT\", payload: payload }\n)\n\nexport const applyFilter = (payload) => {\n  return { type: \"budget/categories/APPLY_FILTER\", payload: payload }\n}\n\nexport const categoriesFetched = (collection) => {\n  return { type: \"budget/categories/FETCHED\", payload: collection }\n}\n\nexport const created = (payload) => {\n  return { type: \"budget/categories/CREATED\", payload: payload }\n}\n\nexport const deleted = (payload) => {\n  return { type: \"budget/categories/DELETED\", payload: payload }\n}\n\nexport const editMaturityInterval = (payload) => {\n  return { type: \"budget/categories/EDIT_MATURITY_INTERVAL\", payload: payload }\n}\n\nexport const errorsOnNew = (payload) => {\n  return { type: \"budget/categories/ERRORS_ON_NEW\", payload: payload }\n}\n\nexport const maturityIntervalCreated = (payload) => {\n  return { type: \"budget/categories/MATURITY_INTERVAL_CREATED\", payload: payload }\n}\n\nexport const removeMaturityInterval = (payload) => {\n  return { type: \"budget/category/REMOVE_MATURITY_INTERVAL\", payload: payload }\n}\n\nexport const reset = ({ id }) => {\n  return { type: \"budget/categories/RESET\", payload: { id: id, showForm: false } }\n}\n\nexport const resetNewForm = () => {\n  return { type: \"budget/categories/RESET_NEW_FORM\", payload: null }\n}\n\nexport const toggleMaturityIntervalEditForm = (payload) => {\n  return { type: \"budget/categories/TOGGLE_MATURITY_INTERVAL_EDIT_FORM\", payload: payload }\n}\n\nexport const toggleNewForm = (payload) => {\n  return { type: \"budget/categories/TOGGLE_NEW_FORM\", payload: payload }\n}\n\nexport const update = (payload) => {\n  return { type: \"budget/categories/UPDATE\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"budget/categories/UPDATED\", payload: payload }\n}\n\nexport const updateMaturityInterval = (payload) => {\n  return { type: \"budget/categories/UPDATE_MATURITY_INTERVAL\", payload: payload }\n}\n\nexport const updateProps = (payload) => {\n  return { type: \"budget/categories/UPDATE_PROPS\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"budget/categories/UPDATE_NEW\", payload: payload }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport format, { prevMonth, nextMonth } from \"../../functions/DateFormatter\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst Info = (props) => {\n  const { month, year, prev, next } = props\n  return (\n    <div className=\"budget-banner\">\n      <h2>\n        {format({ month: month, year: year, format: \"monthYear\" })}\n      </h2>\n      <div className=\"budget-links\">\n        <Link to={`/budget/${prev.month}/${prev.year}`}>\n          <Icon className=\"fas fa-angle-double-left\" />\n          {\" \"}\n          {format({ ...prev, format: \"numericMonthYear\"})}\n        </Link>\n        <Link to={`/budget/${next.month}/${next.year}`}>\n          {format({ ...next, format: \"numericMonthYear\"})}\n          {\" \"}\n          <Icon className=\"fas fa-angle-double-right\" />\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { month, year } = state.budget.metadata\n  const next = nextMonth({ month: month, year: year })\n  const prev = prevMonth({ month: month, year: year })\n\n  return {\n    month: month,\n    prev: prev,\n    next: next,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Info)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../locales/copy\"\n\nimport * as dateFormatter from \"../../functions/DateFormatter\"\n\nimport { MenuLink } from \"./Menu\"\n\nexport default ({ month, year, isFuture, requiresSetUp }) => {\n  const monthString = dateFormatter.formatted({ month: month, year: year, format: \"monthYear\" })\n\n  if (requiresSetUp && isFuture) {\n    return (\n      <MenuLink\n        linkCopy={copy.menu.setUpLinkText(monthString)}\n        path={`/budget/set-up/${month}/${year}/intro`}\n      />\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { icon as iconCopy, budget as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\nimport {\n  changeItemSortOrder,\n  toggleAccrualItems,\n  toggleClearedItems,\n} from \"../../actions/budget\"\n\nimport DateFormatter, { isToday } from \"../../functions/DateFormatter\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\nimport SetUpButton from \"./SetUpButton\"\n\nconst {\n  category,\n  item,\n  menu,\n} = copy\n\nconst {\n  finalizeLinkText,\n  hide,\n  order,\n  show,\n  title,\n} = menu\n\nconst {\n  cleared,\n  items,\n} = item\n\nconst {\n  accruing,\n  categories,\n  monthly,\n} = category\n\nconst Menu = (props) => (\n  <nav className=\"budget-actions\">\n    <Title />\n    <Links\n      {...props}\n    />\n  </nav>\n)\n\nconst Title = () => (\n  <h3>\n    &bull;\n    {\" \"}\n    {titleize(title)}\n  </h3>\n)\n\nconst Links = (props) => {\n  const {\n    dispatch,\n    isEndOfMonth,\n    isFuture,\n    month,\n    requiresCloseOut,\n    requiresSetUp,\n    showAccruals,\n    showCleared,\n    sortOrder,\n    year,\n  } = props\n\n  const toggleAccruals = (e) => {\n    e.preventDefault()\n    const action = toggleAccrualItems({ showAccruals: !showAccruals })\n    dispatch(action)\n  }\n\n  const toggleCleared = (e) => {\n    e.preventDefault()\n    const action = toggleClearedItems({ showCleared: !showCleared })\n    dispatch(action)\n  }\n\n  const newSortOrder = sortOrder === \"byName\" ? \"byAmount\" : \"byName\"\n  const toggleSort = (e) => {\n    e.preventDefault()\n    const action = changeItemSortOrder({ sortOrder: newSortOrder })\n    dispatch(action)\n  }\n\n  return (\n    <div>\n      <SetUpButton\n        dispatch={dispatch}\n        month={month}\n        year={year}\n        isFuture={isFuture}\n        requiresSetUp={requiresSetUp}\n      />\n      <FinalizeButton\n        isEndOfMonth={isEndOfMonth}\n        month={month}\n        requiresCloseOut={requiresCloseOut}\n        year={year}\n      />\n      <MenuLink\n        linkCopy={categories}\n        path=\"/budget/categories\"\n      />\n      <MenuLink\n        linkCopy={iconCopy.icons}\n        path={\"/budget/icons\"}\n      />\n      <hr />\n      <MenuLink\n        iconClassName=\"fas fa-exchange-alt fa-rotate-90\"\n        linkCopy={`${order} ${newSortOrder.replace(/([A-Z])/g, \" $1\")}`}\n        onClick={toggleSort}\n      />\n      <MenuLink\n        iconClassName={showCleared ? \"far fa-eye-slash\" : \"far fa-eye\"}\n        linkCopy={`${(showCleared ? hide : show)} ${cleared} ${monthly} ${items}`}\n        onClick={toggleCleared}\n        showCleared={showCleared}\n      />\n      <MenuLink\n        onClick={toggleAccruals}\n        iconClassName={showAccruals ? \"fas fa-book-open\" : \"fas fa-book\"}\n        linkCopy={`${(showAccruals ? hide : show)} ${accruing} ${items}`}\n        showAccruals={showAccruals}\n      />\n    </div>\n  )\n}\n\nexport const MenuLink = ({ iconClassName, linkCopy, onClick, path }) => {\n  const to = path || \"#\"\n\n  return (\n    <Link to={to} onClick={onClick} >\n      <div className=\"budget-action\">\n        <strong>\n          &#9702;\n          {\" \"}\n          <Icon className={iconClassName} />\n          {\" \"}\n          {titleize(linkCopy)}\n        </strong>\n      </div>\n    </Link>\n  )\n}\n\nconst FinalizeButton = ({ isEndOfMonth, month, requiresCloseOut, year }) => {\n  const linkCopy = finalizeLinkText(DateFormatter({ month: month, year: year, format: \"monthYear\" }))\n\n  if (!isEndOfMonth || !requiresCloseOut) {\n    return null\n  } else {\n    return (\n      <MenuLink\n        linkCopy={linkCopy}\n        path={`/budget/finalize/${month}/${year}/start`}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const isEndOfMonth = isToday(new Date(ownProps.year, ownProps.month, 0))\n\n  return {\n    isEndOfMonth: isEndOfMonth,\n    ...state.budget.menuOptions,\n    ...ownProps,\n  }\n}\n\nexport default connect(mapStateToProps)(Menu)\n","import React from \"react\"\n\nexport default ({ title }) => (\n  <h4 className=\"group-heading\">\n    &bull;\n    {\"  \"}\n    {title}\n  </h4>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport GroupHeader from \"./GroupHeader\"\nimport Icon from \"../../Icons/Icon\"\n\nconst ClearedItems = ({ expenses, revenues, showCleared }) => {\n  if (showCleared) {\n    return (\n      <div>\n        <h3>{titleize(copy.item.cleared)}</h3>\n        <ClearedGroup\n          collection={revenues}\n          title={titleize(copy.category.revenues)}\n        />\n        <ClearedGroup\n          collection={expenses}\n          title={titleize(copy.category.expenses)}\n        />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst ClearedGroup = ({ collection, title }) => {\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-group\">\n        <GroupHeader title={title} />\n        {collection.map(item =>\n          <ClearedItem\n            key={item.id}\n            {...item}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst ClearedItem = ({ amount, expense, difference, icon_class_name, name, spent }) => {\n  const {\n    budgeted,\n  } = copy.item\n\n  const {\n    deposited,\n    minus,\n    plus,\n  } = copy.shared\n\n  const operator = difference === 0 ? \"\" : (difference > 0 ? minus : plus)\n\n  return (\n    <div className=\"budget-item-cleared\">\n      <div className=\"cleared-item-name\">\n        <div>\n          <Icon className=\"fas fa-caret-down\" />\n          {\" \"}\n          <strong>{name}</strong>\n          {\" \"}\n          <Icon className={icon_class_name} />\n        </div>\n      </div>\n      <div className=\"cleared-item-wrapper\">\n        <em>{titleize(budgeted)}:</em>\n        {MoneyFormatter(amount, { absolute: true })}\n      </div>\n      <div className=\"cleared-item-wrapper\">\n        <em>{titleize(expense ? copy.shared.spent : deposited)}:</em>\n        {MoneyFormatter(spent, { absolute: true })}\n      </div>\n      <div className=\"cleared-item-wrapper\">\n        <em>{titleize(copy.shared.difference)}:</em>\n        {operator}\n        {MoneyFormatter(difference, { absolute: true })}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.monthly\n  const { showCleared } = state.budget.menuOptions\n\n  const sortByAmount = (a, b) => Math.abs(b.amount) - Math.abs(a.amount)\n  const sortByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1\n    } else if (a.name > b.name) {\n      return 1\n    } else {\n      return sortByAmount(a, b)\n    }\n  }\n\n  const sortOrder = state.budget.menuOptions.sortOrder\n  const sortFn = () => {\n    switch (sortOrder) {\n    case \"byAmount\":\n      return sortByAmount\n    case \"byName\":\n      return sortByName\n    default:\n      return sortByName\n    }\n  }\n\n  const revenues = collection.filter(item => !item.expense && item.isCleared)\n    .sort(sortFn())\n  const expenses = collection.filter(item => item.expense && item.isCleared)\n    .sort(sortFn())\n\n  return {\n    expenses: expenses,\n    revenues: revenues,\n    showCleared: showCleared,\n  }\n}\n\nexport default connect(mapStateToProps)(ClearedItems)\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nexport default ({ deletable, deleteItem, updateItem }) => {\n  if (deletable && !updateItem) {\n    return (\n      <Link\n        to=\"#\"\n        className=\"fas fa-trash-alt\"\n        onClick={deleteItem}\n      />\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { editMonthlyItem, updateMonthlyItem } from \"../../../actions/budget\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport { Link } from \"react-router-dom\"\n\nconst MonthlyAmountInput = (props) => {\n  const {\n    id,\n    amount,\n    dispatch,\n    errors,\n    floatAmount,\n    month,\n    name,\n    year,\n  } = props\n\n  const handleChange = (e) => {\n    e.preventDefault()\n    const action = editMonthlyItem({ id: id, floatAmount: e.target.value })\n    dispatch(action)\n  }\n\n  const reset = (e) => {\n    e.preventDefault()\n    const action = editMonthlyItem({\n      id: id,\n      floatAmount: (amount / 100.0).toFixed(2),\n      updateItem: false,\n    })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which !== 13) {\n      return\n    } else if (e.target.value === (amount / 100.0).toFixed(2)) {\n      reset(e)\n    } else {\n      saveChange(e)\n    }\n  }\n  const saveChange = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          budget_item_id: id,\n          amount: decimalToInt(EvaluateInput(floatAmount)),\n          event_type: \"item_adjust\",\n          month: month,\n          year: year\n        },\n      ]\n    })\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: id,\n      month: month,\n      year: year,\n      category: name,\n      newAmount: EvaluateInput(floatAmount),\n      originalAmount: (amount / 100.0).toFixed(2)\n    })\n    const onSuccess = data => {\n      const action = updateMonthlyItem({\n        ...data[0].item,\n        floatAmount: null,\n        updateItem: false,\n        errors: [],\n      })\n      dispatch(action)\n    }\n    const onFailure = data => {\n      const action = editMonthlyItem({\n        id: id,\n        errors: { amount: data.errors[0][\"adjust_item_form.0.amount\"] },\n      })\n      dispatch(action)\n    }\n    if (EvaluateInput(floatAmount) !== ((amount / 100.0).toFixed(2))) {\n      post(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n    } else {\n      reset(e)\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"budget-item-amount\">\n        <input\n          autcomplete=\"false\"\n          autoFocus\n          className={errors.amount ? \"errors\" : \"\"}\n          name=\"amount\"\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n          value={floatAmount}\n        />\n        {\" \"}\n        <Link to=\"#\" onClick={saveChange} className=\"fas fa-check\" />\n        {\" \"}\n        <Link to=\"#\" onClick={reset} className=\"fas fa-times\" />\n      </div>\n      <Errors errors={errors.amount || []} />\n    </div>\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) =>  ownProps\n\nexport default connect(mapStateToProps)(MonthlyAmountInput)\n","import React from \"react\";\nimport { connect } from \"react-redux\"\n\nimport { editMonthlyItem } from \"../../../actions/budget\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { Link } from \"react-router-dom\"\nimport MonthlyAmountInput from \"./MonthlyAmountInput\"\n\nconst Amount = (props) => {\n  const {\n    id,\n    absolute,\n    amount,\n    budget_category_id,\n    dispatch,\n    errors,\n    month,\n    name,\n    updateItem,\n    year,\n  } = props\n\n  const floatAmount = props.floatAmount || (amount / 100.0).toFixed(2)\n\n  const updateMonthlyItem = (e) => {\n    e.preventDefault()\n    const action = editMonthlyItem({\n      id: id,\n      updateItem: true,\n      errors: [],\n    })\n    dispatch(action)\n  }\n\n  if (updateItem) {\n    return (\n      <MonthlyAmountInput\n        id={id}\n        amount={amount}\n        budget_category_id={budget_category_id}\n        errors={errors}\n        floatAmount={floatAmount}\n        month={month}\n        name={name}\n        year={year}\n      />\n    )\n  } else {\n    return (\n      <div className=\"update-amount\">\n        <Link to=\"#\" onClick={updateMonthlyItem}>\n          {MoneyFormatter(amount, { absolute: absolute })}\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(Amount)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { removeMonthlyItem } from \"../../../actions/budget\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\nimport formatter from \"../../../functions/DateFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport DeleteButton from \"../Shared/DeleteButton\"\nimport Icon from \"../../Icons/Icon\"\nimport MonthlyAmount from \"./MonthlyAmount\"\n\nconst MonthlyItem = (props) => {\n  const deleteItem = (e) => {\n    e.preventDefault()\n    const { amount, id, name, month, year } = props\n    const dateString = formatter({ month: month, year: year, format: \"shortMonthYear\" })\n    const confirmation = window.confirm(copy.item.deleteConfirmationMessage(name, dateString))\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n      const event = EventMessageBuilder({\n        eventType: \"budget-item-delete\",\n        id: id,\n        category: name,\n        amount: amount,\n        month: month,\n        year: year\n      })\n      const body = JSON.stringify({\n        events: [\n          {\n            budget_item_id: id,\n            event_type: \"item_delete\",\n          },\n        ],\n      })\n      const onSuccess = () => props.dispatch(removeMonthlyItem({ id: id }))\n      post(url, body, { event: event, onSuccess: onSuccess })\n    }\n  }\n\n  return (\n    <div className=\"budget-item\">\n      <div className=\"wrapper\">\n        <div className=\"caret\">\n          <Icon className=\"fas fa-caret-right\" />\n        </div>\n        <div className=\"budget-item-description\">\n          {props.name}\n          {\" \"}\n          <Icon className={props.icon_class_name} />\n        </div>\n        <div className=\"budget-item-amounts\">\n          <MonthlyAmount\n            absolute={true}\n            {...props}\n            remaining={props.amount}\n          />\n        </div>\n        <div className=\"item-delete-button\">\n          <DeleteButton\n            deletable={props.deletable}\n            deleteItem={deleteItem}\n            updateItem={props.updateItem}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { month, year } = state.budget.metadata\n\n  return {\n    month: month,\n    year: year,\n    ...ownProps\n  }\n}\n\nexport default connect(mapStateToProps)(MonthlyItem)\n","import React from \"react\"\n\nimport GroupHeader from \"./GroupHeader\"\nimport MonthlyItem from \"./MonthlyItem\"\n\nexport default ({ collection, title }) => {\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-group\">\n        <GroupHeader title={title} />\n        {collection.map(item =>\n          <MonthlyItem\n            key={item.id}\n            {...item}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  addMonthlyItem,\n  editNewMonthlyItem,\n  toggleMonthlyItemForm,\n} from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport Select from \"react-select\"\n\nconst MonthlyItemForm = (props) => {\n  const {\n    amount,\n    budget_category_id,\n    categories,\n    dispatch,\n    errors,\n    month,\n    options,\n    showForm,\n    value,\n    year,\n  } = props\n\n  const onCategoryChange = (e) => {\n    const category = categories.find(category => category.id === e.value)\n    const action = editNewMonthlyItem({\n      budget_category_id: e.value,\n      amount: parseFloat(category.default_amount / 100.0).toFixed(2)\n    })\n    dispatch(action)\n  }\n\n  const onAmountChange = (e) => {\n    const action = editNewMonthlyItem({ amount: e.target.value })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which === 13) {\n      onSave(e)\n    }\n  }\n\n  const onSave = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events:[\n        {\n          amount: decimalToInt(EvaluateInput(amount)),\n          budget_category_id: budget_category_id,\n          event_type: \"item_create\",\n          month: month,\n          year: year,\n        }\n      ]\n    })\n    const onSuccess = data => {\n      dispatch(addMonthlyItem(data[0].item))\n      dispatch(toggleMonthlyItemForm({ showForm: false }))\n      dispatch(editNewMonthlyItem({ amount: \"\", budget_category_id: null }))\n    }\n    const onFailure = data => {\n      const action = editNewMonthlyItem({\n        errors: [\n          { amount: data.errors[0][\"create_item_form.0.amount\"] }\n        ]\n      })\n      dispatch(action)\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { event: event, onSuccess: onSuccess, onFailure: onFailure })\n  }\n\n  if (showForm) {\n    return (\n      <div className=\"new-budget-item\">\n        <div className=\"select-wrapper\">\n          <Select\n            value={value}\n            placeholder=\"Category\"\n            options={options}\n            onChange={onCategoryChange}\n            className=\"budget-category-select-container\"\n            classNamePrefix=\"budget-category-select\"\n          />\n        </div>\n        <div>\n          <input\n            name=\"amount\"\n            className={errors.length > 0 ? \"errors new-item-amount\" : \"new-item-amount\"}\n            placeholder={copy.item.amount}\n            value={amount}\n            onChange={onAmountChange}\n            onKeyDown={handleKeyDown}\n            size=\"8\"\n          />\n          <Errors errors={errors} />\n        </div>\n        <button\n          className=\"new-item-submit\"\n          type=\"submit\"\n          name=\"monthly-item-submit\"\n          onClick={onSave}\n        >\n          {titleize(copy.item.createButtonText)}\n        </button>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.categories\n  const categories = collection.filter(c => c.monthly)\n  const optionFn = category => ({ value: category.id, label: category.name })\n  const sortFn = (a, b) => a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  const options = categories.map(optionFn).sort(sortFn)\n  const { newItem } = state.budget.monthly\n  const value = options.find(option => option.value === newItem.budget_category_id)\n  const { month, year } = state.budget.metadata\n  const errors = newItem.errors.map(error => error.amount)\n\n  return {\n    amount: newItem.amount,\n    budget_category_id: newItem.budget_category_id,\n    categories: categories,\n    errors: errors,\n    fetched: state.budget.categories.fetched,\n    month: month,\n    options: options,\n    showForm: state.budget.monthly.showForm,\n    value: value,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(MonthlyItemForm)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { editNewMonthlyItem, toggleMonthlyItemForm } from \"../../../actions/budget\"\n\nimport { Link } from \"react-router-dom\"\nimport MonthlyItemForm from \"./MonthlyItemForm\"\n\nconst MonthlyHeader = (props) => {\n  const {\n    items,\n  } = copy.item\n\n  const {\n    monthly,\n  } = copy.category\n\n  const showForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleMonthlyItemForm({ showForm: true }))\n  }\n\n  const closeForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleMonthlyItemForm({ showForm: false }))\n    props.dispatch(editNewMonthlyItem({\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    }))\n  }\n\n  const iconClassName = props.showForm ? \"fa fa-times-circle\" : \"fa fa-plus-circle\"\n  const divClassName = `budget-group-header ${props.showForm ? \"\" : \"underlined\"}`\n  return (\n    <div className={divClassName}>\n      <div className=\"title\">\n        <h3>{titleize(`${monthly} ${items}`)}</h3>\n      </div>\n      <Link\n        to=\"#\"\n        onClick={props.showForm ? closeForm : showForm}\n        className={iconClassName}\n      />\n      <MonthlyItemForm />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return { showForm: state.budget.monthly.showForm }\n}\n\nexport default connect(mapStateToProps)(MonthlyHeader)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport ClearedItems from \"./ClearedItems\"\nimport MonthlyGroup from \"./MonthlyGroup\"\nimport MonthlyHeader from \"./MonthlyHeader\"\n\nconst MonthlyItems = (props) => (\n  <div className=\"monthly-items\">\n    <MonthlyHeader />\n    <MonthlyGroup\n      collection={props.revenues}\n      title={titleize(copy.category.revenues)}\n    />\n    <MonthlyGroup\n      collection={props.expenses}\n      title={titleize(copy.category.expenses)}\n    />\n    <ClearedItems />\n  </div>\n)\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.monthly\n  const { showAccruals } = state.budget.menuOptions\n  const accrualFilter = (item) => !item.accrual || item.matureAccrual || showAccruals\n\n  const sortByAmount = (a, b) => Math.abs(b.amount) - Math.abs(a.amount)\n  const sortByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1\n    } else if (a.name > b.name) {\n      return 1\n    } else {\n      return sortByAmount(a, b)\n    }\n  }\n\n  const sortOrder = state.budget.menuOptions.sortOrder\n  const sortFn = () => {\n    switch (sortOrder) {\n    case \"byAmount\":\n      return sortByAmount\n    case \"byName\":\n      return sortByName\n    default:\n      return sortByName\n    }\n  }\n\n  const revenues = collection\n    .filter(item => !item.expense && !item.isCleared)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  const expenses = collection\n    .filter(item => item.expense && !item.isCleared)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  return {\n    revenues: revenues,\n    expenses: expenses,\n  }\n}\n\nexport default connect(mapStateToProps)(MonthlyItems)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ amount, showDetail, total_remaining }) => {\n  if (showDetail) {\n    return (\n      <span>\n        {MoneyFormatter(amount)}\n      </span>\n    )\n  } else {\n    return (\n      <span>\n        {MoneyFormatter(total_remaining)}\n      </span>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\n\nconst Caret = ({ collapseDetail, expandDetail, showDetail }) => {\n  if (showDetail) {\n    return (\n      <Link\n        to=\"#\"\n        className=\"fas fa-caret-down\"\n        onClick={collapseDetail}\n      />\n    )\n  } else {\n    return (\n      <Link\n        to=\"#\"\n        className=\"fas fa-caret-right\"\n        onClick={expandDetail}\n      />\n    )\n  }\n}\n\nexport default Caret\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default (props) => {\n  const { minus, plus } = copy.shared\n  const {\n    overUnderBudgetAmount,\n    showDetail,\n    spent,\n    total_remaining\n  } = props\n\n  const overUnderOperator = overUnderBudgetAmount >= 0 ? plus : minus\n  const spentDepositedOperator = spent >= 0 ? plus : minus\n\n  if (showDetail) {\n    return (\n      <div>\n        <div>\n          {overUnderOperator} {MoneyFormatter(overUnderBudgetAmount, { absolute: true })}\n        </div>\n        <div className=\"detail-amount underscore\">\n          {spentDepositedOperator} {MoneyFormatter(spent, { absolute: true })}\n        </div>\n        <div>\n          {MoneyFormatter(total_remaining, { absolute: false })}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default ({ descriptor, spentOrDeposited, showDetail }) => {\n  if (showDetail) {\n    return (\n      <div>\n        <div>\n          {descriptor}\n        </div>\n        <div className=\"spent-or-deposited\">\n          {spentOrDeposited}\n        </div>\n        <div className=\"budget-item-difference\">\n          {titleize(copy.shared.remaining)}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nconst {\n  budgeted,\n  perDay,\n  perWeek,\n} = copy.item\n\nconst {\n  remaining,\n} = copy.shared\n\nexport default (props) => (\n  <div className=\"per-details\">\n    <div className=\"detail-group\">\n      <div className=\"title\">{titleize(budgeted)}</div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perDay)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.budgetedPerDay, { absolute: true })}\n        </div>\n      </div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perWeek)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.budgetedPerWeek, { absolute: true })}\n        </div>\n      </div>\n    </div>\n    <div className=\"detail-group\">\n      <div className=\"title\">{titleize(remaining)}</div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perDay)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.remainingPerDay, { absolute: true })}\n        </div>\n      </div>\n      <div className=\"per-detail\">\n        <div className=\"description\">\n          {titleize(perWeek)}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(props.remainingPerWeek, { absolute: true })}\n        </div>\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\n\nimport { transaction as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nconst {\n  account,\n  amount,\n  date,\n  description,\n} = copy\n\nexport default () => (\n  <div className=\"budget-item-transaction-row\">\n    <div className=\"budget-transaction-cell\">\n      {titleize(date)}\n    </div>\n    <div className=\"budget-transaction-cell\">\n      {titleize(account)}\n    </div>\n    <div className=\"budget-transaction-cell\">\n      {titleize(description)}\n    </div>\n    <div className=\"budget-transaction-cell\">\n      {titleize(amount)}\n    </div>\n  </div>\n)\n","import React from \"react\"\n\nimport { transaction as copy } from \"../../../locales/copy\"\n\nimport * as DateHelpers from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nconst Transaction = (props) => {\n  const {\n    pending,\n  } = copy\n\n  const {\n    account_name,\n    amount,\n    clearance_date,\n  } = props\n  const displayDescription = props.description || props.budgetCategory\n\n  return (\n    <div className=\"budget-item-transaction-row\">\n      <div className=\"budget-transaction-cell clearance-date\">\n        <span className=\"long-date\">\n          {clearance_date ? DateHelpers.fromDateString(clearance_date) : pending}\n        </span>\n        <span className=\"short-date\">\n          {clearance_date ? DateHelpers.fromDateString(clearance_date, { format: \"m/d\" }) : pending}\n        </span>\n      </div>\n      <div className=\"budget-transaction-cell\">\n        {account_name}\n      </div>\n      <div className=\"budget-transaction-cell\">\n        {displayDescription}\n      </div>\n      <div className=\"budget-transaction-cell amount\">\n        {MoneyFormatter(amount)}\n      </div>\n    </div>\n  )\n}\n\nexport default Transaction\n","import React from \"react\"\nimport Header from \"./Header\"\nimport Transaction from \"./Transaction\"\n\nconst Transactions = ({ budgetCategory, collection }) => {\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-transactions\">\n        <Header />\n        {collection.map(transaction =>\n          <Transaction\n            key={transaction.id}\n            {...transaction}\n            budgetCategory={budgetCategory}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Transactions\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { fetchedDiscretionaryTransactions } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport Details from \"../Shared/Details\"\nimport Transactions from \"./../Shared/Transactions\"\n\nconst DiscretionaryDetail = (props) => {\n  const {\n    amount,\n    isApiUnauthorized,\n    collection,\n    days_remaining,\n    dispatch,\n    fetchedTransactions,\n    month,\n    showDetail,\n    total_remaining,\n    total_days,\n    year,\n  } = props\n\n  if (!showDetail) {\n    return null\n  }\n\n  if (!isApiUnauthorized && showDetail && !fetchedTransactions ) {\n    const url = ApiUrlBuilder({\n      route: \"discretionary-transactions-index\",\n      query: { month: month, year: year }\n    })\n    const onSuccess = data => dispatch(fetchedDiscretionaryTransactions(data))\n    get(url, onSuccess)\n  }\n\n  const budgetedPerDay = Math.floor(amount / total_days)\n  const remainingPerDay = Math.floor(total_remaining / days_remaining)\n\n  return (\n    <div className=\"detail-wrapper\">\n      <hr />\n      <Details\n        budgetedPerDay={budgetedPerDay}\n        budgetedPerWeek={budgetedPerDay * 7}\n        remainingPerDay={remainingPerDay}\n        remainingPerWeek={remainingPerDay * 7}\n      />\n      <hr />\n      <Transactions\n        budgetCategory={titleize(copy.discretionary.title)}\n        collection={collection}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n  const collection = state.budget.discretionary.collection.sort((a, b) => {\n    if (a.clearance_date === b.clearance_date) {\n      return 0\n    } else if (a.clearance_date === null) {\n      return b.clearance_date > today ? -1 : 1\n    } else if (b.clearance_date === null) {\n      return a.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.clearance_date > b.clearance_date) ? 1 : -1\n    }\n  })\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...state.budget.metadata,\n    ...state.budget.discretionary,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: collection\n  }\n}\n\nexport default connect(mapStateToProps)(DiscretionaryDetail)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { toggleDiscretionaryDetail } from \"../../../actions/budget\"\n\nimport Amount from \"./Amount\"\nimport Caret from \"./../Shared/Caret\"\nimport DetailAmounts from \"./DetailAmounts\"\nimport DetailLabels from \"./DetailLabels\"\nimport DiscretionaryDetail from \"./DiscretionaryDetail\"\nimport Icon from \"../../Icons/Icon\"\n\nconst Discretionary = (props) => {\n  const {\n    aheadOfBudget,\n    overBudget,\n    title,\n  } = copy.discretionary\n\n  const {\n    deposited,\n    spent,\n  } = copy.shared\n\n  const expandDetail = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleDiscretionaryDetail({ showDetail: true }))\n  }\n\n  const collapseDetail = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleDiscretionaryDetail({ showDetail: false }))\n  }\n\n  const descriptor = props.overUnderBudgetAmount > 0 ? aheadOfBudget : overBudget\n  const spentOrDeposited = titleize(props.spent >= 0 ? deposited : spent)\n  return (\n    <div className=\"budget-item\">\n      <div className=\"wrapper\">\n        <div className=\"caret\">\n          <Caret\n            showDetail={props.showDetail}\n            expandDetail={expandDetail}\n            collapseDetail={collapseDetail} />\n        </div>\n        <div className=\"budget-item-description\">\n          <div className=\"item-name\">\n            {titleize(title)}\n            {\" \"}\n            <Icon className=\"fas fa-piggy-bank\" />\n          </div>\n          <DetailLabels\n            descriptor={descriptor}\n            showDetail={props.showDetail}\n            spentOrDeposited={spentOrDeposited}\n          />\n        </div>\n        <div className=\"budget-item-amounts\">\n          <Amount\n            amount={props.amount}\n            showDetail={props.showDetail}\n            total_remaining={props.total_remaining}\n          />\n          <DetailAmounts\n            {...props}\n          />\n        </div>\n        <div className=\"item-delete-button\">\n        </div>\n      </div>\n      <DiscretionaryDetail {...props} />\n    </div>\n  )\n}\n\nexport default connect(state => state.budget.discretionary)(Discretionary)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { addWeeklyItem, editNewWeeklyItem, toggleWeeklyItemForm } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport Select from \"react-select\"\n\nconst WeeklyItemForm = (props) => {\n  const {\n    amount,\n    budget_category_id,\n    categories,\n    dispatch,\n    errors,\n    month,\n    options,\n    showForm,\n    value,\n    year,\n  } = props\n\n  const onCategoryChange = (e) => {\n    const category = categories.find(category => category.id === e.value)\n    const action = editNewWeeklyItem({\n      budget_category_id: e.value,\n      amount: parseFloat(category.default_amount / 100.0).toFixed(2)\n    })\n    dispatch(action)\n  }\n\n  const onAmountChange = (e) => {\n    const action = editNewWeeklyItem({ amount: e.target.value })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which === 13) {\n      onSave(e)\n    }\n  }\n\n  const onSave = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events:[\n        {\n          amount: decimalToInt(EvaluateInput(amount)),\n          budget_category_id: budget_category_id,\n          event_type: \"item_create\",\n          month: month,\n          year: year,\n        }\n      ]\n    })\n    const onSuccess = data => {\n      dispatch(addWeeklyItem(data[0].item))\n      dispatch(toggleWeeklyItemForm({ showForm: false }))\n      dispatch(editNewWeeklyItem({ amount: \"\", budget_category_id: null }))\n    }\n    const onFailure = data => {\n      const action = editNewWeeklyItem({\n        errors: [\n          { amount: data.errors[0][\"create_item_form.0.amount\"] }\n        ]\n      })\n      dispatch(action)\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n  }\n\n  if (!showForm) {\n    return null\n  }\n\n  return (\n    <div className=\"new-budget-item\">\n      <div className=\"select-wrapper\">\n        <Select\n          value={value}\n          placeholder=\"Category\"\n          options={options}\n          onChange={onCategoryChange}\n          className=\"budget-category-select-container\"\n          classNamePrefix=\"budget-category-select\"\n        />\n      </div>\n      <div>\n        <input\n          name=\"amount\"\n          className={errors.length > 0 ? \"errors new-item-amount\" : \"new-item-amount\"}\n          placeholder=\"amount\"\n          value={amount}\n          onChange={onAmountChange}\n          onKeyDown={handleKeyDown}\n          size=\"8\"\n        />\n        <Errors errors={errors} />\n      </div>\n      <button\n        className=\"new-item-submit\"\n        type=\"submit\"\n        name=\"weekly-item-submit\"\n        onClick={onSave}\n      >\n        {titleize(copy.item.createButtonText)}\n      </button>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const currentCategoryIds = state.budget.weekly.collection.map(item => item.budget_category_id)\n  const categories = state.budget.categories.collection.filter(category => {\n    return !category.monthly && !currentCategoryIds.includes(category.id)\n  })\n  const collection = categories.map(category => {\n    return {\n      value: category.id,\n      label: category.name,\n    }\n  })\n  const options = collection.sort((a, b) => {\n    return a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1\n  })\n  const { newItem } = state.budget.weekly\n  const value = options.find(option => option.value === newItem.budget_category_id)\n  const { month, year } = state.budget.metadata\n  const errors = newItem.errors.map(error => error.amount)\n\n  return {\n    amount: newItem.amount,\n    categories: categories,\n    budget_category_id: newItem.budget_category_id,\n    errors: errors,\n    fetched: state.budget.categories.fetched,\n    month: month,\n    options: options,\n    showForm: state.budget.weekly.showForm,\n    value: value,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(WeeklyItemForm)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { editNewWeeklyItem, toggleWeeklyItemForm } from \"../../../actions/budget\"\n\nimport { Link } from \"react-router-dom\"\nimport WeeklyItemForm from \"./WeeklyItemForm\"\n\nconst WeeklyHeader = (props) => {\n  const showForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleWeeklyItemForm({ showForm: true }))\n  }\n\n  const closeForm = (e) => {\n    e.preventDefault()\n    props.dispatch(toggleWeeklyItemForm({ showForm: false }))\n    props.dispatch(editNewWeeklyItem({\n      amount: \"\",\n      budget_category_id: null,\n      errors: [],\n    }))\n  }\n\n  const iconClassName = props.showForm ? \"fa fa-times-circle\" : \"fa fa-plus-circle\"\n  const divClassName = `budget-group-header ${props.showForm ? \"\" : \"underlined\"}`\n  return (\n    <div className={divClassName}>\n      <div className=\"title\">\n        <h3>{titleize(`${copy.category.weekly} ${copy.item.items}`)}</h3>\n      </div>\n      <Link\n        to=\"#\"\n        onClick={props.showForm ? closeForm : showForm}\n        className={iconClassName}\n      />\n      <WeeklyItemForm />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return { showForm: state.budget.weekly.showForm }\n}\n\nexport default connect(mapStateToProps)(WeeklyHeader)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { editWeeklyItem, updateWeeklyItem } from \"../../../actions/budget\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Errors from \"../../Errors/Errors\"\nimport { Link } from \"react-router-dom\"\n\nconst WeeklyAmountInput = (props) => {\n  const {\n    id,\n    amount,\n    dispatch,\n    floatAmount,\n    errors,\n    month,\n    name,\n    spent,\n    year,\n  } = props\n\n  const handleChange = (e) => {\n    e.preventDefault()\n    const difference = decimalToInt(e.target.value) - spent\n    const action = editWeeklyItem({\n      id: id,\n      floatAmount: e.target.value,\n      difference: difference\n    })\n    dispatch(action)\n  }\n\n  const reset = () => {\n    const difference = amount - spent\n    const action = editWeeklyItem({\n      id: id,\n      floatAmount: (amount / 100.0).toFixed(2),\n      difference: difference,\n      updateItem: false,\n    })\n    dispatch(action)\n  }\n\n  const handleKeyDown = (e) => {\n    if (e.which !== 13) {\n      return\n    } else if (e.target.value === (amount / 100.0).toFixed(2)) {\n      reset(e)\n    } else {\n      saveChange(e)\n    }\n  }\n\n  const saveChange = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          budget_item_id: id,\n          amount: decimalToInt(EvaluateInput(floatAmount)),\n          event_type: \"item_adjust\",\n          month: month,\n          year: year\n        },\n      ]\n    })\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: id,\n      month: month,\n      year: year,\n      category: name,\n      newAmount: EvaluateInput(floatAmount),\n      originalAmount: (amount / 100.0).toFixed(2)\n    })\n    const onSuccess = data => {\n      const action = updateWeeklyItem({\n        ...data[0].item,\n        floatAmount: null,\n        updateItem: false,\n        errors: {}\n      })\n      dispatch(action)\n    }\n    const onFailure = data => {\n      const action = editWeeklyItem({\n        id: id,\n        errors: { amount: data.errors[0][\"adjust_item_form.0.amount\"] },\n      })\n      dispatch(action)\n    }\n    if (EvaluateInput(floatAmount) !== ((amount / 100.0).toFixed(2))) {\n      post(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n    } else {\n      reset()\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"budget-item-amount\">\n        <input\n          autcomplete=\"false\"\n          autoFocus\n          className={errors.amount ? \"errors\" : \"\"}\n          name=\"amount\"\n          onKeyDown={handleKeyDown}\n          onChange={handleChange}\n          value={floatAmount}\n        />\n        {\" \"}\n        <Link to=\"#\" onClick={saveChange} className=\"fas fa-check\" />\n        {\" \"}\n        <Link to=\"#\" onClick={reset} className=\"fas fa-times\" />\n      </div>\n      <Errors errors={errors.amount || []} />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => (\n  {\n    month: state.budget.metadata.month,\n    year: state.budget.metadata.year,\n    ...ownProps,\n  }\n)\n\nexport default connect(mapStateToProps)(WeeklyAmountInput)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { editWeeklyItem } from \"../../../actions/budget\"\n\nimport { Link } from \"react-router-dom\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nconst AmountContainer = (props) => {\n  const {\n    id,\n    absolute,\n    amount,\n    difference,\n    errors,\n    expense,\n    overUnderBudget,\n    showDetail,\n  } = props\n\n  const {\n    minus,\n    plus,\n  } = copy.shared\n\n  const updateItem = (e) => {\n    e.preventDefault()\n    props.dispatch(editWeeklyItem({\n      id: id,\n      updateItem: true,\n      showDetail: true,\n      errors: (errors || {})\n    }))\n  }\n\n  const operator = !overUnderBudget ? \"\" : (expense ? minus : plus)\n  if (showDetail) {\n    return (\n      <div className=\"update-amount\">\n        <Link to=\"#\" onClick={updateItem}>\n          {MoneyFormatter(amount, { absolute: absolute })}\n        </Link>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"update-amount\">\n        <Link to=\"#\" onClick={updateItem}>\n          {operator} {MoneyFormatter(difference, { absolute: absolute })}\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(AmountContainer)\n","import React from \"react\";\nimport { connect } from \"react-redux\"\nimport WeeklyAmountInput from \"./WeeklyAmountInput\"\nimport WeeklyAmountContainer from \"./WeeklyAmountContainer\"\n\nconst WeeklyAmount = (props) => {\n  const {\n    id,\n    absolute,\n    amount,\n    budget_category_id,\n    difference,\n    errors,\n    expense,\n    floatAmount,\n    name,\n    overUnderBudget,\n    showDetail,\n    spent,\n    updateItem,\n  } = props\n\n  if (updateItem) {\n    return (\n      <WeeklyAmountInput\n        id={id}\n        amount={amount}\n        budget_category_id={budget_category_id}\n        errors={errors}\n        floatAmount={floatAmount}\n        name={name}\n        spent={spent}\n      />\n    )\n  } else {\n    return (\n      <WeeklyAmountContainer\n        id={id}\n        absolute={absolute}\n        amount={amount}\n        difference={difference}\n        expense={expense}\n        overUnderBudget={overUnderBudget}\n        showDetail={showDetail}\n      />\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(WeeklyAmount)\n","import React from \"react\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ difference, diffOperator, operator, showDetail, spent }) => {\n  if (!showDetail) {\n    return null\n  }\n\n  return (\n    <div>\n      <div className=\"detail-amount underscore\">\n        {operator} {MoneyFormatter(spent, { absolute: true })}\n      </div>\n      <div className=\"detail-amount\">\n        {diffOperator} {MoneyFormatter(difference, { absolute: true })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport * as DateHelpers from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { budget as budgetCopy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nconst Events = ({ events }) => {\n  return events.map(event => {\n    if (event.isTransaction) {\n      return (\n        <Transaction key={event.id} {...event} />\n      )\n    } else {\n      return (\n        <Event key={event.id} {...event} />\n      )\n    }\n  })\n}\n\nconst {\n  minus,\n  plus,\n} = budgetCopy.shared\n\nconst Event = (props) => {\n  const {\n    amount,\n    budgetedAmount,\n    budget_item_event_type,\n    remaining,\n  } = props\n\n  const items = [budgetCopy.eventLabels[budget_item_event_type], \"\"]\n  const prevAmount = budgetedAmount - amount\n  const prevRemaining = remaining - amount\n  const operator = amount < 0 ? minus : plus\n  const remainingString = `${MoneyFormatter(prevRemaining)} (${operator} ${MoneyFormatter(amount, { absolute: true })}) = ${MoneyFormatter(remaining)}`\n  const budgetedString = `${MoneyFormatter(prevAmount)} (${operator} ${MoneyFormatter(amount, { absolute: true })}) = ${MoneyFormatter(budgetedAmount)}`\n\n  return (\n    <div className=\"budget-item-event\">\n      <Shared {...props} items={items} />\n      <div className=\"budget-item-event-row bottom\">\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.shared.remaining)} />\n          <Atom string={remainingString} />\n        </div>\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.item.budgeted)} />\n          <Atom string={budgetedString} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Transaction = (props) => {\n  const {\n    account_name,\n    amount,\n    budgetedAmount,\n    remaining,\n  } = props\n  const displayDescription = props.description || props.budgetCategory\n  const prevRemaining = remaining + amount\n  const items = [displayDescription, account_name]\n  const operator = amount <= 0 ? plus : minus\n\n  return (\n    <div className=\"budget-item-event\">\n      <Shared {...props} items={items} />\n      <div className=\"budget-item-event-row bottom\">\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.item.budgeted)} />\n          <div className=\"budget-item-atom\">\n            {MoneyFormatter(budgetedAmount)}\n          </div>\n        </div>\n        <div className=\"budget-item-cell small amount\">\n          <Atom string={titleize(budgetCopy.shared.remaining)} />\n          <div className=\"budget-item-atom\">\n            {MoneyFormatter(prevRemaining)}\n            {\" \"}\n            ({operator} {MoneyFormatter(amount, { absolute: true })})\n            {\" \"}\n            =\n            {\" \"}\n            {MoneyFormatter(remaining)}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Shared = (props) => {\n  const {\n    amount,\n    created_at,\n    items,\n  } = props\n\n  return (\n    <div className=\"budget-item-event-row top\">\n      <div className=\"budget-item-event-row-left\">\n        <div className=\"budget-item-cell created-at-date\">\n          <span className=\"long-date\">\n            {DateHelpers.fromDateString(created_at)}\n          </span>\n          <span className=\"short-date\">\n            {DateHelpers.fromDateString(created_at, { format: \"m/d\" })}\n          </span>\n        </div>\n        {items.map((item, index) => (\n          <div className=\"budget-item-cell\" key={index}>\n            {item}\n          </div>\n        ))}\n      </div>\n      <div className=\"budget-item-cell amount\">\n        {MoneyFormatter(amount)}\n      </div>\n    </div>\n  )\n}\n\nconst Atom = ({ string }) => (\n  <div className=\"budget-item-atom\">\n    {string}\n  </div>\n)\n\nexport default Events\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetchedWeeklyBudgetItemEvents, fetchedWeeklyTransactions } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport Details from \"../Shared/Details\"\nimport Events from \"../Shared/Events\"\n\nconst WeeklyDetail = (props) => {\n  const {\n    id,\n    budget_category_id,\n    budgetedPerDay,\n    budgetedPerWeek,\n    collection,\n    combinedEvents,\n    dispatch,\n    events,\n    isApiUnauthorized,\n    remainingPerDay,\n    remainingPerWeek,\n    showDetail,\n    transaction_count,\n  } = props\n\n  if (!showDetail) {\n    return null\n  }\n\n  if (!isApiUnauthorized && collection.length < transaction_count) {\n    const url = ApiUrlBuilder({\n      route: \"budget-item-transactions-index\",\n      id: id,\n      budgetCategoryId: budget_category_id,\n    })\n    const onSuccess = data => dispatch(fetchedWeeklyTransactions({\n      id: id,\n      collection: data\n    }))\n    get(url, onSuccess)\n    return null\n  }\n\n  if (!isApiUnauthorized && events.length === 0) {\n    const url = ApiUrlBuilder({\n      route: \"budget-item-events-index\",\n      id: id,\n      budgetCategoryId: budget_category_id,\n    })\n    const onSuccess = data => dispatch(fetchedWeeklyBudgetItemEvents({\n      id: id,\n      events: data\n    }))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"detail-wrapper\">\n      <hr />\n      <Details\n        budgetedPerDay={budgetedPerDay}\n        budgetedPerWeek={budgetedPerWeek}\n        remainingPerDay={remainingPerDay}\n        remainingPerWeek={remainingPerWeek}\n      />\n      <hr />\n      <Events\n        events={combinedEvents}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n\n  const collection = ownProps.collection.sort((a, b) => {\n    if (a.clearance_date === b.clearance_date) {\n      return 0\n    } else if (a.clearance_date === null) {\n      return b.clearance_date > today ? -1 : 1\n    } else if (b.clearance_date === null) {\n      return a.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.clearance_date > b.clearance_date) ? 1 : -1\n    }\n  })\n\n  const { events } = ownProps\n  let budgetedAmount = 0\n  let remaining = 0\n  const eventsWithBalance = [...events, ...collection]\n    .map(event => ({ ...event, isTransaction: Object(event).hasOwnProperty(\"transaction_entry_id\") }))\n    .sort((a, b) => a.created_at > b.created_at ? 1 : -1)\n    .map(event => {\n      const { amount } = event\n      budgetedAmount += (event.isTransaction ? 0 : amount)\n      remaining += (event.isTransaction ? (-1 * amount) : amount)\n      return { ...event, budgetedAmount: budgetedAmount, remaining: remaining }\n    })\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...ownProps,\n    isApiUnauthorized: isApiUnauthorized,\n    collection: collection,\n    events: events,\n    combinedEvents: eventsWithBalance,\n  }\n}\n\nexport default connect(mapStateToProps)(WeeklyDetail)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default ({ descriptor, showDetail }) => {\n  if (showDetail) {\n    return (\n      <div>\n        <div className=\"spent-or-deposited\">\n          {titleize(descriptor)}\n        </div>\n        <div className=\"budget-item-difference\">\n          {titleize(copy.shared.remaining)}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { editWeeklyItem, removeWeeklyItem } from \"../../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\nimport formatter from \"../../../functions/DateFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport Caret from \"../Shared/Caret\"\nimport DeleteButton from \"../Shared/DeleteButton\"\nimport Icon from \"../../Icons/Icon\"\nimport WeeklyAmount from \"./WeeklyAmount\"\nimport WeeklyAmountDetails from \"./WeeklyAmountDetails\"\nimport WeeklyDetail from \"./WeeklyDetail\"\nimport WeeklyDetailLabels from \"./WeeklyDetailLabels\"\n\nconst WeeklyItem = (props) => {\n  const {\n    deposited,\n    minus,\n    plus,\n  } = copy.shared\n\n  const {\n    id,\n    amount,\n    budget_category_id,\n    daysRemaining,\n    difference,\n    dispatch,\n    icon_class_name,\n    expense,\n    name,\n    overUnderBudget,\n    month,\n    showDetail,\n    spent,\n    totalDays,\n    transaction_count,\n    updateItem,\n    year,\n  } = props\n\n  const {\n    deleteConfirmationMessage,\n  } = copy.item\n\n  const expandDetail = (e) => {\n    e.preventDefault()\n    dispatch(editWeeklyItem({ id: props.id, showDetail: true }))\n  }\n\n  const collapseDetail = (e) => {\n    e.preventDefault()\n    dispatch(editWeeklyItem({ id: props.id, showDetail: false }))\n  }\n\n  const deleteItem = (e) => {\n    e.preventDefault()\n    const dateString = formatter({ month: month, year: year, format: \"shortMonthYear\" })\n    const confirmation = window.confirm(deleteConfirmationMessage(name, dateString))\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n      const event = EventMessageBuilder({\n        eventType: \"budget-item-delete\",\n        id: id,\n        category: name,\n        amount: amount,\n        month: month,\n        year: year\n      })\n      const body = JSON.stringify({\n        events: [\n          {\n            budget_item_id: id,\n            event_type: \"item_delete\",\n          },\n        ],\n      })\n      const onSuccess = () => dispatch(removeWeeklyItem({ id: id }))\n      post(url, body, { event: event, onSuccess: onSuccess })\n    }\n  }\n\n  // expense & >  0 -- reinvestment  -- deposited / +\n  // revenue & >= 0 -- most revenues -- deposited / -\n  // expense & <= 0 -- most expenses -- spent     / -\n  // revenue & <  0 -- travel claim  -- spent     / -\n  const descriptor = spent > 0 ? deposited : copy.shared.spent\n  const operator = spent > 0  && props.expense ? plus : minus\n  const diffOperator = !overUnderBudget ? \"\" : (expense ? minus : plus)\n  const deletable = transaction_count === 0\n  const budgetedPerDay = Math.floor(amount / totalDays)\n  const budgetedPerWeek = (budgetedPerDay * 7)\n  const remainingPerDay = Math.floor(props.remaining / daysRemaining)\n  const remainingPerWeek = (remainingPerDay * 7)\n\n  return (\n    <div className=\"budget-item\">\n      <div className=\"wrapper\">\n        <div className=\"caret\">\n          <Caret\n            showDetail={showDetail}\n            expandDetail={expandDetail}\n            collapseDetail={collapseDetail}\n          />\n        </div>\n        <div className=\"budget-item-description\">\n          <div className=\"item-name\">\n            {name}\n            { \" \" }\n            <Icon className={icon_class_name} />\n          </div>\n          <WeeklyDetailLabels\n            descriptor={descriptor}\n            showDetail={showDetail}\n          />\n        </div>\n        <div className=\"budget-item-amounts\">\n          <WeeklyAmount\n            expandDetail={expandDetail}\n            absolute={true}\n            {...props}\n          />\n          <WeeklyAmountDetails\n            difference={difference}\n            diffOperator={diffOperator}\n            operator={operator}\n            showDetail={showDetail}\n            spent={spent}\n          />\n        </div>\n        <div className=\"item-delete-button\">\n          <DeleteButton\n            deletable={deletable}\n            deleteItem={deleteItem}\n            updateItem={updateItem}\n          />\n        </div>\n      </div>\n      <WeeklyDetail\n        {...props}\n        budgetedPerDay={budgetedPerDay}\n        budgetedPerWeek={budgetedPerWeek}\n        remainingPerDay={remainingPerDay}\n        remainingPerWeek={remainingPerWeek}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(WeeklyItem)\n","import React from \"react\"\n\nimport GroupHeader from \"./GroupHeader\"\nimport WeeklyItem from \"./WeeklyItem\"\n\nconst WeeklyGroup = (props) => {\n  const { collection, daysRemaining, title, totalDays } = props\n  if (collection.length > 0) {\n    return (\n      <div className=\"budget-group\">\n        <GroupHeader title={title} />\n        {collection.map(item =>\n          <WeeklyItem\n            key={item.id}\n            {...item}\n            daysRemaining={daysRemaining}\n            totalDays={totalDays}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default WeeklyGroup\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Discretionary from \"../Discretionary/Discretionary\"\nimport GroupHeader from \"./GroupHeader\"\nimport WeeklyHeader from \"./WeeklyHeader\"\nimport WeeklyGroup from \"./WeeklyGroup\"\n\nconst WeeklyItems = (props) => (\n  <div className=\"weekly-items\">\n    <WeeklyHeader />\n    <div className=\"budget-group\">\n      <GroupHeader\n        title={titleize(copy.discretionary.title)}\n      />\n      <Discretionary />\n    </div>\n    <WeeklyGroup\n      collection={props.revenues}\n      daysRemaining={props.daysRemaining}\n      title={titleize(copy.category.revenues)}\n      totalDays={props.totalDays}\n    />\n    <WeeklyGroup\n      collection={props.expenses}\n      daysRemaining={props.daysRemaining}\n      title={titleize(copy.category.expenses)}\n      totalDays={props.totalDays}\n    />\n  </div>\n)\n\nconst mapStateToProps = (state) => {\n  const { collection } = state.budget.weekly\n  const { showAccruals } = state.budget.menuOptions\n  const { metadata } = state.budget\n  const { days_remaining, total_days } = metadata\n  const accrualFilter = (item) => !item.accrual || item.matureAccrual || showAccruals\n\n  const sortByAmount = (a, b) => {\n    const aDiff = a.amount - a.spent\n    const bDiff = b.amount - b.spent\n    if (aDiff === bDiff) {\n      return 0\n    } else if (aDiff > 0 && bDiff > 0) {\n      return (bDiff - aDiff)\n    } else if (aDiff > 0) {\n      return 1\n    } else if (bDiff > 0) {\n      return -1\n    } else {\n      return (aDiff - bDiff)\n    }\n  }\n\n  const sortByName = (a, b) => {\n    if (a.name < b.name) {\n      return -1\n    } else if (a.name > b.name) {\n      return 1\n    } else {\n      sortByAmount(a, b)\n    }\n  }\n\n  const sortOrder = state.budget.menuOptions.sortOrder\n  const sortFn = () => {\n    switch (sortOrder) {\n    case \"byAmount\":\n      return sortByAmount\n    case \"byName\":\n      return sortByName\n    default:\n      return sortByName\n    }\n  }\n\n  const expenses = collection\n    .filter(item => item.expense)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  const revenues = collection\n    .filter(item => !item.expense)\n    .filter(accrualFilter)\n    .sort(sortFn())\n\n  return {\n    daysRemaining: days_remaining,\n    expenses: expenses,\n    revenues: revenues,\n    totalDays: total_days,\n  }\n}\n\nexport default connect(mapStateToProps)(WeeklyItems)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { categoriesFetched } from \"../../actions/budget/categories\"\nimport { itemsFetched as fetched } from \"../../actions/budget\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport BudgetInfo from \"./Info\"\nimport Menu from \"./Menu\"\nimport MonthlyItems from \"./Items/MonthlyItems\"\nimport WeeklyItems from \"./Items/WeeklyItems\"\n\nconst BudgetIndex = (props) => {\n  const {\n    isApiUnauthorized,\n    categoresWereFetched,\n    dispatch,\n    isCurrent,\n    isFuture,\n    itemsFetched,\n    metadata,\n    month,\n    year,\n  } = props\n\n  if (!isApiUnauthorized && (!itemsFetched || !isCurrent)) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: month, year: year },\n    })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  if (!isApiUnauthorized && (itemsFetched && !categoresWereFetched)) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(categoriesFetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"budget\">\n      <BudgetInfo />\n      <WeeklyItems />\n      <MonthlyItems />\n      <Menu\n        month={month}\n        year={year}\n        isFuture={isFuture}\n        requiresCloseOut={!metadata.is_closed_out}\n        requiresSetUp={!metadata.is_set_up}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const month = parseInt(ownProps.match.params.month)\n  const year = parseInt(ownProps.match.params.year)\n  const isCurrent = state.budget.metadata.month === month && state.budget.metadata.year === year\n  const today = new Date()\n  const isFuture = (year > today.getFullYear() || (year === today.getFullYear() && month > (today.getMonth() + 1)))\n  const categoresWereFetched = state.budget.categories.fetched\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...state.budget,\n    isApiUnauthorized: isApiUnauthorized,\n    categoresWereFetched: categoresWereFetched,\n    isCurrent: isCurrent,\n    isFuture: isFuture,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(BudgetIndex)\n","export const addItem = (payload) => {\n  return { type: \"budget/setup/ADD_ITEM\", payload: payload }\n}\n\nexport const editAccrualAmount = (payload) => {\n  return { type: \"budget/setup/EDIT_ACCRUAL_AMOUNT\", payload: payload }\n}\n\nexport const editNew = (payload) => {\n  return { type: \"budget/setup/EDIT_NEW\", payload: payload }\n}\n\nexport const editReviewItem = (payload) => {\n  return { type: \"budget/setup/EDIT_REVIEW_ITEM\", payload: payload }\n}\n\nexport const finishReview = (payload) => {\n  return { type: \"budget/setup/FINISH_REVIEW\", payload: payload }\n}\n\nexport const markForInclusion = (payload) => {\n  return { type: \"budget/setup/MARK_FOR_INCLUSION\", payload: payload }\n}\n\nexport const markSubmitted = (payload) => {\n  return { type: \"budget/setup/MARK_SUBMITTED\", payload: payload }\n}\n\nexport const markReviewed = (payload) => {\n  return { type: \"budget/setup/MARK_REVIEWED\", payload: payload }\n}\n\nexport const nextStep = () => {\n  return { type: \"budget/setup/NEXT_STEP\" }\n}\n\nexport const requeue = (payload) => {\n  return { type: \"budget/setup/REQUEUE\", payload: payload }\n}\n\nexport const updateExisting = (payload) => {\n  return { type: \"budget/setup/UPDATE_EXISTING\", payload: payload }\n}\n\nexport const updateMetadata = (payload) => {\n  return { type: \"budget/setup/UPDATE_METADATA\", payload: payload }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nexport default ({ amount }) => (\n  <div className=\"setup-discretionary\">\n    <div className=\"name\">\n      <strong>{titleize(copy.shared.remaining)}: </strong>\n    </div>\n    <div className=\"amount\">\n      {MoneyFormatter(amount, { absolute: false })}\n    </div>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport Discretionary from \"./Discretionary\"\n\nconst Items = ({ collection, discretionary, month, year }) => {\n  const monthString = dateFormatter.formatted({ month: month, year: year, format: \"monthYear\" })\n  const { expenses, revenues } = collection\n\n  return (\n    <div className=\"new-month-items\">\n      <h4>{monthString} {titleize(copy.item.items)}</h4>\n      <Discretionary\n        amount={discretionary}\n      />\n      <div className=\"setup-title\">\n        <strong>{titleize(copy.category.revenues)}</strong>\n      </div>\n      {revenues.map(item =>\n        <Item\n          key={item.id}\n          {...item}\n        />\n      )}\n      <div className=\"setup-title\">\n        <strong>{titleize(copy.category.expenses)}</strong>\n      </div>\n      {expenses.map(item =>\n        <Item\n          key={item.id}\n          {...item}\n        />\n      )}\n    </div>\n  )\n}\n\nconst Item = ({ amount, name }) => {\n  return (\n    <div className=\"new-month-item\">\n      <div className=\"name\">\n        {name}\n      </div>\n      <div className=\"amount\">\n        {MoneyFormatter(amount, { absolute: false })}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const sortFn = (a, b) => {\n    if (a.budget_category_id !== b.budget_cateogry_id) {\n      return a.name < b.name ? -1 : 1\n    } else {\n      if (a.amount === b.amount) {\n        return a.id - b.id\n      } else {\n        return Math.abs(a.amount) - Math.abs(b.amount)\n      }\n    }\n  }\n\n  const newMonth = state.budget.setup.newMonth\n  const { collection, month, year } = newMonth\n  const discretionary = collection.reduce((acc, item) => acc += item.amount, 0)\n  const expenses = collection.sort(sortFn).filter(item => item.expense)\n  const revenues = collection.sort(sortFn).filter(item => !item.expense)\n\n  return {\n    collection: { revenues: revenues, expenses: expenses },\n    discretionary: discretionary,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Items)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  addItem,\n  editAccrualAmount,\n  markForInclusion,\n  markReviewed,\n  markSubmitted,\n} from \"../../../actions/budget/setup\"\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport delay from \"../../../functions/Delay\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\nimport Items from \"./Items\"\nimport { Link } from \"react-router-dom\"\nimport { Redirect } from \"react-router-dom\"\n\nconst Accruals = (props) => {\n  const {\n    accruingExpenses,\n  } = copy.setup\n\n  const {\n    baseMonth,\n    collection,\n    dispatch,\n    isFetched,\n    month,\n    paramMonth,\n    paramYear,\n    year,\n  } = props\n\n  const reviewCount = collection.filter(item => !item.reviewed).length\n  const prevMonthString = dateFormatter.formatted({\n    month: baseMonth.month,\n    year: baseMonth.year,\n    format: \"monthYear\"\n  })\n\n  if (!isFetched) {\n    return (\n      <Redirect to={`/budget/set-up/${paramMonth}/${paramYear}/intro`} />\n    )\n  } else if (reviewCount > 0) {\n    return (\n      <div className=\"set-up-workspace\">\n        <div className=\"previous-month-items\">\n          <h4>{prevMonthString}</h4>\n          <h5>{titleize(accruingExpenses)}</h5>\n          <div className=\"review-accruals\">\n            {collection.map(item =>\n              <Item\n                key={item.id}\n                dispatch={dispatch}\n                item={item}\n              />\n            )}\n          </div>\n          <SubmitButton\n            collection={collection}\n            dispatch={dispatch}\n            month={month}\n            year={year}\n          />\n        </div>\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/set-up/${month}/${year}/expenses`} />\n    )\n  }\n}\n\nconst SubmitButton = ({ collection, dispatch, month, year }) => {\n  const {\n    accrualButtonText,\n  } = copy.setup\n\n  const submit = (item) => {\n    const amount = item.updatedProps ? decimalToInt(EvaluateInput(item.updatedProps.amount)) : item.defaultAmount\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          amount: amount,\n          budget_category_id: item.budget_category_id,\n          event_type: \"setup_item_create\",\n          month: month,\n          year: year,\n        },\n      ],\n    })\n    const onSuccess = data => dispatch(addItem(data[0].item))\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const submitAccruals = async () => {\n    for (let item of collection) {\n      dispatch(markSubmitted({ id: item.id }))\n      await delay(400)\n      if (!item.markedForExclusion) {\n        submit(item)\n      }\n      dispatch(markReviewed({ id: item.id }))\n    }\n  }\n\n  return (\n    <div className=\"accrual-submit\">\n      <button\n        type=\"submit\"\n        onClick={submitAccruals}\n      >\n        {titleize(accrualButtonText)}\n      </button>\n    </div>\n  )\n}\n\nconst Item = (props) => {\n  const { dispatch } = props\n  const item = {\n    ...props.item,\n    amount: parseFloat(props.item.defaultAmount / 100.0).toFixed(2),\n    ...props.item.updatedProps\n  }\n\n  const {\n    id,\n    amount,\n    markedForExclusion,\n    name,\n  } = item\n\n  const include = (e) => {\n    e.preventDefault()\n    const action = markForInclusion({ id: id, exclude: false })\n    dispatch(action)\n  }\n\n  const exclude = (e) => {\n    e.preventDefault()\n    const action = markForInclusion({ id: id, exclude: true })\n    dispatch(action)\n  }\n\n  const handleUpdate = (e) => {\n    const action = editAccrualAmount({ id: id, amount: e.target.value })\n    dispatch(action)\n  }\n\n  const itemState = () => {\n    if (item.submitted && !item.reviewed) {\n      return \"submitted\"\n    } else if (item.reviewed && !markedForExclusion) {\n      return \"reviewed\"\n    } else if (markedForExclusion) {\n      return \"markedForExclusion\"\n    } else {\n      return \"markedForInclusion\"\n    }\n  }\n\n  const iconClass = () => {\n    switch(itemState()) {\n    case \"submitted\":\n      return \"fas fa-compact-disc fa-spin\"\n    case \"reviewed\":\n      return \"fas fa-check-circle\"\n    default:\n      return \"far fa-check-circle\"\n    }\n  }\n\n  const spanClass = () => {\n    switch(itemState()) {\n    case \"reviewed\":\n      return \"created\"\n    case \"markedForExclusion\":\n      return \"\"\n    default:\n      return \"active\"\n    }\n  }\n\n\n  return (\n    <div className=\"accrual-item\">\n      <div className=\"label\">{name}</div>\n      <div className=\"input\">\n        <input\n          type=\"text\"\n          value={amount}\n          onChange={handleUpdate}\n        />\n      </div>\n      <div className=\"buttons\">\n        <div className=\"check\">\n          <Button\n            handleClick={include}\n            iconClass={iconClass()}\n            spanClass={spanClass()}\n          />\n        </div>\n        <div className=\"ex\">\n          <Button\n            handleClick={exclude}\n            iconClass=\"far fa-times-circle\"\n            spanClass={markedForExclusion ? \"active\" : \"\"}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Button = ({ handleClick, iconClass, spanClass }) => (\n  <span className={spanClass}>\n    <Link\n      to=\"#\"\n      onClick={handleClick}\n    >\n      <Icon className={iconClass} />\n    </Link>\n  </span>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const paramMonth = parseInt(ownProps.match.params.month)\n  const paramYear = parseInt(ownProps.match.params.year)\n  const { month, year } = state.budget.setup.newMonth\n  const { isFetched } = state.budget.setup.baseMonth\n  const categories = state.budget.categories.collection\n  const findCategory = (item) => categories.find(c => c.id === item.budget_category_id)\n  const mergeDefaultAmount = (item) => (\n    { ...item, defaultAmount: findCategory(item).default_amount }\n  )\n\n  const collection = state.budget.setup.baseMonth.collection\n    .filter(item => item.accrual)\n    .map(mergeDefaultAmount)\n    .sort((a, b) => a.name < b.name ? -1 : 1)\n\n  return {\n    baseMonth: state.budget.setup.baseMonth,\n    collection: collection,\n    isFetched: isFetched,\n    paramMonth: paramMonth,\n    paramYear: paramYear,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Accruals)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { addItem, editNew, markReviewed, requeue, updateExisting } from \"../../../actions/budget/setup\"\n\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EvaluateInput from \"../../../functions/DynamicInputEvaluator\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\nimport { post } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\n\nconst ReviewItem = (props) => {\n  const {\n    additional,\n    amountToInclude,\n    nOfTotal,\n  } = copy.setup\n\n  const {\n    category,\n    count,\n    dayToDayItem,\n    dispatch,\n    item,\n    month,\n    newItem,\n    number,\n    prevMonthString,\n    year,\n  } = props\n\n  const newMonthString = dateFormatter.formatted({ month: month, year: year, format: \"monthYear\" })\n  const { amount, selectedOption } = newItem\n\n  const description = (item) => {\n    if (item === undefined) {\n      return \"\"\n    }\n    const adverb = item.monthly ? copy.category.monthly : copy.category.weekly\n    const adjective = item.expense ? copy.category.expense : copy.category.revenue\n    return `${adverb} ${adjective}`\n  }\n\n  const ignore = () => {\n    const action = markReviewed({ id: item.id })\n    dispatch(action)\n  }\n\n  const requeueItem = () => {\n    const requeuedAt = Date.now()\n    const action = requeue({ id: item.id, requeuedAt: requeuedAt })\n    dispatch(action)\n  }\n\n  const setDefaultAmount = () => {\n    const action = editNew({\n      amount: MoneyFormatter(category.default_amount, { toFloat: true }),\n      selectedOption: \"defaultAmount\",\n    })\n    dispatch(action)\n  }\n\n  const setPreviousAmount = () => {\n    const action = editNew({\n      amount: MoneyFormatter(item.amount, { toFloat: true }),\n      selectedOption: \"previousAmount\",\n    })\n    dispatch(action)\n  }\n\n  const setPreviousSpent =() => {\n    const action = editNew({\n      amount: MoneyFormatter(item.spent, { toFloat: true }),\n      selectedOption: \"previousSpent\",\n    })\n    dispatch(action)\n  }\n\n  const updateAmount = (e) => {\n    const amount = EvaluateInput(e.target.value)\n    const action = editNew({\n      amount: amount,\n      selectedOption: \"\",\n    })\n    dispatch(action)\n  }\n\n  const createItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const body = JSON.stringify({\n      events: [\n        {\n          amount: decimalToInt(amount),\n          budget_category_id: category.id,\n          event_type: \"setup_item_create\",\n          month: month,\n          year: year,\n        },\n      ],\n    })\n    const onSuccess = data => {\n      dispatch(addItem(data[0].item))\n      dispatch(markReviewed({ id: item.id }))\n    }\n    const event = data => EventMessageBuilder({ eventType: \"budget-item-create\" })(data[0])\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  const updateItem = () => {\n    const url = ApiUrlBuilder({ route: \"budget-items-events-index\" })\n    const updatedAmount = decimalToInt(amount) + dayToDayItem.amount\n    const event = EventMessageBuilder({\n      eventType: \"budget-item-update\",\n      id: dayToDayItem.id,\n      category: dayToDayItem.name,\n      month: month,\n      year: year,\n      originalAmount: (dayToDayItem.amount / 100.0),\n      newAmount: (updatedAmount / 100.0),\n    })\n    const body = JSON.stringify({\n      events: [\n        {\n          event_type: \"setup_item_adjust\",\n          amount: updatedAmount,\n          budget_item_id: dayToDayItem.id\n        },\n      ]\n    })\n    const onSuccess = data => {\n      dispatch(updateExisting(data))\n      dispatch(markReviewed({ id: item.id }))\n    }\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <div className=\"review-item-current\">\n      <div className=\"header\">\n        <div className=\"top-line\"><strong>{item.name}</strong></div>\n        <div className=\"top-line\">\n          {nOfTotal(number, count)}\n          {\" \"}\n          <em>\n            {description(item)}\n          </em>\n        </div>\n      </div>\n      <div className=\"review-item-form\">\n        <Header\n          dayToDayItem={dayToDayItem}\n          newMonthString={newMonthString}\n        />\n        <Option\n          amount={category.default_amount}\n          label={titleize(copy.category.defaultAmount)}\n          onClick={setDefaultAmount}\n          checked={selectedOption === \"defaultAmount\" ? \"checked\" : \"\"}\n        />\n        <Option\n          amount={item.amount}\n          label={`${titleize(copy.item.budgeted)} ${copy.shared.in} ${prevMonthString}`}\n          onClick={setPreviousAmount}\n          checked={selectedOption === \"previousAmount\" ? \"checked\" : \"\"}\n        />\n        <Option\n          amount={item.spent}\n          hidden={item.spent === 0}\n          label={`${titleize(item.expense ? copy.shared.spent : copy.shared.deposited)} ${copy.shared.in} ${prevMonthString}`}\n          onClick={setPreviousSpent}\n          checked={selectedOption === \"previousSpent\" ? \"checked\" : \"\"}\n        />\n        <div className=\"input\">\n          <div className=\"label\">\n            <em>{dayToDayItem ? titleize(additional) : amountToInclude}: </em>\n          </div>\n          <input\n            onChange={updateAmount}\n            value={amount}\n          />\n          <ConfirmationButton\n            amount={amount}\n            createItem={createItem}\n            dayToDayItem={dayToDayItem}\n            updateItem={updateItem}\n          />\n        </div>\n        <Total\n          amount={amount}\n          dayToDayItem={dayToDayItem}\n        />\n        <hr />\n        <div className=\"extra-options\">\n          <button\n            className=\"requeue\"\n            onClick={requeueItem}\n          >\n            {titleize(copy.setup.requeue)}\n            {\" \"}\n            <Icon className=\"fas fa-retweet\" />\n          </button>\n          <button\n            className=\"ignore\"\n            onClick={ignore}\n          >\n            {titleize(copy.setup.ignore)}\n            {\" \"}\n            <Icon className=\"far fa-times-circle\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Header = ({ dayToDayItem, newMonthString }) => {\n  const {\n    alreadyIncluded,\n    howMuchAdditional,\n    howMuchToInclude,\n  } = copy.setup\n\n  if (dayToDayItem) {\n    return (\n      <div>\n        <p>\n          {alreadyIncluded(MoneyFormatter(dayToDayItem.amount, { absolute: false }), dayToDayItem.name, newMonthString)}\n        </p>\n        <p>\n          {howMuchAdditional}\n        </p>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <p>{howMuchToInclude(newMonthString)}</p>\n      </div>\n    )\n  }\n}\n\nconst Option = ({ amount, checked, hidden, label, onClick }) => {\n  if (hidden) {\n    return null\n  } else {\n    return (\n      <div className=\"option\">\n        <div className=\"label\">\n          <input\n            type=\"radio\"\n            name=\"review-option\"\n            onChange={onClick}\n            checked={checked}\n          />\n          {label}:\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter(amount, { absolute: false })}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ConfirmationButton = ({ amount, createItem, dayToDayItem, updateItem }) => {\n  const { include } = copy.setup\n  const onClick = dayToDayItem ? updateItem : createItem\n  if (amount === \"\") {\n    return null\n  } else {\n    return (\n      <div className=\"confirm-button\">\n        <button onClick={onClick}>\n          <Icon className=\"far fa-check-circle\" />\n          {\" \"}\n          {titleize(include)}\n        </button>\n      </div>\n    )\n  }\n}\n\nconst Total = ({ amount, dayToDayItem }) => {\n  const { total } = copy.shared\n  if (dayToDayItem) {\n    return (\n      <div className=\"option\">\n        <div className=\"label\">\n          <em>{titleize(total)}: </em>\n        </div>\n        <div className=\"amount\">\n          {MoneyFormatter((((parseFloat(amount) || 0) * 100) + dayToDayItem.amount), { absolute: false })}\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\nconst mapStateToProps = (state, ownProps) => {\n  const { item } = ownProps\n  const { baseMonth, newMonth } = state.budget.setup\n  const prevMonthString = dateFormatter.formatted({ month: baseMonth.month, year: baseMonth.year, format: \"monthYear\" })\n  const { newItem } = state.budget.setup.newMonth\n  const category = state.budget.categories.collection.find(category => category.id === item.budget_category_id)\n  const dayToDayItem = item.monthly ? null : newMonth.collection.find(i => i.budget_category_id === item.budget_category_id)\n\n  return {\n    category: category,\n    dayToDayItem: dayToDayItem,\n    item: item,\n    month: newMonth.month,\n    newItem: newItem,\n    prevMonthString: prevMonthString,\n    year: newMonth.year,\n  }\n}\n\nexport default connect(mapStateToProps)(ReviewItem)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport * as dateFormatter from \"../../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport { Redirect } from \"react-router\"\nimport ReviewItem from \"./ReviewItem\"\n\nconst PreviousMonth = (props) => {\n  const {\n    collection,\n    count,\n    dispatch,\n    filter,\n    newMonth,\n    number,\n    prevMonthString,\n    redirect,\n    reviewItem,\n    title,\n  } = props\n\n  return (\n    <div className=\"previous-month-items\">\n      <h4>{prevMonthString}</h4>\n      <h5>{title}</h5>\n      <Review\n        count={count}\n        dispatch={dispatch}\n        item={reviewItem}\n        filter={filter}\n        newMonth={newMonth}\n        number={number}\n        redirect={redirect}\n      />\n      {collection.map(item =>\n        <Item key={item.id} item={item} />\n      )}\n    </div>\n  )\n}\n\nconst Review = ({ count, item, newMonth, number, redirect }) => {\n  if (item && !newMonth.set_up_completed_at) {\n    return (\n      <ReviewItem\n        count={count}\n        item={item}\n        number={number}\n      />\n    )\n  } else {\n    return (\n      <Redirect to={redirect} />\n    )\n  }\n}\n\n\nconst Item = ({ item }) => (\n  <div className=\"review-item-queued\">\n    <div className=\"label\">\n      {item.name}\n    </div>\n    <div className=\"amount\">\n      {MoneyFormatter(item.amount, { absolute: false })}\n    </div>\n  </div>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const {\n    filter,\n    redirect,\n    title,\n  } = ownProps\n\n  const filterFn = (item) => {\n    if (item.reviewed) {\n      return false\n    }\n    if (filter === \"revenue\") {\n      return !item.expense\n    }\n    return item.expense\n  }\n\n  const fullCollection = state.budget.setup.baseMonth.collection\n  const sortFn = (a, b) => {\n    if (a.requeuedAt && b.requeuedAt) {\n      return a.requeuedAt > b.requeuedAt ? 1 : -1\n    } else if (a.requeuedAt && !b.requeuedAt) {\n      return 1\n    } else if (!a.requeuedAt && b.requeuedAt) {\n      return -1\n    } else if (a.expense === b.expense) {\n      return Math.abs(a.amount) >= Math.abs(b.amount) ? -1 : 1\n    } else {\n      return a.expense ? 1 : -1\n    }\n  }\n  let collection = fullCollection\n    .filter(filterFn)\n    .sort(sortFn)\n  const reviewItem = collection.shift()\n  const { baseMonth } = state.budget.setup\n  const prevMonthString = dateFormatter.formatted({ month: baseMonth.month, year: baseMonth.year, format: \"monthYear\" })\n  const id = reviewItem ? reviewItem.id : 0\n  const name = reviewItem ? reviewItem.name : \"\"\n  const count = fullCollection.filter(item => item.name === name).length\n  const number = fullCollection\n    .filter(item => item.name === name)\n    .sort(sortFn)\n    .map(item => item.id)\n    .indexOf(id)\n\n  return {\n    collection: collection,\n    count: count,\n    filter: filter,\n    newMonth: state.budget.setup.newMonth,\n    number: (number + 1),\n    prevMonthString: prevMonthString,\n    redirect: redirect,\n    reviewItem: reviewItem,\n    title: title,\n  }\n}\n\nexport default connect(mapStateToProps)(PreviousMonth)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Items from \"./Items\"\nimport PreviousMonth from \"./PreviousMonth\"\n\nimport { Redirect } from \"react-router\"\n\nconst Expenses = ({ paramMonth, paramYear, isFetched, month, year }) => {\n  if (isFetched) {\n    return (\n      <div className=\"set-up-workspace\">\n        <PreviousMonth\n          filter=\"expenses\"\n          redirect={`/budget/set-up/${month}/${year}/finalize`}\n          title={titleize(`${copy.category.expense} ${copy.item.items}`)}\n        />\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/set-up/${paramMonth}/${paramYear}/intro`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const paramMonth = parseInt(ownProps.match.params.month)\n  const paramYear = parseInt(ownProps.match.params.year)\n  const { isFetched } = state.budget.setup.baseMonth\n\n  return {\n    paramMonth: paramMonth,\n    paramYear: paramYear,\n    isFetched: isFetched,\n    ...state.budget.setup.newMonth\n  }\n}\n\nexport default connect(mapStateToProps)(Expenses)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { updateMetadata } from \"../../../actions/budget/setup\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport { put } from \"../../../functions/ApiClient\"\n\nimport Icon from \"../../Icons/Icon\"\nimport Items from \"./Items\"\nimport { Redirect } from \"react-router-dom\"\n\nconst Finalize = ({ dispatch, month, setUpCompletedAt, year }) => {\n  const { markCompleteText } = copy.setup\n\n  const markComplete = (e) => {\n    e.preventDefault()\n    const url = ApiUrlBuilder({ route: \"interval-show\", month: month, year: year })\n    const body = { set_up_completed_at: new Date() }\n    const onSuccess = data => dispatch(updateMetadata(data))\n    const event = EventMessageBuilder({\n      eventType: \"interval-mark-complete\",\n      month: month,\n      year: year,\n      ...body\n    })\n    put(url, JSON.stringify(body), { onSuccess: onSuccess, event: event })\n  }\n\n  if (!setUpCompletedAt) {\n    return (\n      <div className=\"set-up-workspace\">\n        <div className=\"previous-month-items\">\n          <div className=\"review-item-current\">\n            <div className=\"review-item-form\">\n              <div className=\"confirm-button\">\n                <button\n                  onClick={markComplete}\n                >\n                  <strong>{titleize(markCompleteText)}</strong>\n                  {\" \"}\n                  <Icon className=\"far fa-check-square\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/${month}/${year}`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { newMonth } = state.budget.setup\n  const { month, set_up_completed_at, year } = newMonth\n\n  return {\n    month: month,\n    setUpCompletedAt: set_up_completed_at,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Finalize)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { baseMonthFetched, newMonthFetched } from \"../../../actions/budget\"\nimport { categoriesFetched as fetched } from \"../../../actions/budget/categories\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport { Redirect } from \"react-router\"\n\nconst Intro = (props) => {\n  const {\n    isApiUnauthorized,\n    baseMonth,\n    categoriesFetched,\n    dispatch,\n    newMonth,\n    targetMonth,\n    targetYear\n  } = props\n\n  const { month, year } = newMonth\n\n  if (isApiUnauthorized) {\n    return null\n  }\n\n  if (!categoriesFetched) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n  if (categoriesFetched && !newMonth.isFetched) {\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: targetMonth, year: targetYear },\n    })\n    const onSuccess = data => dispatch(newMonthFetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n  if (categoriesFetched && newMonth.isFetched && !baseMonth.isFetched) {\n    const month = targetMonth === 1 ? 12 : (targetMonth - 1)\n    const year = targetMonth === 1 ? (targetYear - 1) : targetYear\n    const url = ApiUrlBuilder({\n      route: \"budget-items-index\",\n      query: { month: month, year: year  },\n    })\n    const onSuccess = data => dispatch(baseMonthFetched(data))\n    get(url, onSuccess)\n    return null\n  }\n\n  return (\n    <Redirect to={`/budget/set-up/${month}/${year}/revenues`} />\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const targetMonth = parseInt(ownProps.match.params.month)\n  const targetYear = parseInt(ownProps.match.params.year)\n  const newMonth = state.budget.setup.newMonth\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    baseMonth: state.budget.setup.baseMonth,\n    categoriesFetched: state.budget.categories.fetched,\n    newMonth: newMonth,\n    targetMonth: targetMonth,\n    targetYear: targetYear,\n    ...ownProps\n  }\n}\n\nexport default connect(mapStateToProps)(Intro)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport Items from \"./Items\"\nimport PreviousMonth from \"./PreviousMonth\"\n\nimport { Redirect } from \"react-router\"\n\nconst Revenues = ({ paramMonth, paramYear, isFetched, month, year }) => {\n  if (isFetched) {\n    return (\n      <div className=\"set-up-workspace\">\n        <PreviousMonth\n          filter=\"revenue\"\n          redirect={`/budget/set-up/${month}/${year}/accruals`}\n          title={titleize(`${copy.category.revenue} ${copy.item.items}`)}\n        />\n        <Items />\n      </div>\n    )\n  } else {\n    return (\n      <Redirect to={`/budget/set-up/${paramMonth}/${paramYear}/intro`} />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const paramMonth = parseInt(ownProps.match.params.month)\n  const paramYear = parseInt(ownProps.match.params.year)\n  const { isFetched } = state.budget.setup.baseMonth\n  const { month, year } = state.budget.setup.newMonth\n\n  return {\n    paramMonth: paramMonth,\n    paramYear: paramYear,\n    isFetched: isFetched,\n    month: month,\n    year: year,\n  }\n}\n\nexport default connect(mapStateToProps)(Revenues)\n","export const created = (payload) => {\n  return { type: \"icons/CREATED\", payload: payload }\n}\n\nexport const deleted = (id) => {\n  return { type: \"icons/DELETED\", payload: id }\n}\n\nexport const fetched = (response) => {\n  return { type: \"icons/FETCHED\", payload: response }\n}\n\nexport const resetIcon = ({ id }) => {\n  return { type: \"icons/RESET\", payload: { id: id } }\n}\n\nexport const resetNew = () => {\n  return { type: \"icons/RESET_NEW\", payload: null }\n}\n\nexport const update = (payload) => {\n  return { type: \"icons/UPDATE\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"icons/UPDATE_NEW\", payload: payload }\n}\n\nexport const updateProps = (payload) => {\n  return { type: \"icons/UPDATE_PROPS\", payload: payload }\n}\n\nexport const updated = (payload) => {\n  return { type: \"icons/UPDATED\", payload: payload }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { applyFilter } from \"../../../actions/budget/categories\"\n\nimport Icon from \"../../Icons/Icon\"\n\nconst Filters = (props) => {\n  const {\n    all,\n    expenses,\n    filters,\n    frequency,\n    monthly,\n    revenues,\n    searchLabelText,\n    searchPlaceholder,\n    type,\n    weekly,\n  } = copy.category\n\n  const {\n    adjectiveFilter,\n    adverbFilter,\n    appliedFilters,\n    dispatch,\n    searchFilter,\n  } = props\n\n  const funnelClass = appliedFilters.length === 0 ? \"\" : \"active\"\n\n  const setFilter = (name, value) => dispatch(\n    applyFilter({ name: name, value: value })\n  )\n\n  const setSearchTerm = (e) => {\n    setFilter(\"search\", e.target.value)\n  }\n\n  const setAdjectiveFilter = (e) => {\n    setFilter(\"adjective\", e.target.value)\n  }\n\n  const setAdverbFilter = (e) => {\n    setFilter(\"adverb\", e.target.value)\n  }\n\n  return (\n    <div className=\"budget-category-filters\">\n      <span className={funnelClass}>\n        <Icon className=\"fas fa-filter\" />\n      </span>\n      {\" \"}\n      <div className=\"title\">\n        <strong>{titleize(filters)}</strong>\n      </div>\n\n      <div className=\"search\">\n        <div className=\"label\">\n          {titleize(searchLabelText)}\n        </div>\n        <div className=\"search-bar\">\n          <input\n            type=\"text\"\n            onChange={setSearchTerm}\n            placeholder={searchPlaceholder}\n            value={searchFilter.value}\n          />\n        </div>\n      </div>\n\n      <div className=\"adverb\">\n        <div className=\"options\">\n          <div className=\"title\">\n            <strong>{titleize(frequency)}</strong>\n          </div>\n          <hr/>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(all)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdverbFilter}\n                value=\"\"\n                checked={adverbFilter.value === \"\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(weekly)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdverbFilter}\n                value=\"day-to-day\"\n                checked={adverbFilter.value === \"day-to-day\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(monthly)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdverbFilter}\n                value=\"monthly\"\n                checked={adverbFilter.value === \"monthly\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <div className=\"adjective\">\n        <div className=\"options\">\n          <div className=\"title\">\n            <strong>{titleize(type)}</strong>\n          </div>\n          <hr/>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(all)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdjectiveFilter}\n                value=\"\"\n                checked={adjectiveFilter.value === \"\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(revenues)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdjectiveFilter}\n                value=\"revenue\"\n                checked={adjectiveFilter.value === \"revenue\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n          <div className=\"option\">\n            <div className=\"label\">\n              {titleize(expenses)}\n            </div>\n            <div className=\"radio\">\n              <input\n                type=\"radio\"\n                onChange={setAdjectiveFilter}\n                value=\"expense\"\n                checked={adjectiveFilter.value === \"expense\" ? \"checked\" : \"\"}\n              />\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    filters,\n    showFilters,\n  } = state.budget.categories\n  const appliedFilters = filters.filter(filter => filter.value !== \"\")\n  const adjectiveFilter = filters.find(filter => filter.name === \"adjective\")\n  const adverbFilter = filters.find(filter => filter.name === \"adverb\")\n  const searchFilter = filters.find(filter => filter.name === \"search\")\n\n  return {\n    adjectiveFilter: adjectiveFilter,\n    adverbFilter: adverbFilter,\n    appliedFilters: appliedFilters,\n    searchFilter: searchFilter,\n    showFilters: showFilters\n  }\n}\n\nexport default connect(mapStateToProps)(Filters)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nexport default () => (\n  <div className=\"budget-category\" id=\"budget-category-header\">\n    <div className=\"category-name\"><h3>{titleize(copy.category.name)}</h3></div>\n    <div className=\"category-slug italic\"><h3>Slug</h3></div>\n    <div className=\"category-default-amount\"><h3>{titleize(copy.category.defaultAmount)}</h3></div>\n    <div className=\"category-detail\"><h3>{titleize(copy.category.details)}</h3></div>\n    <div className=\"category-accrual\"><h3>{titleize(copy.category.accrual)}</h3></div>\n    <div className=\"category-icon\"><h3>{titleize(copy.category.icon)}</h3></div>\n    <div className=\"category-option-buttons\"><h3>{titleize(copy.category.editSlashDelete)}</h3></div>\n    <div className=\"category-maturity-intervals\"><h3>{titleize(copy.maturityInterval.title)}</h3></div>\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { reset, toggleNewForm } from \"../../../../actions/budget/categories\"\n\nconst CancelButton = (props) => {\n  const {\n    id,\n    dispatch,\n    cancelLabel,\n  } = props\n\n  const cancel = (e) => {\n    e.preventDefault()\n    const action = reset({ id: id })\n    dispatch(action)\n  }\n\n  const toggleForm = (e) => {\n    e.preventDefault()\n    const action = toggleNewForm({ showForm: false })\n    dispatch(action)\n  }\n\n  if (id) {\n    return (\n      <div className=\"category-button\">\n        <button type=\"cancel\" className=\"cancel\" onClick={cancel}>\n          {cancelLabel}\n        </button>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"category-button\">\n        <button type=\"cancel\" className=\"cancel\" onClick={toggleForm}>\n          {cancelLabel}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(CancelButton)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Select from \"react-select\"\n\nconst IconSelect = ({ options, onChange, value }) => (\n  <div className=\"budget-icon-select\">\n    <Select\n      options={options}\n      isSearchable={true}\n      onChange={onChange}\n      value={value}\n    />\n  </div>\n)\n\nconst mapStateToProps = (state, ownProps) => {\n  const { collection } = state.icons\n  const iconOptions = collection\n    .sort((a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1)\n    .map(icon => ({ value: icon.id, label: icon.name }))\n  const options = [{ value: null, label: \"\" }, ...iconOptions]\n  const value = options.find(option => option.value === ownProps.iconId)\n\n  return {\n    options: options,\n    onChange: ownProps.onChange,\n    value: value,\n  }\n}\n\nexport default connect(mapStateToProps)(IconSelect)\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\n\nimport CancelButton from \"./CancelButton\"\nimport Errors from \"../../../Errors/Errors\"\nimport IconSelect from \"./IconSelect\"\n\nexport default (props) => (\n  <div className=\"budget-category\">\n    <CategoryInput\n      className=\"category-name\"\n      errors={props.errors.name || []}\n      name=\"name\"\n      onChange={props.onChange}\n      placeholder={copy.category.name}\n      value={props.name}\n    />\n    <CategoryInput\n      className=\"category-slug\"\n      errors={props.errors.slug || []}\n      name=\"slug\"\n      onChange={props.onChange}\n      placeholder={copy.category.slug}\n      value={props.slug || \"\"}\n    />\n    <CategoryInput\n      className=\"category-default-amount\"\n      errors={props.errors.default_amount || []}\n      name=\"default_amount\"\n      onChange={props.onChange}\n      placeholder={copy.category.defaultAmount}\n      value={props.default_amount}\n    />\n    <div className=\"category-options\">\n      <Option\n        checked={props.monthly === \"true\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.monthlyName}\n        onChange={props.onChange}\n        title={copy.category.monthly}\n        value={true}\n      />\n      <Option\n        checked={props.monthly === \"false\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.monthlyName}\n        onChange={props.onChange}\n        title={titleize(copy.category.weekly)}\n        value={false}\n      />\n    </div>\n    <div className=\"category-options\">\n      <Option\n        checked={props.expense === \"true\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.expenseName}\n        onChange={props.onChange}\n        title={copy.category.expense}\n        value={true}\n      />\n      <Option\n        checked={props.expense === \"false\" ? \"checked\" : \"\"}\n        disabled={props.optionsDisabled}\n        name={props.expenseName}\n        onChange={props.onChange}\n        title={copy.category.revenue}\n        value={false}\n      />\n    </div>\n    <div className=\"category-options\">\n      <div className=\"option\">\n        <div className=\"label\">{titleize(copy.category.accrual)}</div>\n        <input type=\"checkbox\"\n          name=\"accrual\"\n          value={props.accrual === \"true\" ? \"false\" : \"true\"}\n          onChange={props.onChange}\n          checked={props.accrual === \"true\" ? \"checked\" : \"\"}\n        />\n        <Errors errors={props.errors.accrual || []} />\n      </div>\n    </div>\n    <IconSelect\n      onChange={props.onSelectChange}\n      iconId={props.icon_id}\n    />\n    <div className=\"category-button\">\n      <button type=\"submit\" className=\"submit\" onClick={props.onSubmit}>\n        {props.label}\n      </button>\n    </div>\n    <CancelButton\n      {...props}\n    />\n  </div>\n)\n\nconst CategoryInput = ({ className, errors, name, onChange, placeholder, value }) => {\n  return (\n    <div className={className}>\n      <input\n        className={errors.length > 0 ? \"errors\" : \"\"}\n        name={name}\n        onChange={onChange}\n        placeholder={placeholder}\n        type=\"text\"\n        value={value}\n      />\n      <Errors errors={errors} />\n    </div>\n  )\n}\n\nconst Option = ({ checked, disabled, name, onChange, title, value }) => (\n  <div className=\"option\">\n    <div className=\"label\">{titleize(title)}</div>\n    <input type=\"radio\"\n      checked={checked}\n      disabled={disabled}\n      name={name}\n      onChange={onChange}\n      value={value}\n    />\n  </div>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  created,\n  errorsOnNew,\n  resetNewForm,\n  toggleNewForm,\n  updateNew,\n} from \"../../../actions/budget/categories\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { post } from \"../../../functions/ApiClient\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\n\nimport Form from \"./Form/Form\"\nimport Icon from \"../../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst NewBudgetCategory = (props) => {\n  const {\n    addNew,\n    cancelButtonText,\n    createButtonText,\n  } = copy.category\n\n  const {\n    dispatch,\n    newCategory,\n    showForm,\n  } = props\n\n  const onChange = (e) => {\n    const action = updateNew({ [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const onSelectChange = (e) => {\n    const action = updateNew({ icon_id: e.value })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const body = JSON.stringify({\n      ...newCategory,\n      default_amount: decimalToInt(newCategory.default_amount),\n    })\n    const onSuccess = data => {\n      const createdAction = created(data)\n      dispatch(createdAction)\n      dispatch(resetNewForm())\n    }\n    const errorHandler = (response) => {\n      dispatch(errorsOnNew(response))\n    }\n    const event = EventMessageBuilder({ eventType: \"budget-category-create\" })\n    post(url, body, { onSuccess: onSuccess, onFailure: errorHandler, event: event })\n  }\n\n  const toggleForm = (e) => {\n    e.preventDefault()\n    const action = toggleNewForm({ showForm: !showForm })\n    dispatch(action)\n    dispatch(resetNewForm())\n  }\n\n  if (showForm) {\n    return (\n      <Form\n        {...newCategory}\n        expenseName=\"expense\"\n        cancelLabel={titleize(cancelButtonText)}\n        label={titleize(createButtonText)}\n        monthlyName=\"monthly\"\n        onChange={onChange}\n        onSelectChange={onSelectChange}\n        onSubmit={onSubmit}\n        optionsDisabled={false}\n      />\n    )\n  } else {\n    return (\n      <div className=\"budget-category-form\">\n        <Link\n          to=\"#\"\n          onClick={toggleForm}\n        >\n          <div className=\"add-new-category-button\">\n            <Icon className=\"fas fa-plus\" />\n            {\" \"}\n            {titleize(addNew)}\n          </div>\n        </Link>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { newCategory } = state.budget\n  const errors = newCategory.errors.reduce((acc, error) => {\n    Object.entries(error).map(arr => {\n      const key = arr[0]\n      const messages = arr[1]\n      const existingMessages = acc[key] || []\n      acc[key] = [...existingMessages, ...messages]\n\n      return acc\n    })\n\n    return acc\n  }, {})\n\n  return {\n    newCategory: { ...newCategory, errors: errors },\n    showForm: state.budget.categories.showForm,\n  }\n}\n\nexport default connect(mapStateToProps)(NewBudgetCategory)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport {\n  applyErrorsOnEdit,\n  reset,\n  updated,\n  updateProps,\n} from \"../../../actions/budget/categories\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { decimalToInt } from \"../../../functions/MoneyFormatter\"\nimport EventMessageBuilder, { changedProps } from \"../../../functions/EventMessageBuilder\"\nimport { put } from \"../../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = (props) => {\n  const {\n    cancelLabel,\n    category,\n    dispatch,\n  } = props\n\n  const {\n    id,\n    accrual,\n    default_amount,\n    expense,\n    monthly,\n    updatedProps,\n  } = category\n\n  const onChange = (e) => {\n    const action = updateProps({ id: id, [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const onSelectChange = (e) => {\n    const action = updateProps({ id: id, icon_id: e.value })\n    dispatch(action)\n  }\n\n  const putBody = () => {\n    if (!updatedProps) {\n      return { id: id }\n    } else if (updatedProps.default_amount) {\n      return {\n        ...updatedProps,\n        default_amount: decimalToInt(updatedProps.default_amount)\n      }\n    } else {\n      return updatedProps\n    }\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"budget-category-show\", id: id })\n    const body = JSON.stringify(putBody())\n    const onSuccess = (data) => dispatch(updated({ ...data, showForm: false }))\n    const onFailure = (data) => dispatch(applyErrorsOnEdit({ id: id, ...data }))\n    const event = EventMessageBuilder({\n      eventType: \"budget-category-update\",\n      id: id,\n      changedProps: changedProps(category, updatedProps),\n    })\n    put(url, body, { onSuccess: onSuccess, onFailure: onFailure, event: event })\n  }\n\n  const formProps = {\n    ...category,\n    accrual: accrual.toString(),\n    default_amount: (default_amount / 100.0).toFixed(2),\n    expense: expense.toString(),\n    monthly: monthly.toString(),\n    ...updatedProps\n  }\n\n  const resetForm = (e) => {\n    e.preventDefault()\n    const action = reset({ id: id })\n    dispatch(action)\n  }\n\n  return (\n    <Form\n      key={id}\n      {...formProps}\n      cancelLabel={cancelLabel}\n      expenseName={`expense[${id}]`}\n      label={titleize(copy.category.updateButtonText)}\n      monthlyName={`monthly[${id}]`}\n      onChange={onChange}\n      onSelectChange={onSelectChange}\n      onSubmit={onSubmit}\n      optionsDisabled={true}\n      resetForm={resetForm}\n    />\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => {\n  const { category } = ownProps\n\n  const errors = category.errors.reduce((acc, error) => {\n    Object.entries(error).map(arr => {\n      const key = arr[0]\n      const messages = arr[1]\n      const existingMessages = acc[key] || []\n      acc[key] = [...existingMessages, ...messages]\n\n      return acc\n    })\n\n    return acc\n  }, {})\n\n  return {\n    ...ownProps,\n    category: { ...category, errors: errors }\n  }\n}\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\n\nimport { Link } from \"react-router-dom\"\nimport Select from \"react-select\"\n\nexport default (props) => {\n  const {\n    cancel,\n    maturityInterval,\n    options,\n    onChange,\n    onSubmit,\n    value,\n  } = props\n\n  const handleSelect = (e) => {\n    onChange({ month: e.value })\n  }\n\n  const handleYear = (e) => {\n    onChange({ year: e.target.value })\n  }\n\n  return (\n    <div className=\"new-maturity-interval\">\n      <div className=\"month-select\">\n        <Select\n          options={options}\n          onChange={handleSelect}\n          value={value}\n        />\n      </div>\n      <div className=\"year-input\">\n        <input\n          type=\"number\"\n          value={maturityInterval.year}\n          onChange={handleYear}\n          placeholder=\"year\"\n        />\n      </div>\n      <div className=\"maturity-interval-submit\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-check\"\n          onClick={onSubmit}\n        />\n      </div>\n      <div className=\"maturity-interval-submit\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-times\"\n          onClick={cancel}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport {\n  maturityIntervalCreated,\n  updated\n} from \"../../../../actions/budget/categories\"\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../../functions/EventMessageBuilder\"\nimport { post } from \"../../../../functions/ApiClient\"\n\nimport Form from \"./Form\"\n\nexport default (props) => {\n  const {\n    id,\n    dispatch,\n    newMaturityIntervalAttributes,\n    showMaturityIntervalForm,\n  } = props\n\n  const { options } = copy.maturityInterval\n  const maturityInterval = newMaturityIntervalAttributes || {}\n\n  const updateNewMaturityInterval = (payload) => {\n    const action = updated({\n      id: id,\n      newMaturityIntervalAttributes: { ...newMaturityIntervalAttributes, ...payload }\n    })\n    dispatch(action)\n  }\n\n  const hideForm = () => {\n    const action = updated({ id: id, showMaturityIntervalForm: false })\n    dispatch(action)\n  }\n\n  const addMaturityInterval = () => {\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-intervals-index\",\n      budgetCategoryId: id,\n    })\n    const body = JSON.stringify(newMaturityIntervalAttributes)\n    const onSuccess = data => dispatch(maturityIntervalCreated({\n      id: id,\n      maturityInterval: data\n    }))\n    const event = EventMessageBuilder({ eventType: \"budget-category-maturity-interval-create\" })\n    post(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const onChange = (payload) => {\n    updateNewMaturityInterval(payload)\n  }\n\n  if (showMaturityIntervalForm) {\n    return (\n      <Form\n        cancel={hideForm}\n        maturityInterval={maturityInterval}\n        onChange={onChange}\n        onSubmit={addMaturityInterval}\n        options={options}\n      />\n    )\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport {\n  editMaturityInterval,\n  toggleMaturityIntervalEditForm,\n  updateMaturityInterval,\n} from \"../../../../actions/budget/categories\"\n\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../../../functions/EventMessageBuilder\"\nimport { put } from \"../../../../functions/ApiClient\"\n\nimport Form from \"./Form\"\n\nexport default (props) => {\n  const {\n    id,\n    category_id,\n    dispatch,\n    month,\n    name,\n    updatedProps,\n    year,\n  } = props\n\n  const maturityInterval = {\n    id: id,\n    month: month,\n    year: year,\n    ...updatedProps,\n  }\n\n  const { options } = copy.maturityInterval\n  const value = options.find(option => option.value === maturityInterval.month)\n\n  const onChange = (payload) => {\n    const action = editMaturityInterval({ id: id, ...payload })\n    dispatch(action)\n  }\n\n  const closeForm = () => {\n    const action = toggleMaturityIntervalEditForm({\n      id: id,\n      showForm: false,\n    })\n    dispatch(action)\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n    const event = EventMessageBuilder({\n      eventType: \"maturity-interval-update\",\n      id: id,\n      name: name,\n      changedProps: changedProps(props, updatedProps),\n    })\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-interval-show\",\n      id: id,\n      budgetCategoryId: category_id,\n    })\n    const body = JSON.stringify(maturityInterval)\n    const onSuccess = data => {\n      dispatch(updateMaturityInterval(data))\n      closeForm()\n    }\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  return (\n    <Form\n      cancel={closeForm}\n      maturityInterval={maturityInterval}\n      onChange={onChange}\n      onSubmit={onSubmit}\n      options={options}\n      value={value}\n    />\n  )\n}\n","import React from \"react\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport {\n  removeMaturityInterval,\n  toggleMaturityIntervalEditForm,\n} from \"../../../../actions/budget/categories\"\nimport * as DateFunctions from \"../../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../../../functions/EventMessageBuilder\"\nimport { deleteRequest } from \"../../../../functions/ApiClient\"\n\nimport Edit from \"./Edit\"\nimport { Link } from \"react-router-dom\"\n\nexport default (props) => {\n  const {\n    id,\n    category_id,\n    dispatch,\n    month,\n    showForm,\n    year,\n  } = props\n\n  const revealForm = () => {\n    const action = toggleMaturityIntervalEditForm({\n      id: id,\n      showForm: true,\n    })\n    dispatch(action)\n  }\n\n  const deleteMaturityInterval = () => {\n    const { deleteConfirmMessage } = copy.maturityInterval\n    const confirmation = window.confirm(deleteConfirmMessage)\n    if (!confirmation) { return }\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-interval-show\",\n      id: id,\n      budgetCategoryId: category_id,\n    })\n    const action = removeMaturityInterval({ id: id })\n    const event = EventMessageBuilder({\n      eventType: \"budget-category-maturity-interval-delete\",\n      id: id,\n      categoryId: category_id,\n      month: month,\n      year: year\n    })\n    deleteRequest(url, event, () => dispatch(action))\n  }\n\n  if (!showForm) {\n    return (\n      <div className=\"maturity-interval\">\n        {DateFunctions.formatted({ month: month, year: year, day: 1, format: \"longMonth\" })}\n        <span className=\"icon-links\">\n          {\" \"}\n          <Link\n            to=\"#\"\n            className=\"far fa-edit\"\n            onClick={revealForm}\n          />\n          {\" \"}\n          <Link\n            to=\"#\"\n            className=\"far fa-trash-alt\"\n            onClick={deleteMaturityInterval}\n          />\n        </span>\n      </div>\n    )\n  } else {\n    return (\n      <Edit\n        {...props}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../../locales/copy\"\nimport { titleize } from \"../../../../locales/functions\"\nimport {\n  accrualMaturityIntervalsFetched,\n  updated,\n} from \"../../../../actions/budget/categories\"\n\nimport * as DateFunctions from \"../../../../functions/DateFormatter\"\nimport ApiUrlBuilder from \"../../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../../functions/ApiClient\"\nimport GroupBy from \"../../../../functions/GroupBy\"\n\nimport Icon from \"../../../Icons/Icon\"\nimport NewMaturityInterval from \"./New\"\nimport { Link } from \"react-router-dom\"\nimport Show from \"./Show\"\n\nconst MaturityInfo = (props) => {\n  const {\n    id,\n    accrual,\n    isApiUnauthorized,\n    dispatch,\n    maturityIntervals,\n    maturityIntervalsFetched,\n    name,\n    newMaturityIntervalAttributes,\n    showMaturityIntervalForm,\n    showMaturityIntervals,\n  } = props\n\n  if (!isApiUnauthorized && !maturityIntervalsFetched && showMaturityIntervals) {\n    const url = ApiUrlBuilder({\n      route: \"budget-category-maturity-intervals-index\",\n      budgetCategoryId: id,\n    })\n    const onSuccess = data => dispatch(\n      accrualMaturityIntervalsFetched({\n        id: id,\n        collection: data,\n      })\n    )\n    get(url, onSuccess)\n  }\n\n  const fetchMaturityIntervals = () => {\n    const action = updated({ id: id, showMaturityIntervals: true })\n    dispatch(action)\n  }\n\n  const hideMaturityIntervals = () => {\n    const action = updated({ id: id, showMaturityIntervals: false })\n    dispatch(action)\n  }\n\n  const toggleForm = () => {\n    const year = DateFunctions.today(\"object\").year\n    const action = updated({\n      id: id,\n      newMaturityIntervalAttributes: {\n        month: \"\",\n        year: year,\n      },\n      showMaturityIntervalForm: !showMaturityIntervalForm\n    })\n    dispatch(action)\n  }\n\n  if (accrual && !showMaturityIntervals) {\n    return (\n      <div className=\"category-maturity-intervals\">\n        <Link\n          to=\"#\"\n          onClick={fetchMaturityIntervals}\n        >\n          <Icon className=\"fas fa-info-circle\" />\n        </Link>\n      </div>\n    )\n  } else if (accrual) {\n    const groupedIntervals = GroupBy(maturityIntervals, \"year\")\n\n    return (\n      <div className=\"category-maturity-intervals\">\n        <div className=\"maturity-interval-label\">\n          <Link\n            to=\"#\"\n            onClick={hideMaturityIntervals}\n          >\n            <Icon className=\"fas fa-info-circle\" />\n          </Link>\n          {\" \"}\n          {titleize(copy.maturityInterval.title)}\n          {\" \"}\n          <Link\n            to=\"#\"\n            className={showMaturityIntervalForm ? \"fas fa-minus\" : \"fas fa-plus\"}\n            onClick={toggleForm}\n          />\n          <NewMaturityInterval\n            id={id}\n            dispatch={dispatch}\n            name={name}\n            newMaturityIntervalAttributes={newMaturityIntervalAttributes}\n            showMaturityIntervalForm={showMaturityIntervalForm}\n          />\n        </div>\n        {groupedIntervals.map(intervalsByYear =>\n          <MaturityIntervalByYear\n            key={intervalsByYear.year}\n            dispatch={dispatch}\n            name={name}\n            {...intervalsByYear}\n          />\n        )}\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"category-maturity-intervals\">\n      </div>\n    )\n  }\n}\n\nconst MaturityIntervalByYear = ({ collection, dispatch, name, year }) => (\n  <div>\n    <strong>{year}</strong>\n    <div>\n      {collection.map(interval =>\n        <Show\n          key={interval.id}\n          dispatch={dispatch}\n          {...interval}\n          name={name}\n        />\n      )}\n    </div>\n  </div>\n)\n\nconst mapStateToProps = ((state, ownProps) => {\n  const filterFn = (interval) => interval.category_id === ownProps.id\n  const sortFn = (a, b) => {\n    if (a.year < b.year) {\n      return -1\n    } else if (a.year > b.year) {\n      return 1\n    } else if (a.month < b.month) {\n      return -1\n    } else if (a.month > b.month) {\n      return 1\n    } else {\n      return 0\n    }\n  }\n\n  const maturityIntervals = state.budget.maturityIntervals\n    .filter(filterFn)\n    .sort(sortFn)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    ...ownProps,\n    maturityIntervals: maturityIntervals,\n  }\n})\n\nexport default connect(mapStateToProps)(MaturityInfo)\n","export default (array, key) => {\n  const values = array\n    .map(item => item[key])\n    .filter((v, i, a) => a.indexOf(v) === i)\n\n  const reducer = (collection, value) => {\n    collection.push({ [key]: value, collection: array.filter(item => item[key] === value) })\n    return collection\n  }\n\n  return values.reduce(reducer, [])\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { deleted, update } from \"../../../actions/budget/categories\"\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../../functions/EventMessageBuilder\"\nimport MoneyFormatter from \"../../../functions/MoneyFormatter\"\n\nimport Edit from \"./Edit\"\nimport ExtraInfo from \"./MaturityIntervals/Info\"\nimport Icon from \"../../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst Show = (props) => {\n  const {\n    cancelButtonText,\n    deleteConfirmMessage,\n    revenue,\n    weekly,\n  } = copy.category\n\n  const {\n    category,\n    dispatch,\n  } = props\n\n  const {\n    id,\n    accrual,\n    default_amount,\n    errors,\n    expense,\n    icon_class_name,\n    monthly,\n    name,\n    showForm,\n    slug,\n  } = category\n\n  const revealForm = (e) => {\n    e.preventDefault()\n    const action = update({\n      id: id,\n      errors: (errors || []),\n      showForm: true,\n    })\n    dispatch(action)\n  }\n\n  const deleteCategory = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(deleteConfirmMessage(name))\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"budget-category-show\", id: id })\n      const event = EventMessageBuilder({\n        eventType: \"budget-category-delete\",\n        id: id,\n        name: name,\n      })\n      deleteRequest(url, event, dispatch(deleted(id)))\n    }\n  }\n\n  if (showForm) {\n    return (\n      <Edit\n        category={{...category, errors: (category.errors || [])}}\n        cancelLabel={cancelButtonText}\n      />\n    )\n  } else {\n    return (\n      <div className=\"budget-category\">\n        <div className=\"category-name\">{name}</div>\n        <div className=\"category-slug italic\">{slug}</div>\n        <div className=\"category-default-amount\">\n          {MoneyFormatter(default_amount, { absoulte: false })}\n        </div>\n        <div className=\"category-detail\">\n          <div>\n            {monthly ? copy.category.monthly : weekly}\n          </div>\n          <div>\n            {expense ? copy.category.expense : revenue}\n          </div>\n        </div>\n        <div className=\"category-accrual\">\n          {accrual ? copy.category.accrual : \"\"}\n        </div>\n        <div className=\"category-icon\">\n          <Icon className={icon_class_name} />\n        </div>\n        <div className=\"category-option-buttons\">\n          <div className=\"category-edit\">\n            <Link\n              to=\"#\"\n              onClick={revealForm}\n              className=\"far fa-edit\"\n            />\n          </div>\n          <div className=\"category-delete\">\n            <Link\n              to=\"#\"\n              onClick={deleteCategory}\n              className=\"far fa-trash-alt\"\n            />\n          </div>\n        </div>\n        <ExtraInfo\n          dispatch={dispatch}\n          {...category}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Show)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\nimport { categoriesFetched } from \"../../../actions/budget/categories\"\nimport { fetched as iconsFetched } from \"../../Icons/actions\"\n\nimport ApiUrlBuilder from \"../../../functions/ApiUrlBuilder\"\nimport { get } from \"../../../functions/ApiClient\"\n\nimport Filters from \"./Filters\"\nimport Header from \"./Header\"\nimport NewBudgetCategory from \"./New\"\nimport Show from \"./Show\"\n\nconst BudgetCategories = (props) => {\n  const { isApiUnauthorized, collection, dispatch, fetched } = props\n\n  if (!isApiUnauthorized && !fetched) {\n    const url = ApiUrlBuilder({ route: \"budget-categories-index\" })\n    const onSuccess = data => dispatch(categoriesFetched(data))\n    get(url, onSuccess)\n  }\n\n  if (fetched && !props.iconsFetched && !isApiUnauthorized) {\n    const url = ApiUrlBuilder({ route: \"icons-index\" })\n    const onSuccess = data => dispatch(iconsFetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"categories\">\n      <h2>{titleize(copy.category.title)}</h2>\n      <Filters />\n      <Header />\n      <NewBudgetCategory />\n      {collection.map(category =>\n        <Show\n          key={category.id}\n          category={category}\n        />\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { collection, fetched, filters } = state.budget.categories\n  const adjectiveFilter = (category) => {\n    const filter = filters.find(filter => filter.name === \"adjective\")\n    switch (filter.value) {\n    case \"expense\":\n      return category.expense\n    case \"revenue\":\n      return !category.expense\n    default:\n      return true\n    }\n  }\n  const adverbFilter = (category) => {\n    const filter = filters.find(filter => filter.name === \"adverb\")\n    switch (filter.value) {\n    case \"day-to-day\":\n      return !category.monthly\n    case \"monthly\":\n      return category.monthly\n    default:\n      return true\n    }\n  }\n  const searchTerm = filters.find(filter => filter.name === \"search\").value.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")\n  const searchFilter = (category) => {\n    if (searchTerm === \"\") {\n      return true\n    } else {\n      const expression = new RegExp(searchTerm, \"i\")\n      return category.name.match(expression)\n    }\n  }\n  const sortBy = (a, b) => {\n    if (searchTerm === \"\") {\n      if (a.isNew && !b.isNew) {\n        return -1\n      } else if (!a.isNew && b.isNew) {\n        return 1\n      } else {\n        return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n      }\n    }\n    const strictExp = new RegExp(`^${searchTerm}.*`, \"i\")\n    const looseExp = new RegExp(`(^|\\\\s)${searchTerm}.*`, \"i\")\n    if (a.isNew && !b.isNew) {\n      return -1\n    } else if (!a.isNew && b.isNew) {\n      return 1\n    } else if (a.name.match(strictExp) && b.name.match(strictExp)) {\n      return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n    } else if (a.name.match(strictExp)) {\n      return -1\n    } else if (b.name.match(strictExp)) {\n      return 1\n    } else if (a.name.match(looseExp) && b.name.match(looseExp)) {\n      return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n    } else if (a.name.match(looseExp)) {\n      return -1\n    } else if (b.name.match(looseExp)) {\n      return 1\n    } else {\n      return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n    }\n  }\n  const iconsFetched = state.icons.fetched\n  const categories = collection\n    .filter(adjectiveFilter)\n    .filter(adverbFilter)\n    .filter(searchFilter)\n    .sort(sortBy)\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    collection: categories,\n    fetched: fetched,\n    iconsFetched: iconsFetched,\n  }\n}\n\nexport default connect(mapStateToProps)(BudgetCategories)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { terms } from \"../../locales/copy\"\n\nimport { removeErrorMessage } from \"../Messages/actions\"\n\nimport { apiKeyEdited, apiKeyUpdated } from \"../Api/actions\"\n\nimport { Link } from \"react-router-dom\"\n\nconst Form = ({ dispatch, error, keyFormInput }) => {\n\n  const onChange = e => {\n    dispatch(apiKeyEdited(e.target.value))\n  }\n\n  const submit = () => {\n    dispatch(apiKeyUpdated(keyFormInput))\n    dispatch(removeErrorMessage({ type: \"api\", status: 401, errorMessage: error }))\n  }\n\n  const onClick = () => submit()\n\n  const handleKeyDown = e => {\n    if (e.which === 13) { submit() }\n  }\n\n  return (\n    <div className=\"key-form\">\n      <i className=\"fas fa-key fa-rotate-270\" />\n      {\" \"}\n      <input\n        name=\"apiKey\"\n        value={keyFormInput}\n        onChange={onChange}\n        onKeyDown={handleKeyDown}\n        placeholder={terms.apiKey}\n        type=\"password\"\n      />\n      {\" \"}\n      <span className=\"font-green\">\n        <Link\n          to=\"#\"\n          className=\"fas fa-arrow-circle-right\"\n          onClick={onClick}\n        />\n      </span>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({ ...state.api })\n\nexport default connect(mapStateToProps)(Form)\n","import React from \"react\"\n\nimport { errors as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { removeErrorMessage } from \"./actions\"\n\nimport Icon from \"../Icons/Icon\"\nimport KeyForm from \"../Key/Form\"\nimport { Link } from \"react-router-dom\"\n\nexport default ({ dispatch, errorCount, errors, keys }) => {\n  if (errorCount === 0) {\n    return null\n  } else {\n    const heading = errorCount === 1 ? copy.error : copy.errors\n    return (\n      <div className=\"top-level-errors\">\n        <h4>\n          <span className=\"message-heading\">{titleize(heading)}</span>\n        </h4>\n        <div>\n          {keys.map((objkey, index) =>\n            <ErrorGroup\n              key={index}\n              dispatch={dispatch}\n              errors={errors[objkey]}\n              type={objkey}\n            />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ErrorGroup = ({ dispatch, errors, type }) => {\n  const keys = Object.keys(errors)\n  const errorCount = keys.reduce((sum, key) => sum + errors[key].length, 0)\n  if (errorCount === 0) {\n    return null\n  } else {\n    return (\n      <div>\n        <strong className=\"underline\">&bull;{\" \"}{titleize(type)}</strong>\n        {keys.map((status, index) =>\n          <ErrorMessage\n            key={index}\n            dispatch={dispatch}\n            errors={errors[status]}\n            status={status}\n            type={type}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nconst ErrorMessage = (props) => {\n  const { errors, status } = props\n\n  return errors.map((error, index) => (\n    <div className=\"error-message\" key={index}>\n      <Icon className=\"fas fa-exclamation-circle font-red\" />\n      {\" \"}\n      {status}\n      {\" \"}\n      &#9702;\n      {\" \"}\n      {error}\n      {\" \"}\n      {status === \"401\" ? <KeyForm error={error} /> : <RemoveButton error={error} {...props} />}\n    </div>\n  ))\n}\n\nconst RemoveButton = ({ dispatch, error, status, type }) => {\n  const onClick = () => {\n    const action = removeErrorMessage({\n      errorMessage: error,\n      status: status,\n      type: type,\n    })\n    dispatch(action)\n  }\n\n  return (\n    <Link\n      to=\"#\"\n      className=\"fas fa-times\"\n      onClick={onClick}\n    />\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Errors from \"./Errors\"\n\nconst MessageBanner = (props) => {\n  const { errorCount } = props\n  if (errorCount > 0) {\n    return (\n      <div className=\"top-level-messages\">\n        <Errors {...props} />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = state => {\n  const groupedErrors = state.messages.errors.reduce((array, err) => {\n    const keys = Object.keys(err.messages)\n    return [...array, ...keys.map(key => ({ status: key, messages: err.messages[key], type: err.type }))]\n  }, [])\n\n  const types = [...new Set([...groupedErrors.map(err => err.type)])]\n  const errorsByType = types.reduce((object, type) => {\n    object[type] = groupedErrors.filter(err => err.type === type)\n\n    return object\n  }, {})\n\n  const keys = Object.keys(errorsByType)\n  const errors = keys.reduce((object, key) => {\n    const tuples = errorsByType[key]\n    const statuses = tuples.map(tup => tup.status)\n    const combinedStatuses = statuses.reduce((obj, status) => {\n      obj[status] = tuples\n        .filter(tup => tup.status === status)\n        .reduce((list, tup) => [...new Set([...list, ...tup.messages])], [])\n      return obj\n    }, {})\n    object[key] = combinedStatuses\n    return object\n  }, {})\n\n  const errorCount = groupedErrors.reduce((sum, object) => sum + object.messages.length, 0)\n\n  return {\n    errors: errors,\n    errorCount: errorCount,\n    keys: keys,\n  }\n}\n\nexport default connect(mapStateToProps)(MessageBanner)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nimport { toggleEvents } from \"./actions\"\n\nconst Events = ({ dispatch, events, showEvents }) => {\n  const onClick = () => dispatch(toggleEvents())\n\n  if (events.length === 0) {\n    return null\n  } else if (showEvents) {\n    return (\n      <div className=\"top-level-events\">\n        <h3>\n          <Link\n            to=\"#\"\n            onClick={onClick}\n          >\n            <Icon className= \"fas fas-book-open\" />\n            {\" \"}\n            Events\n          </Link>\n        </h3>\n        <div className=\"events\">\n          {events.map((event, index) => (\n            <Event key={index} event={event} />\n          ))}\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"top-level-events\">\n        <h3>\n          <Link\n            to=\"#\"\n            onClick={onClick}\n          >\n            <Icon className= \"fas fas-book\" />\n            {\" \"}\n            Events\n          </Link>\n        </h3>\n      </div>\n    )\n  }\n}\n\nconst Event = ({ event }) => (\n  <div className=\"event-message\">\n    {event}\n  </div>\n)\n\nconst mapStateToProps = state => ({ events: state.messages.events, showEvents: state.messages.showEvents })\n\nexport default connect(mapStateToProps)(Events)\n","import React from \"react\"\n\nimport { NavLink } from \"react-router-dom\"\n\nimport { terms } from \"../locales/terms\"\n\nexport default () => (\n  <header>\n    <h1>{terms.appName}</h1>\n    <NavLink to=\"/accounts\">\n      <div className=\"tab\">\n        <h2>{terms.accounts}</h2>\n      </div>\n    </NavLink>\n    <NavLink to=\"/budget\">\n      <div className=\"tab\">\n        <h2>{terms.budget}</h2>\n      </div>\n    </NavLink>\n  </header>\n)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { update } from \"../actions\"\n\nconst CancelButton = ({ id, dispatch }) => {\n  const cancel = () => {\n    const action = update({ id: id, updatedProps: null, showForm: false })\n    dispatch(action)\n  }\n\n  if (id) {\n    return (\n      <button\n        type=\"cancel\"\n        className=\"cancel\"\n        onClick={cancel}\n      >\n        {titleize(copy.icon.cancelButtonText)}\n      </button>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default connect((_state, ownProps) => ownProps)(CancelButton)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport { resetIcon, resetNew } from \"../actions\"\n\nconst ResetButton = (props) => {\n  const { id } = props\n  const reset = (e) => {\n    e.preventDefault()\n    if (id) {\n      props.dispatch(resetIcon({ id: id }))\n    } else {\n      props.dispatch(resetNew())\n    }\n  }\n\n  return (\n    <button\n      type=\"reset\"\n      className=\"reset\"\n      onClick={reset}\n    >\n      {titleize(copy.icon.resetButtonText)}\n    </button>\n  )\n}\n\nexport default connect((_state, ownProps) => ownProps)(ResetButton)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../../locales/copy\"\nimport { titleize } from \"../../../locales/functions\"\n\nimport CancelButton from \"./CancelButton\"\nimport Icon from \"../Icon\"\nimport ResetButton from \"./ResetButton\"\n\nconst Form = ({ buttonText, class_name, id, name, onChange, onSubmit }) => (\n  <div className=\"icon-form\">\n    <div className=\"icon-form-row\">\n      <div>\n        <label>\n          {titleize(copy.icon.name)}\n        </label>\n      </div>\n      <div>\n        <input\n          name=\"name\"\n          onChange={onChange}\n          value={name}\n        />\n      </div>\n    </div>\n    <div className=\"icon-form-row\">\n      <div>\n        <label>\n          {titleize(copy.icon.className)}\n        </label>\n      </div>\n      <div>\n        <input\n          name=\"class_name\"\n          onChange={onChange}\n          value={class_name}\n        />\n      </div>\n    </div>\n    <div className=\"icon-form-row\">\n      <div className=\"button\">\n        <button\n          type=\"submit\"\n          className=\"submit\"\n          onClick={onSubmit}\n        >\n          {buttonText}\n        </button>\n      </div>\n      <div className=\"button\">\n        <ResetButton\n          id={id}\n        />\n      </div>\n      <div className=\"button\">\n        <CancelButton\n          id={id}\n        />\n      </div>\n    </div>\n    <div className=\"icon-form-row\">\n      <span className=\"preview\">\n        {titleize(copy.icon.preview)}:\n        {\"  \"}\n        <Icon className={class_name} />\n      </span>\n    </div>\n  </div>\n)\n\nconst mapStateToProps = (_state, ownProps) => {\n  const { buttonText, icon, onChange, onSubmit } = ownProps\n  return {\n    buttonText: buttonText,\n    ...icon,\n    onSubmit: onSubmit,\n    onChange: onChange,\n  }\n\n\n}\nexport default connect(mapStateToProps)(Form)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { created, updateNew } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst New = (props) => {\n  const { dispatch } = props\n\n  const onChange = (e) => {\n    const action = updateNew({[e.target.name]: e.target.value })\n    props.dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"icons-index\" })\n    const body = JSON.stringify(props.newIcon)\n    const onSuccess = data => dispatch(created(data))\n    const event = EventMessageBuilder({ eventType: \"icon-create\" })\n    post(url, body, { event: event, onSuccess: onSuccess })\n  }\n\n  return (\n    <Form\n      buttonText={titleize(copy.icon.createButtonText)}\n      icon={props.newIcon}\n      onChange={onChange}\n      onSubmit={onSubmit}\n    />\n  )\n}\n\nconst mapStateToProps = state => ({ newIcon: state.icons.newIcon })\n\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { update, updated, updateProps } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder, { changedProps } from \"../../functions/EventMessageBuilder\"\nimport { put } from \"../../functions/ApiClient\"\n\nimport Form from \"./Form/Form\"\n\nconst Edit = ({ dispatch, icon }) => {\n  const { id, updatedProps } = icon\n\n  const onChange = (e) => {\n    const action = updateProps({ id: id, [e.target.name]: e.target.value })\n    dispatch(action)\n  }\n\n  const onSubmit = () => {\n    const url = ApiUrlBuilder({ route: \"icon-show\", id: id })\n    const body = JSON.stringify(updatedProps)\n    const event = EventMessageBuilder({\n      eventType: \"icon-update\",\n      id: id,\n      changedProps: changedProps(icon, updatedProps),\n    })\n    const onSuccess = data => {\n      dispatch(updated(data))\n      dispatch(update({ id: id, showForm: false }))\n    }\n    put(url, body, { onSuccess: onSuccess, event: event })\n  }\n\n  const formProps = { ...icon, ...icon.updatedProps }\n  return (\n    <Form\n      {...formProps}\n      buttonText={titleize(copy.icon.updateButtonText)}\n      onChange={onChange}\n      onSubmit={onSubmit}\n    />\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Edit)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { budget as copy } from \"../../locales/copy\"\n\nimport { deleted, update } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { Link } from \"react-router-dom\"\n\nimport Edit from \"./Edit\"\nimport Icon from \"./Icon\"\n\nconst Show = ({ dispatch, icon }) => {\n  const { id, class_name, name, showForm } = icon\n\n  const renderForm = (e) => {\n    e.preventDefault()\n    const action = update({ id: id, showForm: true })\n    dispatch(action)\n  }\n\n  const destroy = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(copy.icon.deleteConfirmationMessage(name))\n    const event = EventMessageBuilder({\n      eventType: \"icon-delete\",\n      id: id,\n      name: name,\n    })\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"icon-show\", id: id })\n      deleteRequest(url, event, () => dispatch(deleted(id)))\n    }\n  }\n\n  if (showForm) {\n    return (\n      <div className=\"icon\">\n        <Edit\n          icon={icon}\n        />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"icon\">\n        <div className=\"icon-name\">\n          <Icon className={class_name} />\n          {\" \"}\n          {name}\n        </div>\n        <div className=\"icon-actions\">\n          <Link\n            to=\"#\"\n            className=\"fas fa-edit\"\n            onClick={renderForm}\n          />\n          {\" \"}\n          <Link\n            to=\"#\"\n            onClick={destroy}\n            className=\"fas fa-trash\"\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (_state, ownProps) => ownProps\n\nexport default connect(mapStateToProps)(Show)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { fetched } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport New from \"./New\"\nimport Show from \"./Show\"\n\nconst Index = (props) => {\n  const {\n    dispatch,\n    isApiUnauthorized,\n    collectionFetched,\n    firstColumn,\n    secondColumn,\n  } = props\n\n  if (!isApiUnauthorized && !collectionFetched) {\n    const url = ApiUrlBuilder({ route: \"icons-index\" })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div className=\"icons\">\n      <div className=\"new-icon-form\">\n        <New />\n      </div>\n      <div className=\"column\">\n        {firstColumn.map(icon =>\n          <Show\n            key={icon.id}\n            icon={icon}\n          />\n        )}\n      </div>\n      <div className=\"column\">\n        {secondColumn.map(icon =>\n          <Show\n            key={icon.id}\n            icon={icon}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { fetched } = state.icons\n  const collection = state.icons.collection.sort((a, b) => {\n    return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1\n  })\n  const count = collection.length\n  const columnSize = Math.ceil(count / 2.0)\n  const firstColumn = collection.slice(0, columnSize)\n  const secondColumn = collection.slice(columnSize, (columnSize * 2))\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    isApiUnauthorized: isApiUnauthorized,\n    firstColumn: firstColumn,\n    secondColumn: secondColumn,\n    collectionFetched: fetched,\n    newIcon: state.icons.newIcon,\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","export const created = (payload) => {\n  return { type: \"transfers/CREATED\", payload: payload }\n}\n\nexport const deleted = (payload) => {\n  return { type: \"transfers/DELETED\", payload: payload }\n}\n\nexport const fetched = (payload) => {\n  return { type: \"transfers/FETCHED\", payload: payload }\n}\n\nexport const updateNew = (payload) => {\n  return { type: \"transfers/UPDATE_NEW\", payload: payload }\n}\n\nexport const updatePage = (payload) => {\n  return { type: \"transfers/UPDATE_PAGE\", payload: { currentPage: payload } }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { account as accountCopy, transfer as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { created, updateNew } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\nimport { post } from \"../../functions/ApiClient\"\n\nimport Select from \"react-select\"\n\nconst New = (props) => {\n  const { currentPage, dispatch, fromOptions, fromValue, newTransfer, toOptions, toValue } = props\n  const { amount, from_account_id, to_account_id  } = newTransfer\n\n  const submit = () => {\n    const url = ApiUrlBuilder({ route: \"transfers-index\" })\n    const body = {\n      amount: Math.round(amount * 100),\n      to_account_id: to_account_id,\n      from_account_id: from_account_id,\n    }\n    const event = EventMessageBuilder({\n      eventType: \"transfer-create\",\n      amount: body.amount,\n      fromAccount: fromValue.label,\n      toAccount: toValue.label,\n    })\n    const onSuccess = data => dispatch(created(data))\n    post(url, JSON.stringify(body), { event: event, onSuccess: onSuccess })\n  }\n\n  const updateAmount = (e) => {\n    const action = updateNew({ amount: e.target.value })\n    dispatch(action)\n  }\n\n  const updateToAccount = (e) => {\n    const action = updateNew({ to_account_id: e.value })\n    dispatch(action)\n  }\n\n  const updateFromAccount = (e) => {\n    const action = updateNew({ from_account_id: e.value })\n    dispatch(action)\n  }\n\n  if (currentPage === 1) {\n    return (\n      <div className=\"new-transfer-form\">\n        <div className=\"transfer-account-select\">\n          {titleize(`${copy.from} ${accountCopy.account}`)}:\n          <Select\n            options={fromOptions}\n            onChange={updateFromAccount}\n            value={fromValue}\n          />\n        </div>\n        <div className=\"transfer-account-select\">\n          {titleize(`${copy.to} ${accountCopy.account}`)}:\n          <Select\n            options={toOptions}\n            onChange={updateToAccount}\n            value={toValue}\n          />\n        </div>\n        <input\n          value={amount}\n          onChange={updateAmount}\n          placeholder=\"amount\"\n        />\n        <button\n          type=\"submit\"\n          onClick={submit}\n        >\n          Submit\n        </button>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { newTransfer } = state.transfers\n  const { from_account_id, to_account_id } = newTransfer\n\n  const accounts = state.accounts.collection\n  const nullOption = { value: null, label: \"\" }\n  const fromOptions = accounts.filter(account => account.id !== to_account_id)\n    .map(account => (\n      { value: account.id, label: account.name }\n    ))\n  const toOptions = accounts.filter(account => account.id !== from_account_id)\n    .map(account => (\n      { value: account.id, label: account.name }\n    ))\n  const options = {\n    from: [nullOption, ...fromOptions],\n    to: [nullOption, ...toOptions]\n  }\n  const fromValue = options.from.find(opt => opt.value === from_account_id)\n  const toValue = options.to.find(opt => opt.value === to_account_id)\n\n  return {\n    newTransfer: newTransfer,\n    fromOptions: options.from,\n    fromValue: fromValue,\n    toOptions: options.to,\n    toValue: toValue,\n    currentPage: state.transfers.metadata.currentPage,\n  }\n}\n\nexport default connect(mapStateToProps)(New)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transfer as copy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { updatePage } from \"./actions\"\n\nimport Icon from \"../Icons/Icon\"\nimport { Link } from \"react-router-dom\"\n\nconst PaginationLinks = ({ dispatch, metadata }) => {\n  const { currentPage, limit, total } = metadata\n  const totalPages = Math.ceil(total / limit)\n\n  const viewFirst = (e) => {\n    e.preventDefault()\n    const action = updatePage(1)\n    dispatch(action)\n  }\n\n  const viewPrevious = (e) => {\n    e.preventDefault()\n    const action = updatePage(currentPage - 1)\n    dispatch(action)\n  }\n\n  const viewNext = (e) => {\n    e.preventDefault()\n    const action = updatePage(currentPage + 1)\n    dispatch(action)\n  }\n\n  const viewLast = (e) => {\n    e.preventDefault()\n    const action = updatePage(totalPages)\n    dispatch(action)\n  }\n\n  return (\n    <div className=\"transfers-pagination\">\n      <LinkToFirst\n        currentPage={currentPage}\n        onClick={viewFirst}\n        totalPages={totalPages}\n      />\n      {\" \"}\n      <LinkToPrevious\n        currentPage={currentPage}\n        onClick={viewPrevious}\n      />\n      <Ellipsis\n        currentPage={currentPage}\n        totalPages={totalPages}\n      />\n      <LinkToNext\n        currentPage={currentPage}\n        onClick={viewNext}\n        totalPages={totalPages}\n      />\n      {\" \"}\n      <LinkToLast\n        currentPage={currentPage}\n        onClick={viewLast}\n        totalPages={totalPages}\n      />\n    </div>\n  )\n}\n\nconst LinkToFirst = ({ currentPage, onClick, totalPages }) => {\n  if (totalPages > 1 && currentPage > 1) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        <Icon className=\"fas fa-angle-double-left\" />\n        {\" \"}\n        {titleize(copy.first)}\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst LinkToPrevious = ({ currentPage, onClick }) => {\n  if (currentPage > 2) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        <Icon className=\"fas fa-caret-left\" />\n        {\" \"}\n        {titleize(copy.previous)}\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst Ellipsis = ({ currentPage, totalPages }) => {\n  if (currentPage === 1 || totalPages === currentPage) {\n    return null\n  } else {\n    return (\n      <span>{copy.ellipsis}</span>\n    )\n  }\n}\n\nconst LinkToNext = ({ currentPage, onClick, totalPages }) => {\n  if (currentPage < (totalPages - 1)) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        {titleize(copy.next)}\n        {\" \"}\n        <Icon className=\"fas fa-caret-right\" />\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst LinkToLast = ({ currentPage, onClick, totalPages }) => {\n  if (currentPage < totalPages) {\n    return (\n      <Link\n        to=\"#\"\n        onClick={onClick}\n      >\n        {titleize(copy.last)}\n        {\" \"}\n        <Icon className=\"fas fa-angle-double-right\" />\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { metadata: state.transfers.metadata }\n}\n\nexport default connect(mapStateToProps)(PaginationLinks)\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transfer as copy } from \"../../locales/copy\"\nimport { deleted } from \"./actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { deleteRequest } from \"../../functions/ApiClient\"\nimport EventMessageBuilder from \"../../functions/EventMessageBuilder\"\n\nimport { Link } from \"react-router-dom\"\n\nconst DeleteButton = ({ amount, apiKey, from_account_id, dispatch, id, to_account_id }) => {\n  const onClick = (e) => {\n    e.preventDefault()\n    const confirmation = window.confirm(copy.deleteConfirmationMessage)\n    if (confirmation) {\n      const url = ApiUrlBuilder({ route: \"transfer-show\", id: id })\n      const event = EventMessageBuilder({\n        eventType: \"transfer-delete\",\n        id: id,\n        fromAccountId: from_account_id,\n        toAccountId: to_account_id,\n        amount: amount,\n      })\n      const onSuccess = () => {\n        dispatch(deleted({\n          id: id,\n          amount: amount,\n          from_account_id: from_account_id,\n          to_account_id: to_account_id,\n        }))\n      }\n      deleteRequest(url, event, onSuccess)\n    }\n  }\n\n  return (\n    <div className=\"transfer-delete\">\n      <Link\n        to=\"#\"\n        onClick={onClick}\n        className=\"fas fa-trash\"\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (_state, ownProps) => ({ id: ownProps.id })\n\nexport default connect(mapStateToProps)(DeleteButton)\n","import React from \"react\"\n\nimport * as DateFormatter from \"../../functions/DateFormatter\"\nimport MoneyFormatter from \"../../functions/MoneyFormatter\"\n\nimport DeleteButton from \"./DeleteButton\"\n\nexport default ({ from_transaction, id, to_transaction }) => {\n  const { amount } = to_transaction\n  const clearanceDate = () => {\n    if (from_transaction.clearance_date) {\n      return DateFormatter.fromDateString(from_transaction.clearance_date)\n    } else if (to_transaction.clearance_date) {\n      return DateFormatter.fromDateString(to_transaction.clearance_date)\n    } else {\n      return \"pending\"\n    }\n  }\n\n  return (\n    <div className=\"transfer\">\n      <div className=\"clearance-date\">\n        {clearanceDate()}\n      </div>\n      <div className=\"from-account\">\n        {from_transaction.account_name}\n      </div>\n      <div className=\"to-account\">\n        {to_transaction.account_name}\n      </div>\n      <div className=\"amount\">\n        {MoneyFormatter(to_transaction.amount)}\n      </div>\n      <DeleteButton\n        id={id}\n        amount={amount}\n        from_account_id={from_transaction.account_id}\n        to_account_id={to_transaction.account_id}\n      />\n    </div>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\n\nimport { transfer as copy, transaction as txnCopy } from \"../../locales/copy\"\nimport { titleize } from \"../../locales/functions\"\n\nimport { fetched } from \"./actions\"\nimport { fetched as renderAccounts } from \"../Accounts/actions\"\n\nimport ApiUrlBuilder from \"../../functions/ApiUrlBuilder\"\nimport { get } from \"../../functions/ApiClient\"\n\nimport Tabs from \"../Accounts/Tabs\"\nimport Icon from \"../Icons/Icon\"\nimport NewTransfer from \"./NewTransfer\"\nimport PaginationLinks from \"./PaginationLinks\"\nimport Transfer from \"./Transfer\"\n\nconst Index = (props) => {\n  const { accounts, accountsFetched, isApiUnauthorized, collection, dispatch, fetchedTransfers, metadata } = props\n  const { currentPage, total, viewing } = metadata\n\n  if(!isApiUnauthorized && !accountsFetched) {\n    const url = ApiUrlBuilder({ route: \"accounts-index\" })\n    const onSuccess = data => dispatch(renderAccounts(data))\n    get(url, onSuccess)\n  }\n\n  if (!isApiUnauthorized && accountsFetched && !fetchedTransfers) {\n    const url = ApiUrlBuilder({ route: \"transfers-index\", query: { page: currentPage } })\n    const onSuccess = data => dispatch(fetched(data))\n    get(url, onSuccess)\n  }\n\n  return (\n    <div>\n      <div className=\"accounts\">\n        <Tabs\n          collection={accounts}\n          selectedAccountId={0}\n        />\n      </div>\n      <div className=\"transfers\">\n        <h2>{titleize(copy.title)}</h2>\n        <hr/>\n\n        {copy.iOfN(viewing, total)}\n        <div className=\"transfer\">\n          <div className=\"clearance-date\">\n            {titleize(txnCopy.clearanceDate)}\n            {\" \"}\n            <Icon className=\"fas fa-calendar-alt\" />\n          </div>\n          <div className=\"from-account\">\n            {titleize(copy.from)}\n          </div>\n          <div className=\"to-account\">\n            {titleize(copy.to)}\n          </div>\n          <div className=\"amount\">\n            {titleize(txnCopy.amount)}\n          </div>\n        </div>\n        {collection.map(transfer => (\n          <Transfer key={transfer.id} {...transfer} />\n        ))}\n        <hr />\n        <NewTransfer />\n        <PaginationLinks />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const date = new Date()\n  const today = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().slice(0,10)\n  const { accountsFetched } = state.accounts\n\n  const collection = state.transfers.collection.sort((a, b) => {\n    if (a.from_transaction.clearance_date === b.from_transaction.clearance_date) {\n      return 0\n    } else if (a.from_transaction.clearance_date === null) {\n      return b.from_transaction.clearance_date > today ? -1 : 1\n    } else if (b.from_transaction.clearance_date === null) {\n      return a.from_transaction.clearance_date > today ? 1 : -1\n    } else {\n      // equailty is handled above\n      return (a.from_transaction.clearance_date > b.from_transaction.clearance_date) ? 1 : -1\n    }\n  })\n\n  const isApiUnauthorized = state.api.status === 401\n\n  return {\n    ...state.transfers,\n    accounts: state.accounts.collection,\n    collection: collection,\n    accountsFetched: accountsFetched,\n    isApiUnauthorized: isApiUnauthorized,\n  }\n}\n\nexport default connect(mapStateToProps)(Index)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './components/index.css';\nimport './components/Accounts/_account.css';\nimport './components/Budget/_budget.css';\nimport \"./components/Icons/_icons.css\"\nimport './components/Transactions/_transaction.css';\nimport './components/Transactions/_transaction_form.css';\nimport './components/Transfers/_transfers.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\"\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"./store\"\nimport AccountWrapper from \"./components/Accounts/Wrapper\"\nimport AccountIndex from \"./components/Accounts/Index\"\nimport BudgetFinalizeIndex from \"./components/Budget/Finalize/Index\"\nimport BudgetFinalizeAccruals from \"./components/Budget/Finalize/Accruals\"\nimport BudgetFinalizeFinish from \"./components/Budget/Finalize/Finish\"\nimport BudgetFinalizeItems from \"./components/Budget/Finalize/Items\"\nimport BudgetHome from \"./components/Budget/Home\"\nimport BudgetIndex from \"./components/Budget/Index\"\nimport BudgetSetUpAccruals from \"./components/Budget/SetUp/Accruals\"\nimport BudgetSetUpExpenses from \"./components/Budget/SetUp/Expenses\"\nimport BudgetSetUpFinalize from \"./components/Budget/SetUp/Finalize\"\nimport BudgetSetUpIntro from \"./components/Budget/SetUp/Introduction\"\nimport BudgetSetUpRevenues from \"./components/Budget/SetUp/Revenues\"\nimport BudgetCategories from \"./components/Budget/Categories/Index\"\nimport BannerMessages from \"./components/Messages/Banner\"\nimport Events from \"./components/Messages/Events\"\nimport Header from \"./components/Header\"\nimport Icons from \"./components/Icons/Index\"\nimport Transfers from \"./components/Transfers/Index\"\nimport \"./App.css\"\n\n\nexport default () => (\n  <div className=\"App\">\n    <Provider store={store}>\n      <Router>\n        <div>\n          <Header />\n          <BannerMessages />\n          <Switch>\n            <Route exact path=\"/accounts\" component={AccountWrapper} />\n            <Route exact path=\"/accounts/index\" component={AccountIndex} />\n            <Route exact path=\"/accounts/transfers\" component={Transfers} />\n            <Route path=\"/accounts/:slug/:month?/:year?\" component={AccountWrapper} />\n            <Route path=\"/accounts/:slug/\" component={AccountWrapper} />\n            <Route exact path=\"/budget/categories\" component={BudgetCategories} />\n            <Route exact path=\"/budget/icons\" component={Icons} />\n            <Route exact path=\"/budget/:month/:year\" component={BudgetIndex} />\n            <Route path=\"/budget/finalize/:month/:year/start\" component={BudgetFinalizeIndex} />\n            <Route path=\"/budget/finalize/:month/:year/accruals\" component={BudgetFinalizeAccruals} />\n            <Route path=\"/budget/finalize/:month/:year/finish\" component={BudgetFinalizeFinish} />\n            <Route path=\"/budget/finalize/:month/:year/items\" component={BudgetFinalizeItems} />\n            <Route path=\"/budget/set-up/:month/:year/accruals\" component={BudgetSetUpAccruals} />\n            <Route path=\"/budget/set-up/:month/:year/expenses\" component={BudgetSetUpExpenses} />\n            <Route path=\"/budget/set-up/:month/:year/finalize\" component={BudgetSetUpFinalize} />\n            <Route path=\"/budget/set-up/:month/:year/intro\" component={BudgetSetUpIntro} />\n            <Route path=\"/budget/set-up/:month/:year/revenues\" component={BudgetSetUpRevenues} />\n            <Route exact path=\"/budget/:month?/:year?\" component={BudgetHome} />\n          </Switch>\n          <Events />\n        </div>\n      </Router>\n    </Provider>\n  </div>\n)\n"],"sourceRoot":""}